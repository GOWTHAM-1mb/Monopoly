var Mg=Object.defineProperty;var Og=(e,t,n)=>t in e?Mg(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var xe=(e,t,n)=>(Og(e,typeof t!="symbol"?t+"":t,n),n);var Yi=(e,t,n)=>{if(t.has(e))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(e):t.set(e,n)};function Hf(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in e)){const a=Object.getOwnPropertyDescriptor(r,i);a&&Object.defineProperty(e,i,a.get?a:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const o of a.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(i){if(i.ep)return;i.ep=!0;const a=n(i);fetch(i.href,a)}})();var Ce=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Gf(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function Ig(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var n=function r(){return this instanceof r?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(r){var i=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return e[r]}})}),n}var qf={exports:{}},Ps={},Vf={exports:{}},Se={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ro=Symbol.for("react.element"),Lg=Symbol.for("react.portal"),Ng=Symbol.for("react.fragment"),$g=Symbol.for("react.strict_mode"),Ug=Symbol.for("react.profiler"),Jg=Symbol.for("react.provider"),zg=Symbol.for("react.context"),Kg=Symbol.for("react.forward_ref"),Hg=Symbol.for("react.suspense"),Gg=Symbol.for("react.memo"),qg=Symbol.for("react.lazy"),e0=Symbol.iterator;function Vg(e){return e===null||typeof e!="object"?null:(e=e0&&e[e0]||e["@@iterator"],typeof e=="function"?e:null)}var Wf={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Yf=Object.assign,Qf={};function qi(e,t,n){this.props=e,this.context=t,this.refs=Qf,this.updater=n||Wf}qi.prototype.isReactComponent={};qi.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};qi.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Xf(){}Xf.prototype=qi.prototype;function zu(e,t,n){this.props=e,this.context=t,this.refs=Qf,this.updater=n||Wf}var Ku=zu.prototype=new Xf;Ku.constructor=zu;Yf(Ku,qi.prototype);Ku.isPureReactComponent=!0;var t0=Array.isArray,Zf=Object.prototype.hasOwnProperty,Hu={current:null},ep={key:!0,ref:!0,__self:!0,__source:!0};function tp(e,t,n){var r,i={},a=null,o=null;if(t!=null)for(r in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(a=""+t.key),t)Zf.call(t,r)&&!ep.hasOwnProperty(r)&&(i[r]=t[r]);var s=arguments.length-2;if(s===1)i.children=n;else if(1<s){for(var l=Array(s),c=0;c<s;c++)l[c]=arguments[c+2];i.children=l}if(e&&e.defaultProps)for(r in s=e.defaultProps,s)i[r]===void 0&&(i[r]=s[r]);return{$$typeof:ro,type:e,key:a,ref:o,props:i,_owner:Hu.current}}function Wg(e,t){return{$$typeof:ro,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Gu(e){return typeof e=="object"&&e!==null&&e.$$typeof===ro}function Yg(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var n0=/\/+/g;function Xs(e,t){return typeof e=="object"&&e!==null&&e.key!=null?Yg(""+e.key):t.toString(36)}function Fo(e,t,n,r,i){var a=typeof e;(a==="undefined"||a==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(a){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case ro:case Lg:o=!0}}if(o)return o=e,i=i(o),e=r===""?"."+Xs(o,0):r,t0(i)?(n="",e!=null&&(n=e.replace(n0,"$&/")+"/"),Fo(i,t,n,"",function(c){return c})):i!=null&&(Gu(i)&&(i=Wg(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(n0,"$&/")+"/")+e)),t.push(i)),1;if(o=0,r=r===""?".":r+":",t0(e))for(var s=0;s<e.length;s++){a=e[s];var l=r+Xs(a,s);o+=Fo(a,t,n,l,i)}else if(l=Vg(e),typeof l=="function")for(e=l.call(e),s=0;!(a=e.next()).done;)a=a.value,l=r+Xs(a,s++),o+=Fo(a,t,n,l,i);else if(a==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function fo(e,t,n){if(e==null)return e;var r=[],i=0;return Fo(e,r,"","",function(a){return t.call(n,a,i++)}),r}function Qg(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var zt={current:null},Mo={transition:null},Xg={ReactCurrentDispatcher:zt,ReactCurrentBatchConfig:Mo,ReactCurrentOwner:Hu};Se.Children={map:fo,forEach:function(e,t,n){fo(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return fo(e,function(){t++}),t},toArray:function(e){return fo(e,function(t){return t})||[]},only:function(e){if(!Gu(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Se.Component=qi;Se.Fragment=Ng;Se.Profiler=Ug;Se.PureComponent=zu;Se.StrictMode=$g;Se.Suspense=Hg;Se.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Xg;Se.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=Yf({},e.props),i=e.key,a=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(a=t.ref,o=Hu.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var s=e.type.defaultProps;for(l in t)Zf.call(t,l)&&!ep.hasOwnProperty(l)&&(r[l]=t[l]===void 0&&s!==void 0?s[l]:t[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){s=Array(l);for(var c=0;c<l;c++)s[c]=arguments[c+2];r.children=s}return{$$typeof:ro,type:e.type,key:i,ref:a,props:r,_owner:o}};Se.createContext=function(e){return e={$$typeof:zg,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:Jg,_context:e},e.Consumer=e};Se.createElement=tp;Se.createFactory=function(e){var t=tp.bind(null,e);return t.type=e,t};Se.createRef=function(){return{current:null}};Se.forwardRef=function(e){return{$$typeof:Kg,render:e}};Se.isValidElement=Gu;Se.lazy=function(e){return{$$typeof:qg,_payload:{_status:-1,_result:e},_init:Qg}};Se.memo=function(e,t){return{$$typeof:Gg,type:e,compare:t===void 0?null:t}};Se.startTransition=function(e){var t=Mo.transition;Mo.transition={};try{e()}finally{Mo.transition=t}};Se.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};Se.useCallback=function(e,t){return zt.current.useCallback(e,t)};Se.useContext=function(e){return zt.current.useContext(e)};Se.useDebugValue=function(){};Se.useDeferredValue=function(e){return zt.current.useDeferredValue(e)};Se.useEffect=function(e,t){return zt.current.useEffect(e,t)};Se.useId=function(){return zt.current.useId()};Se.useImperativeHandle=function(e,t,n){return zt.current.useImperativeHandle(e,t,n)};Se.useInsertionEffect=function(e,t){return zt.current.useInsertionEffect(e,t)};Se.useLayoutEffect=function(e,t){return zt.current.useLayoutEffect(e,t)};Se.useMemo=function(e,t){return zt.current.useMemo(e,t)};Se.useReducer=function(e,t,n){return zt.current.useReducer(e,t,n)};Se.useRef=function(e){return zt.current.useRef(e)};Se.useState=function(e){return zt.current.useState(e)};Se.useSyncExternalStore=function(e,t,n){return zt.current.useSyncExternalStore(e,t,n)};Se.useTransition=function(){return zt.current.useTransition()};Se.version="18.2.0";Vf.exports=Se;var L=Vf.exports;const Zg=Gf(L),ev=Hf({__proto__:null,default:Zg},[L]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var tv=L,nv=Symbol.for("react.element"),rv=Symbol.for("react.fragment"),iv=Object.prototype.hasOwnProperty,av=tv.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,ov={key:!0,ref:!0,__self:!0,__source:!0};function np(e,t,n){var r,i={},a=null,o=null;n!==void 0&&(a=""+n),t.key!==void 0&&(a=""+t.key),t.ref!==void 0&&(o=t.ref);for(r in t)iv.call(t,r)&&!ov.hasOwnProperty(r)&&(i[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)i[r]===void 0&&(i[r]=t[r]);return{$$typeof:nv,type:e,key:a,ref:o,props:i,_owner:av.current}}Ps.Fragment=rv;Ps.jsx=np;Ps.jsxs=np;qf.exports=Ps;var d=qf.exports,xc={},rp={exports:{}},ln={},ip={exports:{}},ap={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(F,H){var U=F.length;F.push(H);e:for(;0<U;){var T=U-1>>>1,O=F[T];if(0<i(O,H))F[T]=H,F[U]=O,U=T;else break e}}function n(F){return F.length===0?null:F[0]}function r(F){if(F.length===0)return null;var H=F[0],U=F.pop();if(U!==H){F[0]=U;e:for(var T=0,O=F.length,$=O>>>1;T<$;){var B=2*(T+1)-1,W=F[B],ce=B+1,he=F[ce];if(0>i(W,U))ce<O&&0>i(he,W)?(F[T]=he,F[ce]=U,T=ce):(F[T]=W,F[B]=U,T=B);else if(ce<O&&0>i(he,U))F[T]=he,F[ce]=U,T=ce;else break e}}return H}function i(F,H){var U=F.sortIndex-H.sortIndex;return U!==0?U:F.id-H.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;e.unstable_now=function(){return a.now()}}else{var o=Date,s=o.now();e.unstable_now=function(){return o.now()-s}}var l=[],c=[],u=1,m=null,f=3,g=!1,v=!1,C=!1,_=typeof setTimeout=="function"?setTimeout:null,x=typeof clearTimeout=="function"?clearTimeout:null,y=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function h(F){for(var H=n(c);H!==null;){if(H.callback===null)r(c);else if(H.startTime<=F)r(c),H.sortIndex=H.expirationTime,t(l,H);else break;H=n(c)}}function p(F){if(C=!1,h(F),!v)if(n(l)!==null)v=!0,K(w);else{var H=n(c);H!==null&&z(p,H.startTime-F)}}function w(F,H){v=!1,C&&(C=!1,x(A),A=-1),g=!0;var U=f;try{for(h(H),m=n(l);m!==null&&(!(m.expirationTime>H)||F&&!P());){var T=m.callback;if(typeof T=="function"){m.callback=null,f=m.priorityLevel;var O=T(m.expirationTime<=H);H=e.unstable_now(),typeof O=="function"?m.callback=O:m===n(l)&&r(l),h(H)}else r(l);m=n(l)}if(m!==null)var $=!0;else{var B=n(c);B!==null&&z(p,B.startTime-H),$=!1}return $}finally{m=null,f=U,g=!1}}var S=!1,k=null,A=-1,j=5,b=-1;function P(){return!(e.unstable_now()-b<j)}function R(){if(k!==null){var F=e.unstable_now();b=F;var H=!0;try{H=k(!0,F)}finally{H?D():(S=!1,k=null)}}else S=!1}var D;if(typeof y=="function")D=function(){y(R)};else if(typeof MessageChannel<"u"){var E=new MessageChannel,J=E.port2;E.port1.onmessage=R,D=function(){J.postMessage(null)}}else D=function(){_(R,0)};function K(F){k=F,S||(S=!0,D())}function z(F,H){A=_(function(){F(e.unstable_now())},H)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(F){F.callback=null},e.unstable_continueExecution=function(){v||g||(v=!0,K(w))},e.unstable_forceFrameRate=function(F){0>F||125<F?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):j=0<F?Math.floor(1e3/F):5},e.unstable_getCurrentPriorityLevel=function(){return f},e.unstable_getFirstCallbackNode=function(){return n(l)},e.unstable_next=function(F){switch(f){case 1:case 2:case 3:var H=3;break;default:H=f}var U=f;f=H;try{return F()}finally{f=U}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(F,H){switch(F){case 1:case 2:case 3:case 4:case 5:break;default:F=3}var U=f;f=F;try{return H()}finally{f=U}},e.unstable_scheduleCallback=function(F,H,U){var T=e.unstable_now();switch(typeof U=="object"&&U!==null?(U=U.delay,U=typeof U=="number"&&0<U?T+U:T):U=T,F){case 1:var O=-1;break;case 2:O=250;break;case 5:O=1073741823;break;case 4:O=1e4;break;default:O=5e3}return O=U+O,F={id:u++,callback:H,priorityLevel:F,startTime:U,expirationTime:O,sortIndex:-1},U>T?(F.sortIndex=U,t(c,F),n(l)===null&&F===n(c)&&(C?(x(A),A=-1):C=!0,z(p,U-T))):(F.sortIndex=O,t(l,F),v||g||(v=!0,K(w))),F},e.unstable_shouldYield=P,e.unstable_wrapCallback=function(F){var H=f;return function(){var U=f;f=H;try{return F.apply(this,arguments)}finally{f=U}}}})(ap);ip.exports=ap;var sv=ip.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var op=L,sn=sv;function V(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var sp=new Set,Da={};function Wr(e,t){Ni(e,t),Ni(e+"Capture",t)}function Ni(e,t){for(Da[e]=t,e=0;e<t.length;e++)sp.add(t[e])}var Kn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Cc=Object.prototype.hasOwnProperty,lv=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,r0={},i0={};function cv(e){return Cc.call(i0,e)?!0:Cc.call(r0,e)?!1:lv.test(e)?i0[e]=!0:(r0[e]=!0,!1)}function uv(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function dv(e,t,n,r){if(t===null||typeof t>"u"||uv(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Kt(e,t,n,r,i,a,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=o}var Rt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Rt[e]=new Kt(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Rt[t]=new Kt(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Rt[e]=new Kt(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Rt[e]=new Kt(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Rt[e]=new Kt(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Rt[e]=new Kt(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Rt[e]=new Kt(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Rt[e]=new Kt(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Rt[e]=new Kt(e,5,!1,e.toLowerCase(),null,!1,!1)});var qu=/[\-:]([a-z])/g;function Vu(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(qu,Vu);Rt[t]=new Kt(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(qu,Vu);Rt[t]=new Kt(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(qu,Vu);Rt[t]=new Kt(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Rt[e]=new Kt(e,1,!1,e.toLowerCase(),null,!1,!1)});Rt.xlinkHref=new Kt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Rt[e]=new Kt(e,1,!1,e.toLowerCase(),null,!0,!0)});function Wu(e,t,n,r){var i=Rt.hasOwnProperty(t)?Rt[t]:null;(i!==null?i.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(dv(t,n,i,r)&&(n=null),r||i===null?cv(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=n===null?i.type===3?!1:"":n:(t=i.attributeName,r=i.attributeNamespace,n===null?e.removeAttribute(t):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var Vn=op.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,po=Symbol.for("react.element"),fi=Symbol.for("react.portal"),pi=Symbol.for("react.fragment"),Yu=Symbol.for("react.strict_mode"),_c=Symbol.for("react.profiler"),lp=Symbol.for("react.provider"),cp=Symbol.for("react.context"),Qu=Symbol.for("react.forward_ref"),bc=Symbol.for("react.suspense"),wc=Symbol.for("react.suspense_list"),Xu=Symbol.for("react.memo"),er=Symbol.for("react.lazy"),up=Symbol.for("react.offscreen"),a0=Symbol.iterator;function Qi(e){return e===null||typeof e!="object"?null:(e=a0&&e[a0]||e["@@iterator"],typeof e=="function"?e:null)}var tt=Object.assign,Zs;function ua(e){if(Zs===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Zs=t&&t[1]||""}return`
`+Zs+e}var el=!1;function tl(e,t){if(!e||el)return"";el=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),a=r.stack.split(`
`),o=i.length-1,s=a.length-1;1<=o&&0<=s&&i[o]!==a[s];)s--;for(;1<=o&&0<=s;o--,s--)if(i[o]!==a[s]){if(o!==1||s!==1)do if(o--,s--,0>s||i[o]!==a[s]){var l=`
`+i[o].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}while(1<=o&&0<=s);break}}}finally{el=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?ua(e):""}function hv(e){switch(e.tag){case 5:return ua(e.type);case 16:return ua("Lazy");case 13:return ua("Suspense");case 19:return ua("SuspenseList");case 0:case 2:case 15:return e=tl(e.type,!1),e;case 11:return e=tl(e.type.render,!1),e;case 1:return e=tl(e.type,!0),e;default:return""}}function Sc(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case pi:return"Fragment";case fi:return"Portal";case _c:return"Profiler";case Yu:return"StrictMode";case bc:return"Suspense";case wc:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case cp:return(e.displayName||"Context")+".Consumer";case lp:return(e._context.displayName||"Context")+".Provider";case Qu:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Xu:return t=e.displayName||null,t!==null?t:Sc(e.type)||"Memo";case er:t=e._payload,e=e._init;try{return Sc(e(t))}catch{}}return null}function fv(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Sc(t);case 8:return t===Yu?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function xr(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function dp(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function pv(e){var t=dp(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,a.call(this,o)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function mo(e){e._valueTracker||(e._valueTracker=pv(e))}function hp(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=dp(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function Zo(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Ec(e,t){var n=t.checked;return tt({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function o0(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=xr(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function fp(e,t){t=t.checked,t!=null&&Wu(e,"checked",t,!1)}function Ac(e,t){fp(e,t);var n=xr(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?kc(e,t.type,n):t.hasOwnProperty("defaultValue")&&kc(e,t.type,xr(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function s0(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function kc(e,t,n){(t!=="number"||Zo(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var da=Array.isArray;function Pi(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+xr(n),t=null,i=0;i<e.length;i++){if(e[i].value===n){e[i].selected=!0,r&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function Rc(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(V(91));return tt({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function l0(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(V(92));if(da(n)){if(1<n.length)throw Error(V(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:xr(n)}}function pp(e,t){var n=xr(t.value),r=xr(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function c0(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function mp(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Pc(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?mp(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var yo,yp=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,i){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(yo=yo||document.createElement("div"),yo.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=yo.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function ja(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var ga={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},mv=["Webkit","ms","Moz","O"];Object.keys(ga).forEach(function(e){mv.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),ga[t]=ga[e]})});function gp(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||ga.hasOwnProperty(e)&&ga[e]?(""+t).trim():t+"px"}function vp(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=gp(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}var yv=tt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Tc(e,t){if(t){if(yv[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(V(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(V(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(V(61))}if(t.style!=null&&typeof t.style!="object")throw Error(V(62))}}function Dc(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var jc=null;function Zu(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Bc=null,Ti=null,Di=null;function u0(e){if(e=oo(e)){if(typeof Bc!="function")throw Error(V(280));var t=e.stateNode;t&&(t=Fs(t),Bc(e.stateNode,e.type,t))}}function xp(e){Ti?Di?Di.push(e):Di=[e]:Ti=e}function Cp(){if(Ti){var e=Ti,t=Di;if(Di=Ti=null,u0(e),t)for(e=0;e<t.length;e++)u0(t[e])}}function _p(e,t){return e(t)}function bp(){}var nl=!1;function wp(e,t,n){if(nl)return e(t,n);nl=!0;try{return _p(e,t,n)}finally{nl=!1,(Ti!==null||Di!==null)&&(bp(),Cp())}}function Ba(e,t){var n=e.stateNode;if(n===null)return null;var r=Fs(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(V(231,t,typeof n));return n}var Fc=!1;if(Kn)try{var Xi={};Object.defineProperty(Xi,"passive",{get:function(){Fc=!0}}),window.addEventListener("test",Xi,Xi),window.removeEventListener("test",Xi,Xi)}catch{Fc=!1}function gv(e,t,n,r,i,a,o,s,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(u){this.onError(u)}}var va=!1,es=null,ts=!1,Mc=null,vv={onError:function(e){va=!0,es=e}};function xv(e,t,n,r,i,a,o,s,l){va=!1,es=null,gv.apply(vv,arguments)}function Cv(e,t,n,r,i,a,o,s,l){if(xv.apply(this,arguments),va){if(va){var c=es;va=!1,es=null}else throw Error(V(198));ts||(ts=!0,Mc=c)}}function Yr(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function Sp(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function d0(e){if(Yr(e)!==e)throw Error(V(188))}function _v(e){var t=e.alternate;if(!t){if(t=Yr(e),t===null)throw Error(V(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(i===null)break;var a=i.alternate;if(a===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===n)return d0(i),e;if(a===r)return d0(i),t;a=a.sibling}throw Error(V(188))}if(n.return!==r.return)n=i,r=a;else{for(var o=!1,s=i.child;s;){if(s===n){o=!0,n=i,r=a;break}if(s===r){o=!0,r=i,n=a;break}s=s.sibling}if(!o){for(s=a.child;s;){if(s===n){o=!0,n=a,r=i;break}if(s===r){o=!0,r=a,n=i;break}s=s.sibling}if(!o)throw Error(V(189))}}if(n.alternate!==r)throw Error(V(190))}if(n.tag!==3)throw Error(V(188));return n.stateNode.current===n?e:t}function Ep(e){return e=_v(e),e!==null?Ap(e):null}function Ap(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Ap(e);if(t!==null)return t;e=e.sibling}return null}var kp=sn.unstable_scheduleCallback,h0=sn.unstable_cancelCallback,bv=sn.unstable_shouldYield,wv=sn.unstable_requestPaint,lt=sn.unstable_now,Sv=sn.unstable_getCurrentPriorityLevel,ed=sn.unstable_ImmediatePriority,Rp=sn.unstable_UserBlockingPriority,ns=sn.unstable_NormalPriority,Ev=sn.unstable_LowPriority,Pp=sn.unstable_IdlePriority,Ts=null,On=null;function Av(e){if(On&&typeof On.onCommitFiberRoot=="function")try{On.onCommitFiberRoot(Ts,e,void 0,(e.current.flags&128)===128)}catch{}}var Tn=Math.clz32?Math.clz32:Pv,kv=Math.log,Rv=Math.LN2;function Pv(e){return e>>>=0,e===0?32:31-(kv(e)/Rv|0)|0}var go=64,vo=4194304;function ha(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function rs(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,i=e.suspendedLanes,a=e.pingedLanes,o=n&268435455;if(o!==0){var s=o&~i;s!==0?r=ha(s):(a&=o,a!==0&&(r=ha(a)))}else o=n&~i,o!==0?r=ha(o):a!==0&&(r=ha(a));if(r===0)return 0;if(t!==0&&t!==r&&!(t&i)&&(i=r&-r,a=t&-t,i>=a||i===16&&(a&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-Tn(t),i=1<<n,r|=e[n],t&=~i;return r}function Tv(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Dv(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,a=e.pendingLanes;0<a;){var o=31-Tn(a),s=1<<o,l=i[o];l===-1?(!(s&n)||s&r)&&(i[o]=Tv(s,t)):l<=t&&(e.expiredLanes|=s),a&=~s}}function Oc(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Tp(){var e=go;return go<<=1,!(go&4194240)&&(go=64),e}function rl(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function io(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Tn(t),e[t]=n}function jv(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-Tn(n),a=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~a}}function td(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-Tn(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var Ue=0;function Dp(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var jp,nd,Bp,Fp,Mp,Ic=!1,xo=[],ur=null,dr=null,hr=null,Fa=new Map,Ma=new Map,rr=[],Bv="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function f0(e,t){switch(e){case"focusin":case"focusout":ur=null;break;case"dragenter":case"dragleave":dr=null;break;case"mouseover":case"mouseout":hr=null;break;case"pointerover":case"pointerout":Fa.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ma.delete(t.pointerId)}}function Zi(e,t,n,r,i,a){return e===null||e.nativeEvent!==a?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[i]},t!==null&&(t=oo(t),t!==null&&nd(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function Fv(e,t,n,r,i){switch(t){case"focusin":return ur=Zi(ur,e,t,n,r,i),!0;case"dragenter":return dr=Zi(dr,e,t,n,r,i),!0;case"mouseover":return hr=Zi(hr,e,t,n,r,i),!0;case"pointerover":var a=i.pointerId;return Fa.set(a,Zi(Fa.get(a)||null,e,t,n,r,i)),!0;case"gotpointercapture":return a=i.pointerId,Ma.set(a,Zi(Ma.get(a)||null,e,t,n,r,i)),!0}return!1}function Op(e){var t=Or(e.target);if(t!==null){var n=Yr(t);if(n!==null){if(t=n.tag,t===13){if(t=Sp(n),t!==null){e.blockedOn=t,Mp(e.priority,function(){Bp(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Oo(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Lc(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);jc=r,n.target.dispatchEvent(r),jc=null}else return t=oo(n),t!==null&&nd(t),e.blockedOn=n,!1;t.shift()}return!0}function p0(e,t,n){Oo(e)&&n.delete(t)}function Mv(){Ic=!1,ur!==null&&Oo(ur)&&(ur=null),dr!==null&&Oo(dr)&&(dr=null),hr!==null&&Oo(hr)&&(hr=null),Fa.forEach(p0),Ma.forEach(p0)}function ea(e,t){e.blockedOn===t&&(e.blockedOn=null,Ic||(Ic=!0,sn.unstable_scheduleCallback(sn.unstable_NormalPriority,Mv)))}function Oa(e){function t(i){return ea(i,e)}if(0<xo.length){ea(xo[0],e);for(var n=1;n<xo.length;n++){var r=xo[n];r.blockedOn===e&&(r.blockedOn=null)}}for(ur!==null&&ea(ur,e),dr!==null&&ea(dr,e),hr!==null&&ea(hr,e),Fa.forEach(t),Ma.forEach(t),n=0;n<rr.length;n++)r=rr[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<rr.length&&(n=rr[0],n.blockedOn===null);)Op(n),n.blockedOn===null&&rr.shift()}var ji=Vn.ReactCurrentBatchConfig,is=!0;function Ov(e,t,n,r){var i=Ue,a=ji.transition;ji.transition=null;try{Ue=1,rd(e,t,n,r)}finally{Ue=i,ji.transition=a}}function Iv(e,t,n,r){var i=Ue,a=ji.transition;ji.transition=null;try{Ue=4,rd(e,t,n,r)}finally{Ue=i,ji.transition=a}}function rd(e,t,n,r){if(is){var i=Lc(e,t,n,r);if(i===null)fl(e,t,r,as,n),f0(e,r);else if(Fv(i,e,t,n,r))r.stopPropagation();else if(f0(e,r),t&4&&-1<Bv.indexOf(e)){for(;i!==null;){var a=oo(i);if(a!==null&&jp(a),a=Lc(e,t,n,r),a===null&&fl(e,t,r,as,n),a===i)break;i=a}i!==null&&r.stopPropagation()}else fl(e,t,r,null,n)}}var as=null;function Lc(e,t,n,r){if(as=null,e=Zu(r),e=Or(e),e!==null)if(t=Yr(e),t===null)e=null;else if(n=t.tag,n===13){if(e=Sp(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return as=e,null}function Ip(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Sv()){case ed:return 1;case Rp:return 4;case ns:case Ev:return 16;case Pp:return 536870912;default:return 16}default:return 16}}var or=null,id=null,Io=null;function Lp(){if(Io)return Io;var e,t=id,n=t.length,r,i="value"in or?or.value:or.textContent,a=i.length;for(e=0;e<n&&t[e]===i[e];e++);var o=n-e;for(r=1;r<=o&&t[n-r]===i[a-r];r++);return Io=i.slice(e,1<r?1-r:void 0)}function Lo(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Co(){return!0}function m0(){return!1}function cn(e){function t(n,r,i,a,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=a,this.target=o,this.currentTarget=null;for(var s in e)e.hasOwnProperty(s)&&(n=e[s],this[s]=n?n(a):a[s]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?Co:m0,this.isPropagationStopped=m0,this}return tt(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Co)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Co)},persist:function(){},isPersistent:Co}),t}var Vi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ad=cn(Vi),ao=tt({},Vi,{view:0,detail:0}),Lv=cn(ao),il,al,ta,Ds=tt({},ao,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:od,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ta&&(ta&&e.type==="mousemove"?(il=e.screenX-ta.screenX,al=e.screenY-ta.screenY):al=il=0,ta=e),il)},movementY:function(e){return"movementY"in e?e.movementY:al}}),y0=cn(Ds),Nv=tt({},Ds,{dataTransfer:0}),$v=cn(Nv),Uv=tt({},ao,{relatedTarget:0}),ol=cn(Uv),Jv=tt({},Vi,{animationName:0,elapsedTime:0,pseudoElement:0}),zv=cn(Jv),Kv=tt({},Vi,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Hv=cn(Kv),Gv=tt({},Vi,{data:0}),g0=cn(Gv),qv={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Vv={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Wv={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Yv(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Wv[e])?!!t[e]:!1}function od(){return Yv}var Qv=tt({},ao,{key:function(e){if(e.key){var t=qv[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Lo(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Vv[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:od,charCode:function(e){return e.type==="keypress"?Lo(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Lo(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Xv=cn(Qv),Zv=tt({},Ds,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),v0=cn(Zv),ex=tt({},ao,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:od}),tx=cn(ex),nx=tt({},Vi,{propertyName:0,elapsedTime:0,pseudoElement:0}),rx=cn(nx),ix=tt({},Ds,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),ax=cn(ix),ox=[9,13,27,32],sd=Kn&&"CompositionEvent"in window,xa=null;Kn&&"documentMode"in document&&(xa=document.documentMode);var sx=Kn&&"TextEvent"in window&&!xa,Np=Kn&&(!sd||xa&&8<xa&&11>=xa),x0=String.fromCharCode(32),C0=!1;function $p(e,t){switch(e){case"keyup":return ox.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Up(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var mi=!1;function lx(e,t){switch(e){case"compositionend":return Up(t);case"keypress":return t.which!==32?null:(C0=!0,x0);case"textInput":return e=t.data,e===x0&&C0?null:e;default:return null}}function cx(e,t){if(mi)return e==="compositionend"||!sd&&$p(e,t)?(e=Lp(),Io=id=or=null,mi=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Np&&t.locale!=="ko"?null:t.data;default:return null}}var ux={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function _0(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!ux[e.type]:t==="textarea"}function Jp(e,t,n,r){xp(r),t=os(t,"onChange"),0<t.length&&(n=new ad("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Ca=null,Ia=null;function dx(e){Zp(e,0)}function js(e){var t=vi(e);if(hp(t))return e}function hx(e,t){if(e==="change")return t}var zp=!1;if(Kn){var sl;if(Kn){var ll="oninput"in document;if(!ll){var b0=document.createElement("div");b0.setAttribute("oninput","return;"),ll=typeof b0.oninput=="function"}sl=ll}else sl=!1;zp=sl&&(!document.documentMode||9<document.documentMode)}function w0(){Ca&&(Ca.detachEvent("onpropertychange",Kp),Ia=Ca=null)}function Kp(e){if(e.propertyName==="value"&&js(Ia)){var t=[];Jp(t,Ia,e,Zu(e)),wp(dx,t)}}function fx(e,t,n){e==="focusin"?(w0(),Ca=t,Ia=n,Ca.attachEvent("onpropertychange",Kp)):e==="focusout"&&w0()}function px(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return js(Ia)}function mx(e,t){if(e==="click")return js(t)}function yx(e,t){if(e==="input"||e==="change")return js(t)}function gx(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var jn=typeof Object.is=="function"?Object.is:gx;function La(e,t){if(jn(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!Cc.call(t,i)||!jn(e[i],t[i]))return!1}return!0}function S0(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function E0(e,t){var n=S0(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=S0(n)}}function Hp(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Hp(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Gp(){for(var e=window,t=Zo();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Zo(e.document)}return t}function ld(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function vx(e){var t=Gp(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&Hp(n.ownerDocument.documentElement,n)){if(r!==null&&ld(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=n.textContent.length,a=Math.min(r.start,i);r=r.end===void 0?a:Math.min(r.end,i),!e.extend&&a>r&&(i=r,r=a,a=i),i=E0(n,a);var o=E0(n,r);i&&o&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),a>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var xx=Kn&&"documentMode"in document&&11>=document.documentMode,yi=null,Nc=null,_a=null,$c=!1;function A0(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;$c||yi==null||yi!==Zo(r)||(r=yi,"selectionStart"in r&&ld(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),_a&&La(_a,r)||(_a=r,r=os(Nc,"onSelect"),0<r.length&&(t=new ad("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=yi)))}function _o(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var gi={animationend:_o("Animation","AnimationEnd"),animationiteration:_o("Animation","AnimationIteration"),animationstart:_o("Animation","AnimationStart"),transitionend:_o("Transition","TransitionEnd")},cl={},qp={};Kn&&(qp=document.createElement("div").style,"AnimationEvent"in window||(delete gi.animationend.animation,delete gi.animationiteration.animation,delete gi.animationstart.animation),"TransitionEvent"in window||delete gi.transitionend.transition);function Bs(e){if(cl[e])return cl[e];if(!gi[e])return e;var t=gi[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in qp)return cl[e]=t[n];return e}var Vp=Bs("animationend"),Wp=Bs("animationiteration"),Yp=Bs("animationstart"),Qp=Bs("transitionend"),Xp=new Map,k0="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function _r(e,t){Xp.set(e,t),Wr(t,[e])}for(var ul=0;ul<k0.length;ul++){var dl=k0[ul],Cx=dl.toLowerCase(),_x=dl[0].toUpperCase()+dl.slice(1);_r(Cx,"on"+_x)}_r(Vp,"onAnimationEnd");_r(Wp,"onAnimationIteration");_r(Yp,"onAnimationStart");_r("dblclick","onDoubleClick");_r("focusin","onFocus");_r("focusout","onBlur");_r(Qp,"onTransitionEnd");Ni("onMouseEnter",["mouseout","mouseover"]);Ni("onMouseLeave",["mouseout","mouseover"]);Ni("onPointerEnter",["pointerout","pointerover"]);Ni("onPointerLeave",["pointerout","pointerover"]);Wr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Wr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Wr("onBeforeInput",["compositionend","keypress","textInput","paste"]);Wr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Wr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Wr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var fa="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),bx=new Set("cancel close invalid load scroll toggle".split(" ").concat(fa));function R0(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,Cv(r,t,void 0,e),e.currentTarget=null}function Zp(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var a=void 0;if(t)for(var o=r.length-1;0<=o;o--){var s=r[o],l=s.instance,c=s.currentTarget;if(s=s.listener,l!==a&&i.isPropagationStopped())break e;R0(i,s,c),a=l}else for(o=0;o<r.length;o++){if(s=r[o],l=s.instance,c=s.currentTarget,s=s.listener,l!==a&&i.isPropagationStopped())break e;R0(i,s,c),a=l}}}if(ts)throw e=Mc,ts=!1,Mc=null,e}function Ge(e,t){var n=t[Hc];n===void 0&&(n=t[Hc]=new Set);var r=e+"__bubble";n.has(r)||(em(t,e,2,!1),n.add(r))}function hl(e,t,n){var r=0;t&&(r|=4),em(n,e,r,t)}var bo="_reactListening"+Math.random().toString(36).slice(2);function Na(e){if(!e[bo]){e[bo]=!0,sp.forEach(function(n){n!=="selectionchange"&&(bx.has(n)||hl(n,!1,e),hl(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[bo]||(t[bo]=!0,hl("selectionchange",!1,t))}}function em(e,t,n,r){switch(Ip(t)){case 1:var i=Ov;break;case 4:i=Iv;break;default:i=rd}n=i.bind(null,t,n,e),i=void 0,!Fc||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),r?i!==void 0?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):i!==void 0?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function fl(e,t,n,r,i){var a=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var s=r.stateNode.containerInfo;if(s===i||s.nodeType===8&&s.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;s!==null;){if(o=Or(s),o===null)return;if(l=o.tag,l===5||l===6){r=a=o;continue e}s=s.parentNode}}r=r.return}wp(function(){var c=a,u=Zu(n),m=[];e:{var f=Xp.get(e);if(f!==void 0){var g=ad,v=e;switch(e){case"keypress":if(Lo(n)===0)break e;case"keydown":case"keyup":g=Xv;break;case"focusin":v="focus",g=ol;break;case"focusout":v="blur",g=ol;break;case"beforeblur":case"afterblur":g=ol;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":g=y0;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":g=$v;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":g=tx;break;case Vp:case Wp:case Yp:g=zv;break;case Qp:g=rx;break;case"scroll":g=Lv;break;case"wheel":g=ax;break;case"copy":case"cut":case"paste":g=Hv;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":g=v0}var C=(t&4)!==0,_=!C&&e==="scroll",x=C?f!==null?f+"Capture":null:f;C=[];for(var y=c,h;y!==null;){h=y;var p=h.stateNode;if(h.tag===5&&p!==null&&(h=p,x!==null&&(p=Ba(y,x),p!=null&&C.push($a(y,p,h)))),_)break;y=y.return}0<C.length&&(f=new g(f,v,null,n,u),m.push({event:f,listeners:C}))}}if(!(t&7)){e:{if(f=e==="mouseover"||e==="pointerover",g=e==="mouseout"||e==="pointerout",f&&n!==jc&&(v=n.relatedTarget||n.fromElement)&&(Or(v)||v[Hn]))break e;if((g||f)&&(f=u.window===u?u:(f=u.ownerDocument)?f.defaultView||f.parentWindow:window,g?(v=n.relatedTarget||n.toElement,g=c,v=v?Or(v):null,v!==null&&(_=Yr(v),v!==_||v.tag!==5&&v.tag!==6)&&(v=null)):(g=null,v=c),g!==v)){if(C=y0,p="onMouseLeave",x="onMouseEnter",y="mouse",(e==="pointerout"||e==="pointerover")&&(C=v0,p="onPointerLeave",x="onPointerEnter",y="pointer"),_=g==null?f:vi(g),h=v==null?f:vi(v),f=new C(p,y+"leave",g,n,u),f.target=_,f.relatedTarget=h,p=null,Or(u)===c&&(C=new C(x,y+"enter",v,n,u),C.target=h,C.relatedTarget=_,p=C),_=p,g&&v)t:{for(C=g,x=v,y=0,h=C;h;h=ni(h))y++;for(h=0,p=x;p;p=ni(p))h++;for(;0<y-h;)C=ni(C),y--;for(;0<h-y;)x=ni(x),h--;for(;y--;){if(C===x||x!==null&&C===x.alternate)break t;C=ni(C),x=ni(x)}C=null}else C=null;g!==null&&P0(m,f,g,C,!1),v!==null&&_!==null&&P0(m,_,v,C,!0)}}e:{if(f=c?vi(c):window,g=f.nodeName&&f.nodeName.toLowerCase(),g==="select"||g==="input"&&f.type==="file")var w=hx;else if(_0(f))if(zp)w=yx;else{w=px;var S=fx}else(g=f.nodeName)&&g.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(w=mx);if(w&&(w=w(e,c))){Jp(m,w,n,u);break e}S&&S(e,f,c),e==="focusout"&&(S=f._wrapperState)&&S.controlled&&f.type==="number"&&kc(f,"number",f.value)}switch(S=c?vi(c):window,e){case"focusin":(_0(S)||S.contentEditable==="true")&&(yi=S,Nc=c,_a=null);break;case"focusout":_a=Nc=yi=null;break;case"mousedown":$c=!0;break;case"contextmenu":case"mouseup":case"dragend":$c=!1,A0(m,n,u);break;case"selectionchange":if(xx)break;case"keydown":case"keyup":A0(m,n,u)}var k;if(sd)e:{switch(e){case"compositionstart":var A="onCompositionStart";break e;case"compositionend":A="onCompositionEnd";break e;case"compositionupdate":A="onCompositionUpdate";break e}A=void 0}else mi?$p(e,n)&&(A="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(A="onCompositionStart");A&&(Np&&n.locale!=="ko"&&(mi||A!=="onCompositionStart"?A==="onCompositionEnd"&&mi&&(k=Lp()):(or=u,id="value"in or?or.value:or.textContent,mi=!0)),S=os(c,A),0<S.length&&(A=new g0(A,e,null,n,u),m.push({event:A,listeners:S}),k?A.data=k:(k=Up(n),k!==null&&(A.data=k)))),(k=sx?lx(e,n):cx(e,n))&&(c=os(c,"onBeforeInput"),0<c.length&&(u=new g0("onBeforeInput","beforeinput",null,n,u),m.push({event:u,listeners:c}),u.data=k))}Zp(m,t)})}function $a(e,t,n){return{instance:e,listener:t,currentTarget:n}}function os(e,t){for(var n=t+"Capture",r=[];e!==null;){var i=e,a=i.stateNode;i.tag===5&&a!==null&&(i=a,a=Ba(e,n),a!=null&&r.unshift($a(e,a,i)),a=Ba(e,t),a!=null&&r.push($a(e,a,i))),e=e.return}return r}function ni(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function P0(e,t,n,r,i){for(var a=t._reactName,o=[];n!==null&&n!==r;){var s=n,l=s.alternate,c=s.stateNode;if(l!==null&&l===r)break;s.tag===5&&c!==null&&(s=c,i?(l=Ba(n,a),l!=null&&o.unshift($a(n,l,s))):i||(l=Ba(n,a),l!=null&&o.push($a(n,l,s)))),n=n.return}o.length!==0&&e.push({event:t,listeners:o})}var wx=/\r\n?/g,Sx=/\u0000|\uFFFD/g;function T0(e){return(typeof e=="string"?e:""+e).replace(wx,`
`).replace(Sx,"")}function wo(e,t,n){if(t=T0(t),T0(e)!==t&&n)throw Error(V(425))}function ss(){}var Uc=null,Jc=null;function zc(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Kc=typeof setTimeout=="function"?setTimeout:void 0,Ex=typeof clearTimeout=="function"?clearTimeout:void 0,D0=typeof Promise=="function"?Promise:void 0,Ax=typeof queueMicrotask=="function"?queueMicrotask:typeof D0<"u"?function(e){return D0.resolve(null).then(e).catch(kx)}:Kc;function kx(e){setTimeout(function(){throw e})}function pl(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){e.removeChild(i),Oa(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Oa(t)}function fr(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function j0(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var Wi=Math.random().toString(36).slice(2),Mn="__reactFiber$"+Wi,Ua="__reactProps$"+Wi,Hn="__reactContainer$"+Wi,Hc="__reactEvents$"+Wi,Rx="__reactListeners$"+Wi,Px="__reactHandles$"+Wi;function Or(e){var t=e[Mn];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Hn]||n[Mn]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=j0(e);e!==null;){if(n=e[Mn])return n;e=j0(e)}return t}e=n,n=e.parentNode}return null}function oo(e){return e=e[Mn]||e[Hn],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function vi(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(V(33))}function Fs(e){return e[Ua]||null}var Gc=[],xi=-1;function br(e){return{current:e}}function qe(e){0>xi||(e.current=Gc[xi],Gc[xi]=null,xi--)}function Ke(e,t){xi++,Gc[xi]=e.current,e.current=t}var Cr={},Ft=br(Cr),Wt=br(!1),Kr=Cr;function $i(e,t){var n=e.type.contextTypes;if(!n)return Cr;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i={},a;for(a in n)i[a]=t[a];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function Yt(e){return e=e.childContextTypes,e!=null}function ls(){qe(Wt),qe(Ft)}function B0(e,t,n){if(Ft.current!==Cr)throw Error(V(168));Ke(Ft,t),Ke(Wt,n)}function tm(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in t))throw Error(V(108,fv(e)||"Unknown",i));return tt({},n,r)}function cs(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Cr,Kr=Ft.current,Ke(Ft,e),Ke(Wt,Wt.current),!0}function F0(e,t,n){var r=e.stateNode;if(!r)throw Error(V(169));n?(e=tm(e,t,Kr),r.__reactInternalMemoizedMergedChildContext=e,qe(Wt),qe(Ft),Ke(Ft,e)):qe(Wt),Ke(Wt,n)}var $n=null,Ms=!1,ml=!1;function nm(e){$n===null?$n=[e]:$n.push(e)}function Tx(e){Ms=!0,nm(e)}function wr(){if(!ml&&$n!==null){ml=!0;var e=0,t=Ue;try{var n=$n;for(Ue=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}$n=null,Ms=!1}catch(i){throw $n!==null&&($n=$n.slice(e+1)),kp(ed,wr),i}finally{Ue=t,ml=!1}}return null}var Ci=[],_i=0,us=null,ds=0,pn=[],mn=0,Hr=null,Un=1,Jn="";function kr(e,t){Ci[_i++]=ds,Ci[_i++]=us,us=e,ds=t}function rm(e,t,n){pn[mn++]=Un,pn[mn++]=Jn,pn[mn++]=Hr,Hr=e;var r=Un;e=Jn;var i=32-Tn(r)-1;r&=~(1<<i),n+=1;var a=32-Tn(t)+i;if(30<a){var o=i-i%5;a=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Un=1<<32-Tn(t)+i|n<<i|r,Jn=a+e}else Un=1<<a|n<<i|r,Jn=e}function cd(e){e.return!==null&&(kr(e,1),rm(e,1,0))}function ud(e){for(;e===us;)us=Ci[--_i],Ci[_i]=null,ds=Ci[--_i],Ci[_i]=null;for(;e===Hr;)Hr=pn[--mn],pn[mn]=null,Jn=pn[--mn],pn[mn]=null,Un=pn[--mn],pn[mn]=null}var on=null,an=null,We=!1,Pn=null;function im(e,t){var n=yn(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function M0(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,on=e,an=fr(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,on=e,an=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=Hr!==null?{id:Un,overflow:Jn}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=yn(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,on=e,an=null,!0):!1;default:return!1}}function qc(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Vc(e){if(We){var t=an;if(t){var n=t;if(!M0(e,t)){if(qc(e))throw Error(V(418));t=fr(n.nextSibling);var r=on;t&&M0(e,t)?im(r,n):(e.flags=e.flags&-4097|2,We=!1,on=e)}}else{if(qc(e))throw Error(V(418));e.flags=e.flags&-4097|2,We=!1,on=e}}}function O0(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;on=e}function So(e){if(e!==on)return!1;if(!We)return O0(e),We=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!zc(e.type,e.memoizedProps)),t&&(t=an)){if(qc(e))throw am(),Error(V(418));for(;t;)im(e,t),t=fr(t.nextSibling)}if(O0(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(V(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){an=fr(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}an=null}}else an=on?fr(e.stateNode.nextSibling):null;return!0}function am(){for(var e=an;e;)e=fr(e.nextSibling)}function Ui(){an=on=null,We=!1}function dd(e){Pn===null?Pn=[e]:Pn.push(e)}var Dx=Vn.ReactCurrentBatchConfig;function Sn(e,t){if(e&&e.defaultProps){t=tt({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}var hs=br(null),fs=null,bi=null,hd=null;function fd(){hd=bi=fs=null}function pd(e){var t=hs.current;qe(hs),e._currentValue=t}function Wc(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Bi(e,t){fs=e,hd=bi=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Vt=!0),e.firstContext=null)}function vn(e){var t=e._currentValue;if(hd!==e)if(e={context:e,memoizedValue:t,next:null},bi===null){if(fs===null)throw Error(V(308));bi=e,fs.dependencies={lanes:0,firstContext:e}}else bi=bi.next=e;return t}var Ir=null;function md(e){Ir===null?Ir=[e]:Ir.push(e)}function om(e,t,n,r){var i=t.interleaved;return i===null?(n.next=n,md(t)):(n.next=i.next,i.next=n),t.interleaved=n,Gn(e,r)}function Gn(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var tr=!1;function yd(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function sm(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function zn(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function pr(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,je&2){var i=r.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),r.pending=t,Gn(e,n)}return i=r.interleaved,i===null?(t.next=t,md(r)):(t.next=i.next,i.next=t),r.interleaved=t,Gn(e,n)}function No(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,td(e,n)}}function I0(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,a=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};a===null?i=a=o:a=a.next=o,n=n.next}while(n!==null);a===null?i=a=t:a=a.next=t}else i=a=t;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function ps(e,t,n,r){var i=e.updateQueue;tr=!1;var a=i.firstBaseUpdate,o=i.lastBaseUpdate,s=i.shared.pending;if(s!==null){i.shared.pending=null;var l=s,c=l.next;l.next=null,o===null?a=c:o.next=c,o=l;var u=e.alternate;u!==null&&(u=u.updateQueue,s=u.lastBaseUpdate,s!==o&&(s===null?u.firstBaseUpdate=c:s.next=c,u.lastBaseUpdate=l))}if(a!==null){var m=i.baseState;o=0,u=c=l=null,s=a;do{var f=s.lane,g=s.eventTime;if((r&f)===f){u!==null&&(u=u.next={eventTime:g,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var v=e,C=s;switch(f=t,g=n,C.tag){case 1:if(v=C.payload,typeof v=="function"){m=v.call(g,m,f);break e}m=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=C.payload,f=typeof v=="function"?v.call(g,m,f):v,f==null)break e;m=tt({},m,f);break e;case 2:tr=!0}}s.callback!==null&&s.lane!==0&&(e.flags|=64,f=i.effects,f===null?i.effects=[s]:f.push(s))}else g={eventTime:g,lane:f,tag:s.tag,payload:s.payload,callback:s.callback,next:null},u===null?(c=u=g,l=m):u=u.next=g,o|=f;if(s=s.next,s===null){if(s=i.shared.pending,s===null)break;f=s,s=f.next,f.next=null,i.lastBaseUpdate=f,i.shared.pending=null}}while(1);if(u===null&&(l=m),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=u,t=i.shared.interleaved,t!==null){i=t;do o|=i.lane,i=i.next;while(i!==t)}else a===null&&(i.shared.lanes=0);qr|=o,e.lanes=o,e.memoizedState=m}}function L0(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(V(191,i));i.call(r)}}}var lm=new op.Component().refs;function Yc(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:tt({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Os={isMounted:function(e){return(e=e._reactInternals)?Yr(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Ut(),i=yr(e),a=zn(r,i);a.payload=t,n!=null&&(a.callback=n),t=pr(e,a,i),t!==null&&(Dn(t,e,i,r),No(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Ut(),i=yr(e),a=zn(r,i);a.tag=1,a.payload=t,n!=null&&(a.callback=n),t=pr(e,a,i),t!==null&&(Dn(t,e,i,r),No(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Ut(),r=yr(e),i=zn(n,r);i.tag=2,t!=null&&(i.callback=t),t=pr(e,i,r),t!==null&&(Dn(t,e,r,n),No(t,e,r))}};function N0(e,t,n,r,i,a,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,a,o):t.prototype&&t.prototype.isPureReactComponent?!La(n,r)||!La(i,a):!0}function cm(e,t,n){var r=!1,i=Cr,a=t.contextType;return typeof a=="object"&&a!==null?a=vn(a):(i=Yt(t)?Kr:Ft.current,r=t.contextTypes,a=(r=r!=null)?$i(e,i):Cr),t=new t(n,a),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Os,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function $0(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Os.enqueueReplaceState(t,t.state,null)}function Qc(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=lm,yd(e);var a=t.contextType;typeof a=="object"&&a!==null?i.context=vn(a):(a=Yt(t)?Kr:Ft.current,i.context=$i(e,a)),i.state=e.memoizedState,a=t.getDerivedStateFromProps,typeof a=="function"&&(Yc(e,t,a,n),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&Os.enqueueReplaceState(i,i.state,null),ps(e,n,i,r),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function na(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(V(309));var r=n.stateNode}if(!r)throw Error(V(147,e));var i=r,a=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===a?t.ref:(t=function(o){var s=i.refs;s===lm&&(s=i.refs={}),o===null?delete s[a]:s[a]=o},t._stringRef=a,t)}if(typeof e!="string")throw Error(V(284));if(!n._owner)throw Error(V(290,e))}return e}function Eo(e,t){throw e=Object.prototype.toString.call(t),Error(V(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function U0(e){var t=e._init;return t(e._payload)}function um(e){function t(x,y){if(e){var h=x.deletions;h===null?(x.deletions=[y],x.flags|=16):h.push(y)}}function n(x,y){if(!e)return null;for(;y!==null;)t(x,y),y=y.sibling;return null}function r(x,y){for(x=new Map;y!==null;)y.key!==null?x.set(y.key,y):x.set(y.index,y),y=y.sibling;return x}function i(x,y){return x=gr(x,y),x.index=0,x.sibling=null,x}function a(x,y,h){return x.index=h,e?(h=x.alternate,h!==null?(h=h.index,h<y?(x.flags|=2,y):h):(x.flags|=2,y)):(x.flags|=1048576,y)}function o(x){return e&&x.alternate===null&&(x.flags|=2),x}function s(x,y,h,p){return y===null||y.tag!==6?(y=bl(h,x.mode,p),y.return=x,y):(y=i(y,h),y.return=x,y)}function l(x,y,h,p){var w=h.type;return w===pi?u(x,y,h.props.children,p,h.key):y!==null&&(y.elementType===w||typeof w=="object"&&w!==null&&w.$$typeof===er&&U0(w)===y.type)?(p=i(y,h.props),p.ref=na(x,y,h),p.return=x,p):(p=Ho(h.type,h.key,h.props,null,x.mode,p),p.ref=na(x,y,h),p.return=x,p)}function c(x,y,h,p){return y===null||y.tag!==4||y.stateNode.containerInfo!==h.containerInfo||y.stateNode.implementation!==h.implementation?(y=wl(h,x.mode,p),y.return=x,y):(y=i(y,h.children||[]),y.return=x,y)}function u(x,y,h,p,w){return y===null||y.tag!==7?(y=Jr(h,x.mode,p,w),y.return=x,y):(y=i(y,h),y.return=x,y)}function m(x,y,h){if(typeof y=="string"&&y!==""||typeof y=="number")return y=bl(""+y,x.mode,h),y.return=x,y;if(typeof y=="object"&&y!==null){switch(y.$$typeof){case po:return h=Ho(y.type,y.key,y.props,null,x.mode,h),h.ref=na(x,null,y),h.return=x,h;case fi:return y=wl(y,x.mode,h),y.return=x,y;case er:var p=y._init;return m(x,p(y._payload),h)}if(da(y)||Qi(y))return y=Jr(y,x.mode,h,null),y.return=x,y;Eo(x,y)}return null}function f(x,y,h,p){var w=y!==null?y.key:null;if(typeof h=="string"&&h!==""||typeof h=="number")return w!==null?null:s(x,y,""+h,p);if(typeof h=="object"&&h!==null){switch(h.$$typeof){case po:return h.key===w?l(x,y,h,p):null;case fi:return h.key===w?c(x,y,h,p):null;case er:return w=h._init,f(x,y,w(h._payload),p)}if(da(h)||Qi(h))return w!==null?null:u(x,y,h,p,null);Eo(x,h)}return null}function g(x,y,h,p,w){if(typeof p=="string"&&p!==""||typeof p=="number")return x=x.get(h)||null,s(y,x,""+p,w);if(typeof p=="object"&&p!==null){switch(p.$$typeof){case po:return x=x.get(p.key===null?h:p.key)||null,l(y,x,p,w);case fi:return x=x.get(p.key===null?h:p.key)||null,c(y,x,p,w);case er:var S=p._init;return g(x,y,h,S(p._payload),w)}if(da(p)||Qi(p))return x=x.get(h)||null,u(y,x,p,w,null);Eo(y,p)}return null}function v(x,y,h,p){for(var w=null,S=null,k=y,A=y=0,j=null;k!==null&&A<h.length;A++){k.index>A?(j=k,k=null):j=k.sibling;var b=f(x,k,h[A],p);if(b===null){k===null&&(k=j);break}e&&k&&b.alternate===null&&t(x,k),y=a(b,y,A),S===null?w=b:S.sibling=b,S=b,k=j}if(A===h.length)return n(x,k),We&&kr(x,A),w;if(k===null){for(;A<h.length;A++)k=m(x,h[A],p),k!==null&&(y=a(k,y,A),S===null?w=k:S.sibling=k,S=k);return We&&kr(x,A),w}for(k=r(x,k);A<h.length;A++)j=g(k,x,A,h[A],p),j!==null&&(e&&j.alternate!==null&&k.delete(j.key===null?A:j.key),y=a(j,y,A),S===null?w=j:S.sibling=j,S=j);return e&&k.forEach(function(P){return t(x,P)}),We&&kr(x,A),w}function C(x,y,h,p){var w=Qi(h);if(typeof w!="function")throw Error(V(150));if(h=w.call(h),h==null)throw Error(V(151));for(var S=w=null,k=y,A=y=0,j=null,b=h.next();k!==null&&!b.done;A++,b=h.next()){k.index>A?(j=k,k=null):j=k.sibling;var P=f(x,k,b.value,p);if(P===null){k===null&&(k=j);break}e&&k&&P.alternate===null&&t(x,k),y=a(P,y,A),S===null?w=P:S.sibling=P,S=P,k=j}if(b.done)return n(x,k),We&&kr(x,A),w;if(k===null){for(;!b.done;A++,b=h.next())b=m(x,b.value,p),b!==null&&(y=a(b,y,A),S===null?w=b:S.sibling=b,S=b);return We&&kr(x,A),w}for(k=r(x,k);!b.done;A++,b=h.next())b=g(k,x,A,b.value,p),b!==null&&(e&&b.alternate!==null&&k.delete(b.key===null?A:b.key),y=a(b,y,A),S===null?w=b:S.sibling=b,S=b);return e&&k.forEach(function(R){return t(x,R)}),We&&kr(x,A),w}function _(x,y,h,p){if(typeof h=="object"&&h!==null&&h.type===pi&&h.key===null&&(h=h.props.children),typeof h=="object"&&h!==null){switch(h.$$typeof){case po:e:{for(var w=h.key,S=y;S!==null;){if(S.key===w){if(w=h.type,w===pi){if(S.tag===7){n(x,S.sibling),y=i(S,h.props.children),y.return=x,x=y;break e}}else if(S.elementType===w||typeof w=="object"&&w!==null&&w.$$typeof===er&&U0(w)===S.type){n(x,S.sibling),y=i(S,h.props),y.ref=na(x,S,h),y.return=x,x=y;break e}n(x,S);break}else t(x,S);S=S.sibling}h.type===pi?(y=Jr(h.props.children,x.mode,p,h.key),y.return=x,x=y):(p=Ho(h.type,h.key,h.props,null,x.mode,p),p.ref=na(x,y,h),p.return=x,x=p)}return o(x);case fi:e:{for(S=h.key;y!==null;){if(y.key===S)if(y.tag===4&&y.stateNode.containerInfo===h.containerInfo&&y.stateNode.implementation===h.implementation){n(x,y.sibling),y=i(y,h.children||[]),y.return=x,x=y;break e}else{n(x,y);break}else t(x,y);y=y.sibling}y=wl(h,x.mode,p),y.return=x,x=y}return o(x);case er:return S=h._init,_(x,y,S(h._payload),p)}if(da(h))return v(x,y,h,p);if(Qi(h))return C(x,y,h,p);Eo(x,h)}return typeof h=="string"&&h!==""||typeof h=="number"?(h=""+h,y!==null&&y.tag===6?(n(x,y.sibling),y=i(y,h),y.return=x,x=y):(n(x,y),y=bl(h,x.mode,p),y.return=x,x=y),o(x)):n(x,y)}return _}var Ji=um(!0),dm=um(!1),so={},In=br(so),Ja=br(so),za=br(so);function Lr(e){if(e===so)throw Error(V(174));return e}function gd(e,t){switch(Ke(za,t),Ke(Ja,e),Ke(In,so),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Pc(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Pc(t,e)}qe(In),Ke(In,t)}function zi(){qe(In),qe(Ja),qe(za)}function hm(e){Lr(za.current);var t=Lr(In.current),n=Pc(t,e.type);t!==n&&(Ke(Ja,e),Ke(In,n))}function vd(e){Ja.current===e&&(qe(In),qe(Ja))}var Ze=br(0);function ms(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var yl=[];function xd(){for(var e=0;e<yl.length;e++)yl[e]._workInProgressVersionPrimary=null;yl.length=0}var $o=Vn.ReactCurrentDispatcher,gl=Vn.ReactCurrentBatchConfig,Gr=0,et=null,mt=null,_t=null,ys=!1,ba=!1,Ka=0,jx=0;function Tt(){throw Error(V(321))}function Cd(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!jn(e[n],t[n]))return!1;return!0}function _d(e,t,n,r,i,a){if(Gr=a,et=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,$o.current=e===null||e.memoizedState===null?Ox:Ix,e=n(r,i),ba){a=0;do{if(ba=!1,Ka=0,25<=a)throw Error(V(301));a+=1,_t=mt=null,t.updateQueue=null,$o.current=Lx,e=n(r,i)}while(ba)}if($o.current=gs,t=mt!==null&&mt.next!==null,Gr=0,_t=mt=et=null,ys=!1,t)throw Error(V(300));return e}function bd(){var e=Ka!==0;return Ka=0,e}function Fn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return _t===null?et.memoizedState=_t=e:_t=_t.next=e,_t}function xn(){if(mt===null){var e=et.alternate;e=e!==null?e.memoizedState:null}else e=mt.next;var t=_t===null?et.memoizedState:_t.next;if(t!==null)_t=t,mt=e;else{if(e===null)throw Error(V(310));mt=e,e={memoizedState:mt.memoizedState,baseState:mt.baseState,baseQueue:mt.baseQueue,queue:mt.queue,next:null},_t===null?et.memoizedState=_t=e:_t=_t.next=e}return _t}function Ha(e,t){return typeof t=="function"?t(e):t}function vl(e){var t=xn(),n=t.queue;if(n===null)throw Error(V(311));n.lastRenderedReducer=e;var r=mt,i=r.baseQueue,a=n.pending;if(a!==null){if(i!==null){var o=i.next;i.next=a.next,a.next=o}r.baseQueue=i=a,n.pending=null}if(i!==null){a=i.next,r=r.baseState;var s=o=null,l=null,c=a;do{var u=c.lane;if((Gr&u)===u)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:e(r,c.action);else{var m={lane:u,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(s=l=m,o=r):l=l.next=m,et.lanes|=u,qr|=u}c=c.next}while(c!==null&&c!==a);l===null?o=r:l.next=s,jn(r,t.memoizedState)||(Vt=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=l,n.lastRenderedState=r}if(e=n.interleaved,e!==null){i=e;do a=i.lane,et.lanes|=a,qr|=a,i=i.next;while(i!==e)}else i===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function xl(e){var t=xn(),n=t.queue;if(n===null)throw Error(V(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,a=t.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do a=e(a,o.action),o=o.next;while(o!==i);jn(a,t.memoizedState)||(Vt=!0),t.memoizedState=a,t.baseQueue===null&&(t.baseState=a),n.lastRenderedState=a}return[a,r]}function fm(){}function pm(e,t){var n=et,r=xn(),i=t(),a=!jn(r.memoizedState,i);if(a&&(r.memoizedState=i,Vt=!0),r=r.queue,wd(gm.bind(null,n,r,e),[e]),r.getSnapshot!==t||a||_t!==null&&_t.memoizedState.tag&1){if(n.flags|=2048,Ga(9,ym.bind(null,n,r,i,t),void 0,null),bt===null)throw Error(V(349));Gr&30||mm(n,t,i)}return i}function mm(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=et.updateQueue,t===null?(t={lastEffect:null,stores:null},et.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function ym(e,t,n,r){t.value=n,t.getSnapshot=r,vm(t)&&xm(e)}function gm(e,t,n){return n(function(){vm(t)&&xm(e)})}function vm(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!jn(e,n)}catch{return!0}}function xm(e){var t=Gn(e,1);t!==null&&Dn(t,e,1,-1)}function J0(e){var t=Fn();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ha,lastRenderedState:e},t.queue=e,e=e.dispatch=Mx.bind(null,et,e),[t.memoizedState,e]}function Ga(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=et.updateQueue,t===null?(t={lastEffect:null,stores:null},et.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function Cm(){return xn().memoizedState}function Uo(e,t,n,r){var i=Fn();et.flags|=e,i.memoizedState=Ga(1|t,n,void 0,r===void 0?null:r)}function Is(e,t,n,r){var i=xn();r=r===void 0?null:r;var a=void 0;if(mt!==null){var o=mt.memoizedState;if(a=o.destroy,r!==null&&Cd(r,o.deps)){i.memoizedState=Ga(t,n,a,r);return}}et.flags|=e,i.memoizedState=Ga(1|t,n,a,r)}function z0(e,t){return Uo(8390656,8,e,t)}function wd(e,t){return Is(2048,8,e,t)}function _m(e,t){return Is(4,2,e,t)}function bm(e,t){return Is(4,4,e,t)}function wm(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Sm(e,t,n){return n=n!=null?n.concat([e]):null,Is(4,4,wm.bind(null,t,e),n)}function Sd(){}function Em(e,t){var n=xn();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Cd(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Am(e,t){var n=xn();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Cd(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function km(e,t,n){return Gr&21?(jn(n,t)||(n=Tp(),et.lanes|=n,qr|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Vt=!0),e.memoizedState=n)}function Bx(e,t){var n=Ue;Ue=n!==0&&4>n?n:4,e(!0);var r=gl.transition;gl.transition={};try{e(!1),t()}finally{Ue=n,gl.transition=r}}function Rm(){return xn().memoizedState}function Fx(e,t,n){var r=yr(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Pm(e))Tm(t,n);else if(n=om(e,t,n,r),n!==null){var i=Ut();Dn(n,e,r,i),Dm(n,t,r)}}function Mx(e,t,n){var r=yr(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Pm(e))Tm(t,i);else{var a=e.alternate;if(e.lanes===0&&(a===null||a.lanes===0)&&(a=t.lastRenderedReducer,a!==null))try{var o=t.lastRenderedState,s=a(o,n);if(i.hasEagerState=!0,i.eagerState=s,jn(s,o)){var l=t.interleaved;l===null?(i.next=i,md(t)):(i.next=l.next,l.next=i),t.interleaved=i;return}}catch{}finally{}n=om(e,t,i,r),n!==null&&(i=Ut(),Dn(n,e,r,i),Dm(n,t,r))}}function Pm(e){var t=e.alternate;return e===et||t!==null&&t===et}function Tm(e,t){ba=ys=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Dm(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,td(e,n)}}var gs={readContext:vn,useCallback:Tt,useContext:Tt,useEffect:Tt,useImperativeHandle:Tt,useInsertionEffect:Tt,useLayoutEffect:Tt,useMemo:Tt,useReducer:Tt,useRef:Tt,useState:Tt,useDebugValue:Tt,useDeferredValue:Tt,useTransition:Tt,useMutableSource:Tt,useSyncExternalStore:Tt,useId:Tt,unstable_isNewReconciler:!1},Ox={readContext:vn,useCallback:function(e,t){return Fn().memoizedState=[e,t===void 0?null:t],e},useContext:vn,useEffect:z0,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,Uo(4194308,4,wm.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Uo(4194308,4,e,t)},useInsertionEffect:function(e,t){return Uo(4,2,e,t)},useMemo:function(e,t){var n=Fn();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Fn();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=Fx.bind(null,et,e),[r.memoizedState,e]},useRef:function(e){var t=Fn();return e={current:e},t.memoizedState=e},useState:J0,useDebugValue:Sd,useDeferredValue:function(e){return Fn().memoizedState=e},useTransition:function(){var e=J0(!1),t=e[0];return e=Bx.bind(null,e[1]),Fn().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=et,i=Fn();if(We){if(n===void 0)throw Error(V(407));n=n()}else{if(n=t(),bt===null)throw Error(V(349));Gr&30||mm(r,t,n)}i.memoizedState=n;var a={value:n,getSnapshot:t};return i.queue=a,z0(gm.bind(null,r,a,e),[e]),r.flags|=2048,Ga(9,ym.bind(null,r,a,n,t),void 0,null),n},useId:function(){var e=Fn(),t=bt.identifierPrefix;if(We){var n=Jn,r=Un;n=(r&~(1<<32-Tn(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=Ka++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=jx++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Ix={readContext:vn,useCallback:Em,useContext:vn,useEffect:wd,useImperativeHandle:Sm,useInsertionEffect:_m,useLayoutEffect:bm,useMemo:Am,useReducer:vl,useRef:Cm,useState:function(){return vl(Ha)},useDebugValue:Sd,useDeferredValue:function(e){var t=xn();return km(t,mt.memoizedState,e)},useTransition:function(){var e=vl(Ha)[0],t=xn().memoizedState;return[e,t]},useMutableSource:fm,useSyncExternalStore:pm,useId:Rm,unstable_isNewReconciler:!1},Lx={readContext:vn,useCallback:Em,useContext:vn,useEffect:wd,useImperativeHandle:Sm,useInsertionEffect:_m,useLayoutEffect:bm,useMemo:Am,useReducer:xl,useRef:Cm,useState:function(){return xl(Ha)},useDebugValue:Sd,useDeferredValue:function(e){var t=xn();return mt===null?t.memoizedState=e:km(t,mt.memoizedState,e)},useTransition:function(){var e=xl(Ha)[0],t=xn().memoizedState;return[e,t]},useMutableSource:fm,useSyncExternalStore:pm,useId:Rm,unstable_isNewReconciler:!1};function Ki(e,t){try{var n="",r=t;do n+=hv(r),r=r.return;while(r);var i=n}catch(a){i=`
Error generating stack: `+a.message+`
`+a.stack}return{value:e,source:t,stack:i,digest:null}}function Cl(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function Xc(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var Nx=typeof WeakMap=="function"?WeakMap:Map;function jm(e,t,n){n=zn(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){xs||(xs=!0,lu=r),Xc(e,t)},n}function Bm(e,t,n){n=zn(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){Xc(e,t)}}var a=e.stateNode;return a!==null&&typeof a.componentDidCatch=="function"&&(n.callback=function(){Xc(e,t),typeof r!="function"&&(mr===null?mr=new Set([this]):mr.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),n}function K0(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new Nx;var i=new Set;r.set(t,i)}else i=r.get(t),i===void 0&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=Zx.bind(null,e,t,n),t.then(e,e))}function H0(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function G0(e,t,n,r,i){return e.mode&1?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=zn(-1,1),t.tag=2,pr(n,t,1))),n.lanes|=1),e)}var $x=Vn.ReactCurrentOwner,Vt=!1;function Nt(e,t,n,r){t.child=e===null?dm(t,null,n,r):Ji(t,e.child,n,r)}function q0(e,t,n,r,i){n=n.render;var a=t.ref;return Bi(t,i),r=_d(e,t,n,r,a,i),n=bd(),e!==null&&!Vt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,qn(e,t,i)):(We&&n&&cd(t),t.flags|=1,Nt(e,t,r,i),t.child)}function V0(e,t,n,r,i){if(e===null){var a=n.type;return typeof a=="function"&&!jd(a)&&a.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=a,Fm(e,t,a,r,i)):(e=Ho(n.type,null,r,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(a=e.child,!(e.lanes&i)){var o=a.memoizedProps;if(n=n.compare,n=n!==null?n:La,n(o,r)&&e.ref===t.ref)return qn(e,t,i)}return t.flags|=1,e=gr(a,r),e.ref=t.ref,e.return=t,t.child=e}function Fm(e,t,n,r,i){if(e!==null){var a=e.memoizedProps;if(La(a,r)&&e.ref===t.ref)if(Vt=!1,t.pendingProps=r=a,(e.lanes&i)!==0)e.flags&131072&&(Vt=!0);else return t.lanes=e.lanes,qn(e,t,i)}return Zc(e,t,n,r,i)}function Mm(e,t,n){var r=t.pendingProps,i=r.children,a=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ke(Si,tn),tn|=n;else{if(!(n&1073741824))return e=a!==null?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ke(Si,tn),tn|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=a!==null?a.baseLanes:n,Ke(Si,tn),tn|=r}else a!==null?(r=a.baseLanes|n,t.memoizedState=null):r=n,Ke(Si,tn),tn|=r;return Nt(e,t,i,n),t.child}function Om(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Zc(e,t,n,r,i){var a=Yt(n)?Kr:Ft.current;return a=$i(t,a),Bi(t,i),n=_d(e,t,n,r,a,i),r=bd(),e!==null&&!Vt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,qn(e,t,i)):(We&&r&&cd(t),t.flags|=1,Nt(e,t,n,i),t.child)}function W0(e,t,n,r,i){if(Yt(n)){var a=!0;cs(t)}else a=!1;if(Bi(t,i),t.stateNode===null)Jo(e,t),cm(t,n,r),Qc(t,n,r,i),r=!0;else if(e===null){var o=t.stateNode,s=t.memoizedProps;o.props=s;var l=o.context,c=n.contextType;typeof c=="object"&&c!==null?c=vn(c):(c=Yt(n)?Kr:Ft.current,c=$i(t,c));var u=n.getDerivedStateFromProps,m=typeof u=="function"||typeof o.getSnapshotBeforeUpdate=="function";m||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(s!==r||l!==c)&&$0(t,o,r,c),tr=!1;var f=t.memoizedState;o.state=f,ps(t,r,o,i),l=t.memoizedState,s!==r||f!==l||Wt.current||tr?(typeof u=="function"&&(Yc(t,n,u,r),l=t.memoizedState),(s=tr||N0(t,n,s,r,f,l,c))?(m||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),o.props=r,o.state=l,o.context=c,r=s):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,sm(e,t),s=t.memoizedProps,c=t.type===t.elementType?s:Sn(t.type,s),o.props=c,m=t.pendingProps,f=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=vn(l):(l=Yt(n)?Kr:Ft.current,l=$i(t,l));var g=n.getDerivedStateFromProps;(u=typeof g=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(s!==m||f!==l)&&$0(t,o,r,l),tr=!1,f=t.memoizedState,o.state=f,ps(t,r,o,i);var v=t.memoizedState;s!==m||f!==v||Wt.current||tr?(typeof g=="function"&&(Yc(t,n,g,r),v=t.memoizedState),(c=tr||N0(t,n,c,r,f,v,l)||!1)?(u||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,v,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,v,l)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||s===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||s===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=v),o.props=r,o.state=v,o.context=l,r=c):(typeof o.componentDidUpdate!="function"||s===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||s===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),r=!1)}return eu(e,t,n,r,a,i)}function eu(e,t,n,r,i,a){Om(e,t);var o=(t.flags&128)!==0;if(!r&&!o)return i&&F0(t,n,!1),qn(e,t,a);r=t.stateNode,$x.current=t;var s=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&o?(t.child=Ji(t,e.child,null,a),t.child=Ji(t,null,s,a)):Nt(e,t,s,a),t.memoizedState=r.state,i&&F0(t,n,!0),t.child}function Im(e){var t=e.stateNode;t.pendingContext?B0(e,t.pendingContext,t.pendingContext!==t.context):t.context&&B0(e,t.context,!1),gd(e,t.containerInfo)}function Y0(e,t,n,r,i){return Ui(),dd(i),t.flags|=256,Nt(e,t,n,r),t.child}var tu={dehydrated:null,treeContext:null,retryLane:0};function nu(e){return{baseLanes:e,cachePool:null,transitions:null}}function Lm(e,t,n){var r=t.pendingProps,i=Ze.current,a=!1,o=(t.flags&128)!==0,s;if((s=o)||(s=e!==null&&e.memoizedState===null?!1:(i&2)!==0),s?(a=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),Ke(Ze,i&1),e===null)return Vc(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=r.children,e=r.fallback,a?(r=t.mode,a=t.child,o={mode:"hidden",children:o},!(r&1)&&a!==null?(a.childLanes=0,a.pendingProps=o):a=$s(o,r,0,null),e=Jr(e,r,n,null),a.return=t,e.return=t,a.sibling=e,t.child=a,t.child.memoizedState=nu(n),t.memoizedState=tu,e):Ed(t,o));if(i=e.memoizedState,i!==null&&(s=i.dehydrated,s!==null))return Ux(e,t,o,r,s,i,n);if(a){a=r.fallback,o=t.mode,i=e.child,s=i.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&t.child!==i?(r=t.child,r.childLanes=0,r.pendingProps=l,t.deletions=null):(r=gr(i,l),r.subtreeFlags=i.subtreeFlags&14680064),s!==null?a=gr(s,a):(a=Jr(a,o,n,null),a.flags|=2),a.return=t,r.return=t,r.sibling=a,t.child=r,r=a,a=t.child,o=e.child.memoizedState,o=o===null?nu(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},a.memoizedState=o,a.childLanes=e.childLanes&~n,t.memoizedState=tu,r}return a=e.child,e=a.sibling,r=gr(a,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function Ed(e,t){return t=$s({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Ao(e,t,n,r){return r!==null&&dd(r),Ji(t,e.child,null,n),e=Ed(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Ux(e,t,n,r,i,a,o){if(n)return t.flags&256?(t.flags&=-257,r=Cl(Error(V(422))),Ao(e,t,o,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(a=r.fallback,i=t.mode,r=$s({mode:"visible",children:r.children},i,0,null),a=Jr(a,i,o,null),a.flags|=2,r.return=t,a.return=t,r.sibling=a,t.child=r,t.mode&1&&Ji(t,e.child,null,o),t.child.memoizedState=nu(o),t.memoizedState=tu,a);if(!(t.mode&1))return Ao(e,t,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var s=r.dgst;return r=s,a=Error(V(419)),r=Cl(a,r,void 0),Ao(e,t,o,r)}if(s=(o&e.childLanes)!==0,Vt||s){if(r=bt,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==a.retryLane&&(a.retryLane=i,Gn(e,i),Dn(r,e,i,-1))}return Dd(),r=Cl(Error(V(421))),Ao(e,t,o,r)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=e1.bind(null,e),i._reactRetry=t,null):(e=a.treeContext,an=fr(i.nextSibling),on=t,We=!0,Pn=null,e!==null&&(pn[mn++]=Un,pn[mn++]=Jn,pn[mn++]=Hr,Un=e.id,Jn=e.overflow,Hr=t),t=Ed(t,r.children),t.flags|=4096,t)}function Q0(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),Wc(e.return,t,n)}function _l(e,t,n,r,i){var a=e.memoizedState;a===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=i)}function Nm(e,t,n){var r=t.pendingProps,i=r.revealOrder,a=r.tail;if(Nt(e,t,r.children,n),r=Ze.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Q0(e,n,t);else if(e.tag===19)Q0(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Ke(Ze,r),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;n!==null;)e=n.alternate,e!==null&&ms(e)===null&&(i=n),n=n.sibling;n=i,n===null?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),_l(t,!1,i,n,a);break;case"backwards":for(n=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&ms(e)===null){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}_l(t,!0,n,null,a);break;case"together":_l(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Jo(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function qn(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),qr|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(V(153));if(t.child!==null){for(e=t.child,n=gr(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=gr(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function Jx(e,t,n){switch(t.tag){case 3:Im(t),Ui();break;case 5:hm(t);break;case 1:Yt(t.type)&&cs(t);break;case 4:gd(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;Ke(hs,r._currentValue),r._currentValue=i;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(Ke(Ze,Ze.current&1),t.flags|=128,null):n&t.child.childLanes?Lm(e,t,n):(Ke(Ze,Ze.current&1),e=qn(e,t,n),e!==null?e.sibling:null);Ke(Ze,Ze.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return Nm(e,t,n);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ke(Ze,Ze.current),r)break;return null;case 22:case 23:return t.lanes=0,Mm(e,t,n)}return qn(e,t,n)}var $m,ru,Um,Jm;$m=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};ru=function(){};Um=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,Lr(In.current);var a=null;switch(n){case"input":i=Ec(e,i),r=Ec(e,r),a=[];break;case"select":i=tt({},i,{value:void 0}),r=tt({},r,{value:void 0}),a=[];break;case"textarea":i=Rc(e,i),r=Rc(e,r),a=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=ss)}Tc(n,r);var o;n=null;for(c in i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var s=i[c];for(o in s)s.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(Da.hasOwnProperty(c)?a||(a=[]):(a=a||[]).push(c,null));for(c in r){var l=r[c];if(s=i!=null?i[c]:void 0,r.hasOwnProperty(c)&&l!==s&&(l!=null||s!=null))if(c==="style")if(s){for(o in s)!s.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&s[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(a||(a=[]),a.push(c,n)),n=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,s=s?s.__html:void 0,l!=null&&s!==l&&(a=a||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(a=a||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(Da.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&Ge("scroll",e),a||s===l||(a=[])):(a=a||[]).push(c,l))}n&&(a=a||[]).push("style",n);var c=a;(t.updateQueue=c)&&(t.flags|=4)}};Jm=function(e,t,n,r){n!==r&&(t.flags|=4)};function ra(e,t){if(!We)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Dt(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function zx(e,t,n){var r=t.pendingProps;switch(ud(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Dt(t),null;case 1:return Yt(t.type)&&ls(),Dt(t),null;case 3:return r=t.stateNode,zi(),qe(Wt),qe(Ft),xd(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(So(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Pn!==null&&(du(Pn),Pn=null))),ru(e,t),Dt(t),null;case 5:vd(t);var i=Lr(za.current);if(n=t.type,e!==null&&t.stateNode!=null)Um(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(V(166));return Dt(t),null}if(e=Lr(In.current),So(t)){r=t.stateNode,n=t.type;var a=t.memoizedProps;switch(r[Mn]=t,r[Ua]=a,e=(t.mode&1)!==0,n){case"dialog":Ge("cancel",r),Ge("close",r);break;case"iframe":case"object":case"embed":Ge("load",r);break;case"video":case"audio":for(i=0;i<fa.length;i++)Ge(fa[i],r);break;case"source":Ge("error",r);break;case"img":case"image":case"link":Ge("error",r),Ge("load",r);break;case"details":Ge("toggle",r);break;case"input":o0(r,a),Ge("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!a.multiple},Ge("invalid",r);break;case"textarea":l0(r,a),Ge("invalid",r)}Tc(n,a),i=null;for(var o in a)if(a.hasOwnProperty(o)){var s=a[o];o==="children"?typeof s=="string"?r.textContent!==s&&(a.suppressHydrationWarning!==!0&&wo(r.textContent,s,e),i=["children",s]):typeof s=="number"&&r.textContent!==""+s&&(a.suppressHydrationWarning!==!0&&wo(r.textContent,s,e),i=["children",""+s]):Da.hasOwnProperty(o)&&s!=null&&o==="onScroll"&&Ge("scroll",r)}switch(n){case"input":mo(r),s0(r,a,!0);break;case"textarea":mo(r),c0(r);break;case"select":case"option":break;default:typeof a.onClick=="function"&&(r.onclick=ss)}r=i,t.updateQueue=r,r!==null&&(t.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=mp(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=o.createElement(n,{is:r.is}):(e=o.createElement(n),n==="select"&&(o=e,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):e=o.createElementNS(e,n),e[Mn]=t,e[Ua]=r,$m(e,t,!1,!1),t.stateNode=e;e:{switch(o=Dc(n,r),n){case"dialog":Ge("cancel",e),Ge("close",e),i=r;break;case"iframe":case"object":case"embed":Ge("load",e),i=r;break;case"video":case"audio":for(i=0;i<fa.length;i++)Ge(fa[i],e);i=r;break;case"source":Ge("error",e),i=r;break;case"img":case"image":case"link":Ge("error",e),Ge("load",e),i=r;break;case"details":Ge("toggle",e),i=r;break;case"input":o0(e,r),i=Ec(e,r),Ge("invalid",e);break;case"option":i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=tt({},r,{value:void 0}),Ge("invalid",e);break;case"textarea":l0(e,r),i=Rc(e,r),Ge("invalid",e);break;default:i=r}Tc(n,i),s=i;for(a in s)if(s.hasOwnProperty(a)){var l=s[a];a==="style"?vp(e,l):a==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&yp(e,l)):a==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&ja(e,l):typeof l=="number"&&ja(e,""+l):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(Da.hasOwnProperty(a)?l!=null&&a==="onScroll"&&Ge("scroll",e):l!=null&&Wu(e,a,l,o))}switch(n){case"input":mo(e),s0(e,r,!1);break;case"textarea":mo(e),c0(e);break;case"option":r.value!=null&&e.setAttribute("value",""+xr(r.value));break;case"select":e.multiple=!!r.multiple,a=r.value,a!=null?Pi(e,!!r.multiple,a,!1):r.defaultValue!=null&&Pi(e,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=ss)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Dt(t),null;case 6:if(e&&t.stateNode!=null)Jm(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(V(166));if(n=Lr(za.current),Lr(In.current),So(t)){if(r=t.stateNode,n=t.memoizedProps,r[Mn]=t,(a=r.nodeValue!==n)&&(e=on,e!==null))switch(e.tag){case 3:wo(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&wo(r.nodeValue,n,(e.mode&1)!==0)}a&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Mn]=t,t.stateNode=r}return Dt(t),null;case 13:if(qe(Ze),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(We&&an!==null&&t.mode&1&&!(t.flags&128))am(),Ui(),t.flags|=98560,a=!1;else if(a=So(t),r!==null&&r.dehydrated!==null){if(e===null){if(!a)throw Error(V(318));if(a=t.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(V(317));a[Mn]=t}else Ui(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Dt(t),a=!1}else Pn!==null&&(du(Pn),Pn=null),a=!0;if(!a)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||Ze.current&1?gt===0&&(gt=3):Dd())),t.updateQueue!==null&&(t.flags|=4),Dt(t),null);case 4:return zi(),ru(e,t),e===null&&Na(t.stateNode.containerInfo),Dt(t),null;case 10:return pd(t.type._context),Dt(t),null;case 17:return Yt(t.type)&&ls(),Dt(t),null;case 19:if(qe(Ze),a=t.memoizedState,a===null)return Dt(t),null;if(r=(t.flags&128)!==0,o=a.rendering,o===null)if(r)ra(a,!1);else{if(gt!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=ms(e),o!==null){for(t.flags|=128,ra(a,!1),r=o.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)a=n,e=r,a.flags&=14680066,o=a.alternate,o===null?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=o.childLanes,a.lanes=o.lanes,a.child=o.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=o.memoizedProps,a.memoizedState=o.memoizedState,a.updateQueue=o.updateQueue,a.type=o.type,e=o.dependencies,a.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Ke(Ze,Ze.current&1|2),t.child}e=e.sibling}a.tail!==null&&lt()>Hi&&(t.flags|=128,r=!0,ra(a,!1),t.lanes=4194304)}else{if(!r)if(e=ms(o),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),ra(a,!0),a.tail===null&&a.tailMode==="hidden"&&!o.alternate&&!We)return Dt(t),null}else 2*lt()-a.renderingStartTime>Hi&&n!==1073741824&&(t.flags|=128,r=!0,ra(a,!1),t.lanes=4194304);a.isBackwards?(o.sibling=t.child,t.child=o):(n=a.last,n!==null?n.sibling=o:t.child=o,a.last=o)}return a.tail!==null?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=lt(),t.sibling=null,n=Ze.current,Ke(Ze,r?n&1|2:n&1),t):(Dt(t),null);case 22:case 23:return Td(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?tn&1073741824&&(Dt(t),t.subtreeFlags&6&&(t.flags|=8192)):Dt(t),null;case 24:return null;case 25:return null}throw Error(V(156,t.tag))}function Kx(e,t){switch(ud(t),t.tag){case 1:return Yt(t.type)&&ls(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return zi(),qe(Wt),qe(Ft),xd(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return vd(t),null;case 13:if(qe(Ze),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(V(340));Ui()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return qe(Ze),null;case 4:return zi(),null;case 10:return pd(t.type._context),null;case 22:case 23:return Td(),null;case 24:return null;default:return null}}var ko=!1,Bt=!1,Hx=typeof WeakSet=="function"?WeakSet:Set,ie=null;function wi(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){it(e,t,r)}else n.current=null}function iu(e,t,n){try{n()}catch(r){it(e,t,r)}}var X0=!1;function Gx(e,t){if(Uc=is,e=Gp(),ld(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,a=r.focusNode;r=r.focusOffset;try{n.nodeType,a.nodeType}catch{n=null;break e}var o=0,s=-1,l=-1,c=0,u=0,m=e,f=null;t:for(;;){for(var g;m!==n||i!==0&&m.nodeType!==3||(s=o+i),m!==a||r!==0&&m.nodeType!==3||(l=o+r),m.nodeType===3&&(o+=m.nodeValue.length),(g=m.firstChild)!==null;)f=m,m=g;for(;;){if(m===e)break t;if(f===n&&++c===i&&(s=o),f===a&&++u===r&&(l=o),(g=m.nextSibling)!==null)break;m=f,f=m.parentNode}m=g}n=s===-1||l===-1?null:{start:s,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(Jc={focusedElem:e,selectionRange:n},is=!1,ie=t;ie!==null;)if(t=ie,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,ie=e;else for(;ie!==null;){t=ie;try{var v=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(v!==null){var C=v.memoizedProps,_=v.memoizedState,x=t.stateNode,y=x.getSnapshotBeforeUpdate(t.elementType===t.type?C:Sn(t.type,C),_);x.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var h=t.stateNode.containerInfo;h.nodeType===1?h.textContent="":h.nodeType===9&&h.documentElement&&h.removeChild(h.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(V(163))}}catch(p){it(t,t.return,p)}if(e=t.sibling,e!==null){e.return=t.return,ie=e;break}ie=t.return}return v=X0,X0=!1,v}function wa(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&e)===e){var a=i.destroy;i.destroy=void 0,a!==void 0&&iu(t,n,a)}i=i.next}while(i!==r)}}function Ls(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function au(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function zm(e){var t=e.alternate;t!==null&&(e.alternate=null,zm(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Mn],delete t[Ua],delete t[Hc],delete t[Rx],delete t[Px])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Km(e){return e.tag===5||e.tag===3||e.tag===4}function Z0(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Km(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function ou(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=ss));else if(r!==4&&(e=e.child,e!==null))for(ou(e,t,n),e=e.sibling;e!==null;)ou(e,t,n),e=e.sibling}function su(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(su(e,t,n),e=e.sibling;e!==null;)su(e,t,n),e=e.sibling}var At=null,An=!1;function Zn(e,t,n){for(n=n.child;n!==null;)Hm(e,t,n),n=n.sibling}function Hm(e,t,n){if(On&&typeof On.onCommitFiberUnmount=="function")try{On.onCommitFiberUnmount(Ts,n)}catch{}switch(n.tag){case 5:Bt||wi(n,t);case 6:var r=At,i=An;At=null,Zn(e,t,n),At=r,An=i,At!==null&&(An?(e=At,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):At.removeChild(n.stateNode));break;case 18:At!==null&&(An?(e=At,n=n.stateNode,e.nodeType===8?pl(e.parentNode,n):e.nodeType===1&&pl(e,n),Oa(e)):pl(At,n.stateNode));break;case 4:r=At,i=An,At=n.stateNode.containerInfo,An=!0,Zn(e,t,n),At=r,An=i;break;case 0:case 11:case 14:case 15:if(!Bt&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var a=i,o=a.destroy;a=a.tag,o!==void 0&&(a&2||a&4)&&iu(n,t,o),i=i.next}while(i!==r)}Zn(e,t,n);break;case 1:if(!Bt&&(wi(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(s){it(n,t,s)}Zn(e,t,n);break;case 21:Zn(e,t,n);break;case 22:n.mode&1?(Bt=(r=Bt)||n.memoizedState!==null,Zn(e,t,n),Bt=r):Zn(e,t,n);break;default:Zn(e,t,n)}}function eh(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new Hx),t.forEach(function(r){var i=t1.bind(null,e,r);n.has(r)||(n.add(r),r.then(i,i))})}}function bn(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var a=e,o=t,s=o;e:for(;s!==null;){switch(s.tag){case 5:At=s.stateNode,An=!1;break e;case 3:At=s.stateNode.containerInfo,An=!0;break e;case 4:At=s.stateNode.containerInfo,An=!0;break e}s=s.return}if(At===null)throw Error(V(160));Hm(a,o,i),At=null,An=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(c){it(i,t,c)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Gm(t,e),t=t.sibling}function Gm(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(bn(t,e),Bn(e),r&4){try{wa(3,e,e.return),Ls(3,e)}catch(C){it(e,e.return,C)}try{wa(5,e,e.return)}catch(C){it(e,e.return,C)}}break;case 1:bn(t,e),Bn(e),r&512&&n!==null&&wi(n,n.return);break;case 5:if(bn(t,e),Bn(e),r&512&&n!==null&&wi(n,n.return),e.flags&32){var i=e.stateNode;try{ja(i,"")}catch(C){it(e,e.return,C)}}if(r&4&&(i=e.stateNode,i!=null)){var a=e.memoizedProps,o=n!==null?n.memoizedProps:a,s=e.type,l=e.updateQueue;if(e.updateQueue=null,l!==null)try{s==="input"&&a.type==="radio"&&a.name!=null&&fp(i,a),Dc(s,o);var c=Dc(s,a);for(o=0;o<l.length;o+=2){var u=l[o],m=l[o+1];u==="style"?vp(i,m):u==="dangerouslySetInnerHTML"?yp(i,m):u==="children"?ja(i,m):Wu(i,u,m,c)}switch(s){case"input":Ac(i,a);break;case"textarea":pp(i,a);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!a.multiple;var g=a.value;g!=null?Pi(i,!!a.multiple,g,!1):f!==!!a.multiple&&(a.defaultValue!=null?Pi(i,!!a.multiple,a.defaultValue,!0):Pi(i,!!a.multiple,a.multiple?[]:"",!1))}i[Ua]=a}catch(C){it(e,e.return,C)}}break;case 6:if(bn(t,e),Bn(e),r&4){if(e.stateNode===null)throw Error(V(162));i=e.stateNode,a=e.memoizedProps;try{i.nodeValue=a}catch(C){it(e,e.return,C)}}break;case 3:if(bn(t,e),Bn(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Oa(t.containerInfo)}catch(C){it(e,e.return,C)}break;case 4:bn(t,e),Bn(e);break;case 13:bn(t,e),Bn(e),i=e.child,i.flags&8192&&(a=i.memoizedState!==null,i.stateNode.isHidden=a,!a||i.alternate!==null&&i.alternate.memoizedState!==null||(Rd=lt())),r&4&&eh(e);break;case 22:if(u=n!==null&&n.memoizedState!==null,e.mode&1?(Bt=(c=Bt)||u,bn(t,e),Bt=c):bn(t,e),Bn(e),r&8192){if(c=e.memoizedState!==null,(e.stateNode.isHidden=c)&&!u&&e.mode&1)for(ie=e,u=e.child;u!==null;){for(m=ie=u;ie!==null;){switch(f=ie,g=f.child,f.tag){case 0:case 11:case 14:case 15:wa(4,f,f.return);break;case 1:wi(f,f.return);var v=f.stateNode;if(typeof v.componentWillUnmount=="function"){r=f,n=f.return;try{t=r,v.props=t.memoizedProps,v.state=t.memoizedState,v.componentWillUnmount()}catch(C){it(r,n,C)}}break;case 5:wi(f,f.return);break;case 22:if(f.memoizedState!==null){nh(m);continue}}g!==null?(g.return=f,ie=g):nh(m)}u=u.sibling}e:for(u=null,m=e;;){if(m.tag===5){if(u===null){u=m;try{i=m.stateNode,c?(a=i.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none"):(s=m.stateNode,l=m.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,s.style.display=gp("display",o))}catch(C){it(e,e.return,C)}}}else if(m.tag===6){if(u===null)try{m.stateNode.nodeValue=c?"":m.memoizedProps}catch(C){it(e,e.return,C)}}else if((m.tag!==22&&m.tag!==23||m.memoizedState===null||m===e)&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===e)break e;for(;m.sibling===null;){if(m.return===null||m.return===e)break e;u===m&&(u=null),m=m.return}u===m&&(u=null),m.sibling.return=m.return,m=m.sibling}}break;case 19:bn(t,e),Bn(e),r&4&&eh(e);break;case 21:break;default:bn(t,e),Bn(e)}}function Bn(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(Km(n)){var r=n;break e}n=n.return}throw Error(V(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(ja(i,""),r.flags&=-33);var a=Z0(e);su(e,a,i);break;case 3:case 4:var o=r.stateNode.containerInfo,s=Z0(e);ou(e,s,o);break;default:throw Error(V(161))}}catch(l){it(e,e.return,l)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function qx(e,t,n){ie=e,qm(e)}function qm(e,t,n){for(var r=(e.mode&1)!==0;ie!==null;){var i=ie,a=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||ko;if(!o){var s=i.alternate,l=s!==null&&s.memoizedState!==null||Bt;s=ko;var c=Bt;if(ko=o,(Bt=l)&&!c)for(ie=i;ie!==null;)o=ie,l=o.child,o.tag===22&&o.memoizedState!==null?rh(i):l!==null?(l.return=o,ie=l):rh(i);for(;a!==null;)ie=a,qm(a),a=a.sibling;ie=i,ko=s,Bt=c}th(e)}else i.subtreeFlags&8772&&a!==null?(a.return=i,ie=a):th(e)}}function th(e){for(;ie!==null;){var t=ie;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Bt||Ls(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!Bt)if(n===null)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:Sn(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;a!==null&&L0(t,a,r);break;case 3:var o=t.updateQueue;if(o!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}L0(t,o,n)}break;case 5:var s=t.stateNode;if(n===null&&t.flags&4){n=s;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var c=t.alternate;if(c!==null){var u=c.memoizedState;if(u!==null){var m=u.dehydrated;m!==null&&Oa(m)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(V(163))}Bt||t.flags&512&&au(t)}catch(f){it(t,t.return,f)}}if(t===e){ie=null;break}if(n=t.sibling,n!==null){n.return=t.return,ie=n;break}ie=t.return}}function nh(e){for(;ie!==null;){var t=ie;if(t===e){ie=null;break}var n=t.sibling;if(n!==null){n.return=t.return,ie=n;break}ie=t.return}}function rh(e){for(;ie!==null;){var t=ie;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{Ls(4,t)}catch(l){it(t,n,l)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var i=t.return;try{r.componentDidMount()}catch(l){it(t,i,l)}}var a=t.return;try{au(t)}catch(l){it(t,a,l)}break;case 5:var o=t.return;try{au(t)}catch(l){it(t,o,l)}}}catch(l){it(t,t.return,l)}if(t===e){ie=null;break}var s=t.sibling;if(s!==null){s.return=t.return,ie=s;break}ie=t.return}}var Vx=Math.ceil,vs=Vn.ReactCurrentDispatcher,Ad=Vn.ReactCurrentOwner,gn=Vn.ReactCurrentBatchConfig,je=0,bt=null,ft=null,kt=0,tn=0,Si=br(0),gt=0,qa=null,qr=0,Ns=0,kd=0,Sa=null,qt=null,Rd=0,Hi=1/0,Ln=null,xs=!1,lu=null,mr=null,Ro=!1,sr=null,Cs=0,Ea=0,cu=null,zo=-1,Ko=0;function Ut(){return je&6?lt():zo!==-1?zo:zo=lt()}function yr(e){return e.mode&1?je&2&&kt!==0?kt&-kt:Dx.transition!==null?(Ko===0&&(Ko=Tp()),Ko):(e=Ue,e!==0||(e=window.event,e=e===void 0?16:Ip(e.type)),e):1}function Dn(e,t,n,r){if(50<Ea)throw Ea=0,cu=null,Error(V(185));io(e,n,r),(!(je&2)||e!==bt)&&(e===bt&&(!(je&2)&&(Ns|=n),gt===4&&ir(e,kt)),Qt(e,r),n===1&&je===0&&!(t.mode&1)&&(Hi=lt()+500,Ms&&wr()))}function Qt(e,t){var n=e.callbackNode;Dv(e,t);var r=rs(e,e===bt?kt:0);if(r===0)n!==null&&h0(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&h0(n),t===1)e.tag===0?Tx(ih.bind(null,e)):nm(ih.bind(null,e)),Ax(function(){!(je&6)&&wr()}),n=null;else{switch(Dp(r)){case 1:n=ed;break;case 4:n=Rp;break;case 16:n=ns;break;case 536870912:n=Pp;break;default:n=ns}n=ty(n,Vm.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function Vm(e,t){if(zo=-1,Ko=0,je&6)throw Error(V(327));var n=e.callbackNode;if(Fi()&&e.callbackNode!==n)return null;var r=rs(e,e===bt?kt:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=_s(e,r);else{t=r;var i=je;je|=2;var a=Ym();(bt!==e||kt!==t)&&(Ln=null,Hi=lt()+500,Ur(e,t));do try{Qx();break}catch(s){Wm(e,s)}while(1);fd(),vs.current=a,je=i,ft!==null?t=0:(bt=null,kt=0,t=gt)}if(t!==0){if(t===2&&(i=Oc(e),i!==0&&(r=i,t=uu(e,i))),t===1)throw n=qa,Ur(e,0),ir(e,r),Qt(e,lt()),n;if(t===6)ir(e,r);else{if(i=e.current.alternate,!(r&30)&&!Wx(i)&&(t=_s(e,r),t===2&&(a=Oc(e),a!==0&&(r=a,t=uu(e,a))),t===1))throw n=qa,Ur(e,0),ir(e,r),Qt(e,lt()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(V(345));case 2:Rr(e,qt,Ln);break;case 3:if(ir(e,r),(r&130023424)===r&&(t=Rd+500-lt(),10<t)){if(rs(e,0)!==0)break;if(i=e.suspendedLanes,(i&r)!==r){Ut(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=Kc(Rr.bind(null,e,qt,Ln),t);break}Rr(e,qt,Ln);break;case 4:if(ir(e,r),(r&4194240)===r)break;for(t=e.eventTimes,i=-1;0<r;){var o=31-Tn(r);a=1<<o,o=t[o],o>i&&(i=o),r&=~a}if(r=i,r=lt()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Vx(r/1960))-r,10<r){e.timeoutHandle=Kc(Rr.bind(null,e,qt,Ln),r);break}Rr(e,qt,Ln);break;case 5:Rr(e,qt,Ln);break;default:throw Error(V(329))}}}return Qt(e,lt()),e.callbackNode===n?Vm.bind(null,e):null}function uu(e,t){var n=Sa;return e.current.memoizedState.isDehydrated&&(Ur(e,t).flags|=256),e=_s(e,t),e!==2&&(t=qt,qt=n,t!==null&&du(t)),e}function du(e){qt===null?qt=e:qt.push.apply(qt,e)}function Wx(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],a=i.getSnapshot;i=i.value;try{if(!jn(a(),i))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function ir(e,t){for(t&=~kd,t&=~Ns,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Tn(t),r=1<<n;e[n]=-1,t&=~r}}function ih(e){if(je&6)throw Error(V(327));Fi();var t=rs(e,0);if(!(t&1))return Qt(e,lt()),null;var n=_s(e,t);if(e.tag!==0&&n===2){var r=Oc(e);r!==0&&(t=r,n=uu(e,r))}if(n===1)throw n=qa,Ur(e,0),ir(e,t),Qt(e,lt()),n;if(n===6)throw Error(V(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Rr(e,qt,Ln),Qt(e,lt()),null}function Pd(e,t){var n=je;je|=1;try{return e(t)}finally{je=n,je===0&&(Hi=lt()+500,Ms&&wr())}}function Vr(e){sr!==null&&sr.tag===0&&!(je&6)&&Fi();var t=je;je|=1;var n=gn.transition,r=Ue;try{if(gn.transition=null,Ue=1,e)return e()}finally{Ue=r,gn.transition=n,je=t,!(je&6)&&wr()}}function Td(){tn=Si.current,qe(Si)}function Ur(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,Ex(n)),ft!==null)for(n=ft.return;n!==null;){var r=n;switch(ud(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&ls();break;case 3:zi(),qe(Wt),qe(Ft),xd();break;case 5:vd(r);break;case 4:zi();break;case 13:qe(Ze);break;case 19:qe(Ze);break;case 10:pd(r.type._context);break;case 22:case 23:Td()}n=n.return}if(bt=e,ft=e=gr(e.current,null),kt=tn=t,gt=0,qa=null,kd=Ns=qr=0,qt=Sa=null,Ir!==null){for(t=0;t<Ir.length;t++)if(n=Ir[t],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,a=n.pending;if(a!==null){var o=a.next;a.next=i,r.next=o}n.pending=r}Ir=null}return e}function Wm(e,t){do{var n=ft;try{if(fd(),$o.current=gs,ys){for(var r=et.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}ys=!1}if(Gr=0,_t=mt=et=null,ba=!1,Ka=0,Ad.current=null,n===null||n.return===null){gt=1,qa=t,ft=null;break}e:{var a=e,o=n.return,s=n,l=t;if(t=kt,s.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,u=s,m=u.tag;if(!(u.mode&1)&&(m===0||m===11||m===15)){var f=u.alternate;f?(u.updateQueue=f.updateQueue,u.memoizedState=f.memoizedState,u.lanes=f.lanes):(u.updateQueue=null,u.memoizedState=null)}var g=H0(o);if(g!==null){g.flags&=-257,G0(g,o,s,a,t),g.mode&1&&K0(a,c,t),t=g,l=c;var v=t.updateQueue;if(v===null){var C=new Set;C.add(l),t.updateQueue=C}else v.add(l);break e}else{if(!(t&1)){K0(a,c,t),Dd();break e}l=Error(V(426))}}else if(We&&s.mode&1){var _=H0(o);if(_!==null){!(_.flags&65536)&&(_.flags|=256),G0(_,o,s,a,t),dd(Ki(l,s));break e}}a=l=Ki(l,s),gt!==4&&(gt=2),Sa===null?Sa=[a]:Sa.push(a),a=o;do{switch(a.tag){case 3:a.flags|=65536,t&=-t,a.lanes|=t;var x=jm(a,l,t);I0(a,x);break e;case 1:s=l;var y=a.type,h=a.stateNode;if(!(a.flags&128)&&(typeof y.getDerivedStateFromError=="function"||h!==null&&typeof h.componentDidCatch=="function"&&(mr===null||!mr.has(h)))){a.flags|=65536,t&=-t,a.lanes|=t;var p=Bm(a,s,t);I0(a,p);break e}}a=a.return}while(a!==null)}Xm(n)}catch(w){t=w,ft===n&&n!==null&&(ft=n=n.return);continue}break}while(1)}function Ym(){var e=vs.current;return vs.current=gs,e===null?gs:e}function Dd(){(gt===0||gt===3||gt===2)&&(gt=4),bt===null||!(qr&268435455)&&!(Ns&268435455)||ir(bt,kt)}function _s(e,t){var n=je;je|=2;var r=Ym();(bt!==e||kt!==t)&&(Ln=null,Ur(e,t));do try{Yx();break}catch(i){Wm(e,i)}while(1);if(fd(),je=n,vs.current=r,ft!==null)throw Error(V(261));return bt=null,kt=0,gt}function Yx(){for(;ft!==null;)Qm(ft)}function Qx(){for(;ft!==null&&!bv();)Qm(ft)}function Qm(e){var t=ey(e.alternate,e,tn);e.memoizedProps=e.pendingProps,t===null?Xm(e):ft=t,Ad.current=null}function Xm(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=Kx(n,t),n!==null){n.flags&=32767,ft=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{gt=6,ft=null;return}}else if(n=zx(n,t,tn),n!==null){ft=n;return}if(t=t.sibling,t!==null){ft=t;return}ft=t=e}while(t!==null);gt===0&&(gt=5)}function Rr(e,t,n){var r=Ue,i=gn.transition;try{gn.transition=null,Ue=1,Xx(e,t,n,r)}finally{gn.transition=i,Ue=r}return null}function Xx(e,t,n,r){do Fi();while(sr!==null);if(je&6)throw Error(V(327));n=e.finishedWork;var i=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(V(177));e.callbackNode=null,e.callbackPriority=0;var a=n.lanes|n.childLanes;if(jv(e,a),e===bt&&(ft=bt=null,kt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Ro||(Ro=!0,ty(ns,function(){return Fi(),null})),a=(n.flags&15990)!==0,n.subtreeFlags&15990||a){a=gn.transition,gn.transition=null;var o=Ue;Ue=1;var s=je;je|=4,Ad.current=null,Gx(e,n),Gm(n,e),vx(Jc),is=!!Uc,Jc=Uc=null,e.current=n,qx(n),wv(),je=s,Ue=o,gn.transition=a}else e.current=n;if(Ro&&(Ro=!1,sr=e,Cs=i),a=e.pendingLanes,a===0&&(mr=null),Av(n.stateNode),Qt(e,lt()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(xs)throw xs=!1,e=lu,lu=null,e;return Cs&1&&e.tag!==0&&Fi(),a=e.pendingLanes,a&1?e===cu?Ea++:(Ea=0,cu=e):Ea=0,wr(),null}function Fi(){if(sr!==null){var e=Dp(Cs),t=gn.transition,n=Ue;try{if(gn.transition=null,Ue=16>e?16:e,sr===null)var r=!1;else{if(e=sr,sr=null,Cs=0,je&6)throw Error(V(331));var i=je;for(je|=4,ie=e.current;ie!==null;){var a=ie,o=a.child;if(ie.flags&16){var s=a.deletions;if(s!==null){for(var l=0;l<s.length;l++){var c=s[l];for(ie=c;ie!==null;){var u=ie;switch(u.tag){case 0:case 11:case 15:wa(8,u,a)}var m=u.child;if(m!==null)m.return=u,ie=m;else for(;ie!==null;){u=ie;var f=u.sibling,g=u.return;if(zm(u),u===c){ie=null;break}if(f!==null){f.return=g,ie=f;break}ie=g}}}var v=a.alternate;if(v!==null){var C=v.child;if(C!==null){v.child=null;do{var _=C.sibling;C.sibling=null,C=_}while(C!==null)}}ie=a}}if(a.subtreeFlags&2064&&o!==null)o.return=a,ie=o;else e:for(;ie!==null;){if(a=ie,a.flags&2048)switch(a.tag){case 0:case 11:case 15:wa(9,a,a.return)}var x=a.sibling;if(x!==null){x.return=a.return,ie=x;break e}ie=a.return}}var y=e.current;for(ie=y;ie!==null;){o=ie;var h=o.child;if(o.subtreeFlags&2064&&h!==null)h.return=o,ie=h;else e:for(o=y;ie!==null;){if(s=ie,s.flags&2048)try{switch(s.tag){case 0:case 11:case 15:Ls(9,s)}}catch(w){it(s,s.return,w)}if(s===o){ie=null;break e}var p=s.sibling;if(p!==null){p.return=s.return,ie=p;break e}ie=s.return}}if(je=i,wr(),On&&typeof On.onPostCommitFiberRoot=="function")try{On.onPostCommitFiberRoot(Ts,e)}catch{}r=!0}return r}finally{Ue=n,gn.transition=t}}return!1}function ah(e,t,n){t=Ki(n,t),t=jm(e,t,1),e=pr(e,t,1),t=Ut(),e!==null&&(io(e,1,t),Qt(e,t))}function it(e,t,n){if(e.tag===3)ah(e,e,n);else for(;t!==null;){if(t.tag===3){ah(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(mr===null||!mr.has(r))){e=Ki(n,e),e=Bm(t,e,1),t=pr(t,e,1),e=Ut(),t!==null&&(io(t,1,e),Qt(t,e));break}}t=t.return}}function Zx(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=Ut(),e.pingedLanes|=e.suspendedLanes&n,bt===e&&(kt&n)===n&&(gt===4||gt===3&&(kt&130023424)===kt&&500>lt()-Rd?Ur(e,0):kd|=n),Qt(e,t)}function Zm(e,t){t===0&&(e.mode&1?(t=vo,vo<<=1,!(vo&130023424)&&(vo=4194304)):t=1);var n=Ut();e=Gn(e,t),e!==null&&(io(e,t,n),Qt(e,n))}function e1(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),Zm(e,n)}function t1(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(V(314))}r!==null&&r.delete(t),Zm(e,n)}var ey;ey=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||Wt.current)Vt=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return Vt=!1,Jx(e,t,n);Vt=!!(e.flags&131072)}else Vt=!1,We&&t.flags&1048576&&rm(t,ds,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Jo(e,t),e=t.pendingProps;var i=$i(t,Ft.current);Bi(t,n),i=_d(null,t,r,e,i,n);var a=bd();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Yt(r)?(a=!0,cs(t)):a=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,yd(t),i.updater=Os,t.stateNode=i,i._reactInternals=t,Qc(t,r,e,n),t=eu(null,t,r,!0,a,n)):(t.tag=0,We&&a&&cd(t),Nt(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Jo(e,t),e=t.pendingProps,i=r._init,r=i(r._payload),t.type=r,i=t.tag=r1(r),e=Sn(r,e),i){case 0:t=Zc(null,t,r,e,n);break e;case 1:t=W0(null,t,r,e,n);break e;case 11:t=q0(null,t,r,e,n);break e;case 14:t=V0(null,t,r,Sn(r.type,e),n);break e}throw Error(V(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Sn(r,i),Zc(e,t,r,i,n);case 1:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Sn(r,i),W0(e,t,r,i,n);case 3:e:{if(Im(t),e===null)throw Error(V(387));r=t.pendingProps,a=t.memoizedState,i=a.element,sm(e,t),ps(t,r,null,n);var o=t.memoizedState;if(r=o.element,a.isDehydrated)if(a={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=a,t.memoizedState=a,t.flags&256){i=Ki(Error(V(423)),t),t=Y0(e,t,r,n,i);break e}else if(r!==i){i=Ki(Error(V(424)),t),t=Y0(e,t,r,n,i);break e}else for(an=fr(t.stateNode.containerInfo.firstChild),on=t,We=!0,Pn=null,n=dm(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Ui(),r===i){t=qn(e,t,n);break e}Nt(e,t,r,n)}t=t.child}return t;case 5:return hm(t),e===null&&Vc(t),r=t.type,i=t.pendingProps,a=e!==null?e.memoizedProps:null,o=i.children,zc(r,i)?o=null:a!==null&&zc(r,a)&&(t.flags|=32),Om(e,t),Nt(e,t,o,n),t.child;case 6:return e===null&&Vc(t),null;case 13:return Lm(e,t,n);case 4:return gd(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=Ji(t,null,r,n):Nt(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Sn(r,i),q0(e,t,r,i,n);case 7:return Nt(e,t,t.pendingProps,n),t.child;case 8:return Nt(e,t,t.pendingProps.children,n),t.child;case 12:return Nt(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,a=t.memoizedProps,o=i.value,Ke(hs,r._currentValue),r._currentValue=o,a!==null)if(jn(a.value,o)){if(a.children===i.children&&!Wt.current){t=qn(e,t,n);break e}}else for(a=t.child,a!==null&&(a.return=t);a!==null;){var s=a.dependencies;if(s!==null){o=a.child;for(var l=s.firstContext;l!==null;){if(l.context===r){if(a.tag===1){l=zn(-1,n&-n),l.tag=2;var c=a.updateQueue;if(c!==null){c=c.shared;var u=c.pending;u===null?l.next=l:(l.next=u.next,u.next=l),c.pending=l}}a.lanes|=n,l=a.alternate,l!==null&&(l.lanes|=n),Wc(a.return,n,t),s.lanes|=n;break}l=l.next}}else if(a.tag===10)o=a.type===t.type?null:a.child;else if(a.tag===18){if(o=a.return,o===null)throw Error(V(341));o.lanes|=n,s=o.alternate,s!==null&&(s.lanes|=n),Wc(o,n,t),o=a.sibling}else o=a.child;if(o!==null)o.return=a;else for(o=a;o!==null;){if(o===t){o=null;break}if(a=o.sibling,a!==null){a.return=o.return,o=a;break}o=o.return}a=o}Nt(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,Bi(t,n),i=vn(i),r=r(i),t.flags|=1,Nt(e,t,r,n),t.child;case 14:return r=t.type,i=Sn(r,t.pendingProps),i=Sn(r.type,i),V0(e,t,r,i,n);case 15:return Fm(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Sn(r,i),Jo(e,t),t.tag=1,Yt(r)?(e=!0,cs(t)):e=!1,Bi(t,n),cm(t,r,i),Qc(t,r,i,n),eu(null,t,r,!0,e,n);case 19:return Nm(e,t,n);case 22:return Mm(e,t,n)}throw Error(V(156,t.tag))};function ty(e,t){return kp(e,t)}function n1(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function yn(e,t,n,r){return new n1(e,t,n,r)}function jd(e){return e=e.prototype,!(!e||!e.isReactComponent)}function r1(e){if(typeof e=="function")return jd(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Qu)return 11;if(e===Xu)return 14}return 2}function gr(e,t){var n=e.alternate;return n===null?(n=yn(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Ho(e,t,n,r,i,a){var o=2;if(r=e,typeof e=="function")jd(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case pi:return Jr(n.children,i,a,t);case Yu:o=8,i|=8;break;case _c:return e=yn(12,n,t,i|2),e.elementType=_c,e.lanes=a,e;case bc:return e=yn(13,n,t,i),e.elementType=bc,e.lanes=a,e;case wc:return e=yn(19,n,t,i),e.elementType=wc,e.lanes=a,e;case up:return $s(n,i,a,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case lp:o=10;break e;case cp:o=9;break e;case Qu:o=11;break e;case Xu:o=14;break e;case er:o=16,r=null;break e}throw Error(V(130,e==null?e:typeof e,""))}return t=yn(o,n,t,i),t.elementType=e,t.type=r,t.lanes=a,t}function Jr(e,t,n,r){return e=yn(7,e,r,t),e.lanes=n,e}function $s(e,t,n,r){return e=yn(22,e,r,t),e.elementType=up,e.lanes=n,e.stateNode={isHidden:!1},e}function bl(e,t,n){return e=yn(6,e,null,t),e.lanes=n,e}function wl(e,t,n){return t=yn(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function i1(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=rl(0),this.expirationTimes=rl(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=rl(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Bd(e,t,n,r,i,a,o,s,l){return e=new i1(e,t,n,s,l),t===1?(t=1,a===!0&&(t|=8)):t=0,a=yn(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},yd(a),e}function a1(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:fi,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function ny(e){if(!e)return Cr;e=e._reactInternals;e:{if(Yr(e)!==e||e.tag!==1)throw Error(V(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Yt(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(V(171))}if(e.tag===1){var n=e.type;if(Yt(n))return tm(e,n,t)}return t}function ry(e,t,n,r,i,a,o,s,l){return e=Bd(n,r,!0,e,i,a,o,s,l),e.context=ny(null),n=e.current,r=Ut(),i=yr(n),a=zn(r,i),a.callback=t??null,pr(n,a,i),e.current.lanes=i,io(e,i,r),Qt(e,r),e}function Us(e,t,n,r){var i=t.current,a=Ut(),o=yr(i);return n=ny(n),t.context===null?t.context=n:t.pendingContext=n,t=zn(a,o),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=pr(i,t,o),e!==null&&(Dn(e,i,o,a),No(e,i,o)),o}function bs(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function oh(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Fd(e,t){oh(e,t),(e=e.alternate)&&oh(e,t)}function o1(){return null}var iy=typeof reportError=="function"?reportError:function(e){console.error(e)};function Md(e){this._internalRoot=e}Js.prototype.render=Md.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(V(409));Us(e,t,null,null)};Js.prototype.unmount=Md.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Vr(function(){Us(null,e,null,null)}),t[Hn]=null}};function Js(e){this._internalRoot=e}Js.prototype.unstable_scheduleHydration=function(e){if(e){var t=Fp();e={blockedOn:null,target:e,priority:t};for(var n=0;n<rr.length&&t!==0&&t<rr[n].priority;n++);rr.splice(n,0,e),n===0&&Op(e)}};function Od(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function zs(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function sh(){}function s1(e,t,n,r,i){if(i){if(typeof r=="function"){var a=r;r=function(){var c=bs(o);a.call(c)}}var o=ry(t,r,e,0,null,!1,!1,"",sh);return e._reactRootContainer=o,e[Hn]=o.current,Na(e.nodeType===8?e.parentNode:e),Vr(),o}for(;i=e.lastChild;)e.removeChild(i);if(typeof r=="function"){var s=r;r=function(){var c=bs(l);s.call(c)}}var l=Bd(e,0,!1,null,null,!1,!1,"",sh);return e._reactRootContainer=l,e[Hn]=l.current,Na(e.nodeType===8?e.parentNode:e),Vr(function(){Us(t,l,n,r)}),l}function Ks(e,t,n,r,i){var a=n._reactRootContainer;if(a){var o=a;if(typeof i=="function"){var s=i;i=function(){var l=bs(o);s.call(l)}}Us(t,o,e,i)}else o=s1(n,t,e,i,r);return bs(o)}jp=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=ha(t.pendingLanes);n!==0&&(td(t,n|1),Qt(t,lt()),!(je&6)&&(Hi=lt()+500,wr()))}break;case 13:Vr(function(){var r=Gn(e,1);if(r!==null){var i=Ut();Dn(r,e,1,i)}}),Fd(e,1)}};nd=function(e){if(e.tag===13){var t=Gn(e,134217728);if(t!==null){var n=Ut();Dn(t,e,134217728,n)}Fd(e,134217728)}};Bp=function(e){if(e.tag===13){var t=yr(e),n=Gn(e,t);if(n!==null){var r=Ut();Dn(n,e,t,r)}Fd(e,t)}};Fp=function(){return Ue};Mp=function(e,t){var n=Ue;try{return Ue=e,t()}finally{Ue=n}};Bc=function(e,t,n){switch(t){case"input":if(Ac(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=Fs(r);if(!i)throw Error(V(90));hp(r),Ac(r,i)}}}break;case"textarea":pp(e,n);break;case"select":t=n.value,t!=null&&Pi(e,!!n.multiple,t,!1)}};_p=Pd;bp=Vr;var l1={usingClientEntryPoint:!1,Events:[oo,vi,Fs,xp,Cp,Pd]},ia={findFiberByHostInstance:Or,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},c1={bundleType:ia.bundleType,version:ia.version,rendererPackageName:ia.rendererPackageName,rendererConfig:ia.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Vn.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Ep(e),e===null?null:e.stateNode},findFiberByHostInstance:ia.findFiberByHostInstance||o1,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Po=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Po.isDisabled&&Po.supportsFiber)try{Ts=Po.inject(c1),On=Po}catch{}}ln.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=l1;ln.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Od(t))throw Error(V(200));return a1(e,t,null,n)};ln.createRoot=function(e,t){if(!Od(e))throw Error(V(299));var n=!1,r="",i=iy;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=Bd(e,1,!1,null,null,n,!1,r,i),e[Hn]=t.current,Na(e.nodeType===8?e.parentNode:e),new Md(t)};ln.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(V(188)):(e=Object.keys(e).join(","),Error(V(268,e)));return e=Ep(t),e=e===null?null:e.stateNode,e};ln.flushSync=function(e){return Vr(e)};ln.hydrate=function(e,t,n){if(!zs(t))throw Error(V(200));return Ks(null,e,t,!0,n)};ln.hydrateRoot=function(e,t,n){if(!Od(e))throw Error(V(405));var r=n!=null&&n.hydratedSources||null,i=!1,a="",o=iy;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(a=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),t=ry(t,null,e,1,n??null,i,!1,a,o),e[Hn]=t.current,Na(e),r)for(e=0;e<r.length;e++)n=r[e],i=n._getVersion,i=i(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new Js(t)};ln.render=function(e,t,n){if(!zs(t))throw Error(V(200));return Ks(null,e,t,!1,n)};ln.unmountComponentAtNode=function(e){if(!zs(e))throw Error(V(40));return e._reactRootContainer?(Vr(function(){Ks(null,null,e,!1,function(){e._reactRootContainer=null,e[Hn]=null})}),!0):!1};ln.unstable_batchedUpdates=Pd;ln.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!zs(n))throw Error(V(200));if(e==null||e._reactInternals===void 0)throw Error(V(38));return Ks(e,t,n,!1,r)};ln.version="18.2.0-next-9e3b772b8-20220608";function ay(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(ay)}catch(e){console.error(e)}}ay(),rp.exports=ln;var u1=rp.exports,lh=u1;xc.createRoot=lh.createRoot,xc.hydrateRoot=lh.hydrateRoot;/**
 * @remix-run/router v1.9.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Xe(){return Xe=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Xe.apply(this,arguments)}var ht;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(ht||(ht={}));const ch="popstate";function d1(e){e===void 0&&(e={});function t(r,i){let{pathname:a,search:o,hash:s}=r.location;return Va("",{pathname:a,search:o,hash:s},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:lo(i)}return f1(t,n,null,e)}function Te(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Gi(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function h1(){return Math.random().toString(36).substr(2,8)}function uh(e,t){return{usr:e.state,key:e.key,idx:t}}function Va(e,t,n,r){return n===void 0&&(n=null),Xe({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?Wn(t):t,{state:n,key:t&&t.key||r||h1()})}function lo(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function Wn(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function f1(e,t,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:a=!1}=r,o=i.history,s=ht.Pop,l=null,c=u();c==null&&(c=0,o.replaceState(Xe({},o.state,{idx:c}),""));function u(){return(o.state||{idx:null}).idx}function m(){s=ht.Pop;let _=u(),x=_==null?null:_-c;c=_,l&&l({action:s,location:C.location,delta:x})}function f(_,x){s=ht.Push;let y=Va(C.location,_,x);n&&n(y,_),c=u()+1;let h=uh(y,c),p=C.createHref(y);try{o.pushState(h,"",p)}catch(w){if(w instanceof DOMException&&w.name==="DataCloneError")throw w;i.location.assign(p)}a&&l&&l({action:s,location:C.location,delta:1})}function g(_,x){s=ht.Replace;let y=Va(C.location,_,x);n&&n(y,_),c=u();let h=uh(y,c),p=C.createHref(y);o.replaceState(h,"",p),a&&l&&l({action:s,location:C.location,delta:0})}function v(_){let x=i.location.origin!=="null"?i.location.origin:i.location.href,y=typeof _=="string"?_:lo(_);return Te(x,"No window.location.(origin|href) available to create URL for href: "+y),new URL(y,x)}let C={get action(){return s},get location(){return e(i,o)},listen(_){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(ch,m),l=_,()=>{i.removeEventListener(ch,m),l=null}},createHref(_){return t(i,_)},createURL:v,encodeLocation(_){let x=v(_);return{pathname:x.pathname,search:x.search,hash:x.hash}},push:f,replace:g,go(_){return o.go(_)}};return C}var st;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(st||(st={}));const p1=new Set(["lazy","caseSensitive","path","id","index","children"]);function m1(e){return e.index===!0}function hu(e,t,n,r){return n===void 0&&(n=[]),r===void 0&&(r={}),e.map((i,a)=>{let o=[...n,a],s=typeof i.id=="string"?i.id:o.join("-");if(Te(i.index!==!0||!i.children,"Cannot specify children on an index route"),Te(!r[s],'Found a route id collision on id "'+s+`".  Route id's must be globally unique within Data Router usages`),m1(i)){let l=Xe({},i,t(i),{id:s});return r[s]=l,l}else{let l=Xe({},i,t(i),{id:s,children:void 0});return r[s]=l,i.children&&(l.children=hu(i.children,t,o,r)),l}})}function Ei(e,t,n){n===void 0&&(n="/");let r=typeof t=="string"?Wn(t):t,i=co(r.pathname||"/",n);if(i==null)return null;let a=oy(e);g1(a);let o=null;for(let s=0;o==null&&s<a.length;++s)o=A1(a[s],P1(i));return o}function y1(e,t){let{route:n,pathname:r,params:i}=e;return{id:n.id,pathname:r,params:i,data:t[n.id],handle:n.handle}}function oy(e,t,n,r){t===void 0&&(t=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(a,o,s)=>{let l={relativePath:s===void 0?a.path||"":s,caseSensitive:a.caseSensitive===!0,childrenIndex:o,route:a};l.relativePath.startsWith("/")&&(Te(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let c=zr([r,l.relativePath]),u=n.concat(l);a.children&&a.children.length>0&&(Te(a.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),oy(a.children,t,u,c)),!(a.path==null&&!a.index)&&t.push({path:c,score:S1(c,a.index),routesMeta:u})};return e.forEach((a,o)=>{var s;if(a.path===""||!((s=a.path)!=null&&s.includes("?")))i(a,o);else for(let l of sy(a.path))i(a,o,l)}),t}function sy(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,i=n.endsWith("?"),a=n.replace(/\?$/,"");if(r.length===0)return i?[a,""]:[a];let o=sy(r.join("/")),s=[];return s.push(...o.map(l=>l===""?a:[a,l].join("/"))),i&&s.push(...o),s.map(l=>e.startsWith("/")&&l===""?"/":l)}function g1(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:E1(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const v1=/^:\w+$/,x1=3,C1=2,_1=1,b1=10,w1=-2,dh=e=>e==="*";function S1(e,t){let n=e.split("/"),r=n.length;return n.some(dh)&&(r+=w1),t&&(r+=C1),n.filter(i=>!dh(i)).reduce((i,a)=>i+(v1.test(a)?x1:a===""?_1:b1),r)}function E1(e,t){return e.length===t.length&&e.slice(0,-1).every((r,i)=>r===t[i])?e[e.length-1]-t[t.length-1]:0}function A1(e,t){let{routesMeta:n}=e,r={},i="/",a=[];for(let o=0;o<n.length;++o){let s=n[o],l=o===n.length-1,c=i==="/"?t:t.slice(i.length)||"/",u=k1({path:s.relativePath,caseSensitive:s.caseSensitive,end:l},c);if(!u)return null;Object.assign(r,u.params);let m=s.route;a.push({params:r,pathname:zr([i,u.pathname]),pathnameBase:F1(zr([i,u.pathnameBase])),route:m}),u.pathnameBase!=="/"&&(i=zr([i,u.pathnameBase]))}return a}function k1(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=R1(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let a=i[0],o=a.replace(/(.)\/+$/,"$1"),s=i.slice(1);return{params:r.reduce((c,u,m)=>{if(u==="*"){let f=s[m]||"";o=a.slice(0,a.length-f.length).replace(/(.)\/+$/,"$1")}return c[u]=T1(s[m]||"",u),c},{}),pathname:a,pathnameBase:o,pattern:e}}function R1(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),Gi(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/\/:(\w+)/g,(o,s)=>(r.push(s),"/([^\\/]+)"));return e.endsWith("*")?(r.push("*"),i+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":e!==""&&e!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),r]}function P1(e){try{return decodeURI(e)}catch(t){return Gi(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function T1(e,t){try{return decodeURIComponent(e)}catch(n){return Gi(!1,'The value for the URL param "'+t+'" will not be decoded because'+(' the string "'+e+'" is a malformed URL segment. This is probably')+(" due to a bad percent encoding ("+n+").")),e}}function co(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}function D1(e,t){t===void 0&&(t="/");let{pathname:n,search:r="",hash:i=""}=typeof e=="string"?Wn(e):e;return{pathname:n?n.startsWith("/")?n:j1(n,t):t,search:M1(r),hash:O1(i)}}function j1(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function Sl(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function ly(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function B1(e,t,n,r){r===void 0&&(r=!1);let i;typeof e=="string"?i=Wn(e):(i=Xe({},e),Te(!i.pathname||!i.pathname.includes("?"),Sl("?","pathname","search",i)),Te(!i.pathname||!i.pathname.includes("#"),Sl("#","pathname","hash",i)),Te(!i.search||!i.search.includes("#"),Sl("#","search","hash",i)));let a=e===""||i.pathname==="",o=a?"/":i.pathname,s;if(r||o==null)s=n;else{let m=t.length-1;if(o.startsWith("..")){let f=o.split("/");for(;f[0]==="..";)f.shift(),m-=1;i.pathname=f.join("/")}s=m>=0?t[m]:"/"}let l=D1(i,s),c=o&&o!=="/"&&o.endsWith("/"),u=(a||o===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(c||u)&&(l.pathname+="/"),l}const zr=e=>e.join("/").replace(/\/\/+/g,"/"),F1=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),M1=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,O1=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;class Id{constructor(t,n,r,i){i===void 0&&(i=!1),this.status=t,this.statusText=n||"",this.internal=i,r instanceof Error?(this.data=r.toString(),this.error=r):this.data=r}}function cy(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const uy=["post","put","patch","delete"],I1=new Set(uy),L1=["get",...uy],N1=new Set(L1),$1=new Set([301,302,303,307,308]),U1=new Set([307,308]),El={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},J1={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},aa={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},dy=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,z1=e=>({hasErrorBoundary:!!e.hasErrorBoundary});function K1(e){const t=e.window?e.window:typeof window<"u"?window:void 0,n=typeof t<"u"&&typeof t.document<"u"&&typeof t.document.createElement<"u",r=!n;Te(e.routes.length>0,"You must provide a non-empty routes array to createRouter");let i;if(e.mapRouteProperties)i=e.mapRouteProperties;else if(e.detectErrorBoundary){let M=e.detectErrorBoundary;i=I=>({hasErrorBoundary:M(I)})}else i=z1;let a={},o=hu(e.routes,i,void 0,a),s,l=e.basename||"/",c=Xe({v7_normalizeFormMethod:!1,v7_prependBasename:!1},e.future),u=null,m=new Set,f=null,g=null,v=null,C=e.hydrationData!=null,_=Ei(o,e.history.location,l),x=null;if(_==null){let M=fn(404,{pathname:e.history.location.pathname}),{matches:I,route:G}=xh(o);_=I,x={[G.id]:M}}let y=!_.some(M=>M.route.lazy)&&(!_.some(M=>M.route.loader)||e.hydrationData!=null),h,p={historyAction:e.history.action,location:e.history.location,matches:_,initialized:y,navigation:El,restoreScrollPosition:e.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:e.hydrationData&&e.hydrationData.loaderData||{},actionData:e.hydrationData&&e.hydrationData.actionData||null,errors:e.hydrationData&&e.hydrationData.errors||x,fetchers:new Map,blockers:new Map},w=ht.Pop,S=!1,k,A=!1,j=!1,b=[],P=[],R=new Map,D=0,E=-1,J=new Map,K=new Set,z=new Map,F=new Map,H=new Map,U=!1;function T(){return u=e.history.listen(M=>{let{action:I,location:G,delta:ee}=M;if(U){U=!1;return}Gi(H.size===0||ee!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let Y=ot({currentLocation:p.location,nextLocation:G,historyAction:I});if(Y&&ee!=null){U=!0,e.history.go(ee*-1),He(Y,{state:"blocked",location:G,proceed(){He(Y,{state:"proceeding",proceed:void 0,reset:void 0,location:G}),e.history.go(ee)},reset(){let te=new Map(p.blockers);te.set(Y,aa),B({blockers:te})}});return}return ne(I,G)}),p.initialized||ne(ht.Pop,p.location),h}function O(){u&&u(),m.clear(),k&&k.abort(),p.fetchers.forEach((M,I)=>X(I)),p.blockers.forEach((M,I)=>at(I))}function $(M){return m.add(M),()=>m.delete(M)}function B(M){p=Xe({},p,M),m.forEach(I=>I(p))}function W(M,I){var G,ee;let Y=p.actionData!=null&&p.navigation.formMethod!=null&&kn(p.navigation.formMethod)&&p.navigation.state==="loading"&&((G=M.state)==null?void 0:G._isRedirect)!==!0,te;I.actionData?Object.keys(I.actionData).length>0?te=I.actionData:te=null:Y?te=p.actionData:te=null;let re=I.loaderData?vh(p.loaderData,I.loaderData,I.matches||[],I.errors):p.loaderData,ae=p.blockers;ae.size>0&&(ae=new Map(ae),ae.forEach((ge,Be)=>ae.set(Be,aa)));let le=S===!0||p.navigation.formMethod!=null&&kn(p.navigation.formMethod)&&((ee=M.state)==null?void 0:ee._isRedirect)!==!0;s&&(o=s,s=void 0),A||w===ht.Pop||(w===ht.Push?e.history.push(M,M.state):w===ht.Replace&&e.history.replace(M,M.state)),B(Xe({},I,{actionData:te,loaderData:re,historyAction:w,location:M,initialized:!0,navigation:El,revalidation:"idle",restoreScrollPosition:ke(M,I.matches||p.matches),preventScrollReset:le,blockers:ae})),w=ht.Pop,S=!1,A=!1,j=!1,b=[],P=[]}async function ce(M,I){if(typeof M=="number"){e.history.go(M);return}let G=fu(p.location,p.matches,l,c.v7_prependBasename,M,I==null?void 0:I.fromRouteId,I==null?void 0:I.relative),{path:ee,submission:Y,error:te}=hh(c.v7_normalizeFormMethod,!1,G,I),re=p.location,ae=Va(p.location,ee,I&&I.state);ae=Xe({},ae,e.history.encodeLocation(ae));let le=I&&I.replace!=null?I.replace:void 0,ge=ht.Push;le===!0?ge=ht.Replace:le===!1||Y!=null&&kn(Y.formMethod)&&Y.formAction===p.location.pathname+p.location.search&&(ge=ht.Replace);let Be=I&&"preventScrollReset"in I?I.preventScrollReset===!0:void 0,ve=ot({currentLocation:re,nextLocation:ae,historyAction:ge});if(ve){He(ve,{state:"blocked",location:ae,proceed(){He(ve,{state:"proceeding",proceed:void 0,reset:void 0,location:ae}),ce(M,I)},reset(){let we=new Map(p.blockers);we.set(ve,aa),B({blockers:we})}});return}return await ne(ge,ae,{submission:Y,pendingError:te,preventScrollReset:Be,replace:I&&I.replace})}function he(){if(se(),B({revalidation:"loading"}),p.navigation.state!=="submitting"){if(p.navigation.state==="idle"){ne(p.historyAction,p.location,{startUninterruptedRevalidation:!0});return}ne(w||p.historyAction,p.navigation.location,{overrideNavigation:p.navigation})}}async function ne(M,I,G){k&&k.abort(),k=null,w=M,A=(G&&G.startUninterruptedRevalidation)===!0,Me(p.location,p.matches),S=(G&&G.preventScrollReset)===!0;let ee=s||o,Y=G&&G.overrideNavigation,te=Ei(ee,I,l);if(!te){let we=fn(404,{pathname:I.pathname}),{matches:Ne,route:It}=xh(ee);de(),W(I,{matches:Ne,loaderData:{},errors:{[It.id]:we}});return}if(p.initialized&&!j&&W1(p.location,I)&&!(G&&G.submission&&kn(G.submission.formMethod))){W(I,{matches:te});return}k=new AbortController;let re=sa(e.history,I,k.signal,G&&G.submission),ae,le;if(G&&G.pendingError)le={[Ai(te).route.id]:G.pendingError};else if(G&&G.submission&&kn(G.submission.formMethod)){let we=await ye(re,I,G.submission,te,{replace:G.replace});if(we.shortCircuited)return;ae=we.pendingActionData,le=we.pendingActionError,Y=Al(I,G.submission),re=new Request(re.url,{signal:re.signal})}let{shortCircuited:ge,loaderData:Be,errors:ve}=await be(re,I,te,Y,G&&G.submission,G&&G.fetcherSubmission,G&&G.replace,ae,le);ge||(k=null,W(I,Xe({matches:te},ae?{actionData:ae}:{},{loaderData:Be,errors:ve})))}async function ye(M,I,G,ee,Y){Y===void 0&&(Y={}),se();let te=Z1(I,G);B({navigation:te});let re,ae=mu(ee,I);if(!ae.route.action&&!ae.route.lazy)re={type:st.error,error:fn(405,{method:M.method,pathname:I.pathname,routeId:ae.route.id})};else if(re=await oa("action",M,ae,ee,a,i,l),M.signal.aborted)return{shortCircuited:!0};if(Mi(re)){let le;return Y&&Y.replace!=null?le=Y.replace:le=re.location===p.location.pathname+p.location.search,await N(p,re,{submission:G,replace:le}),{shortCircuited:!0}}if(Aa(re)){let le=Ai(ee,ae.route.id);return(Y&&Y.replace)!==!0&&(w=ht.Push),{pendingActionData:{},pendingActionError:{[le.route.id]:re.error}}}if(Nr(re))throw fn(400,{type:"defer-action"});return{pendingActionData:{[ae.route.id]:re.data}}}async function be(M,I,G,ee,Y,te,re,ae,le){let ge=ee||Al(I,Y),Be=Y||te||bh(ge),ve=s||o,[we,Ne]=fh(e.history,p,G,Be,I,j,b,P,z,K,ve,l,ae,le);if(de(Re=>!(G&&G.some(ct=>ct.route.id===Re))||we&&we.some(ct=>ct.route.id===Re)),E=++D,we.length===0&&Ne.length===0){let Re=Q();return W(I,Xe({matches:G,loaderData:{},errors:le||null},ae?{actionData:ae}:{},Re?{fetchers:new Map(p.fetchers)}:{})),{shortCircuited:!0}}if(!A){Ne.forEach(ct=>{let Cn=p.fetchers.get(ct.key),Lt=la(void 0,Cn?Cn.data:void 0);p.fetchers.set(ct.key,Lt)});let Re=ae||p.actionData;B(Xe({navigation:ge},Re?Object.keys(Re).length===0?{actionData:null}:{actionData:Re}:{},Ne.length>0?{fetchers:new Map(p.fetchers)}:{}))}Ne.forEach(Re=>{R.has(Re.key)&&Ae(Re.key),Re.controller&&R.set(Re.key,Re.controller)});let It=()=>Ne.forEach(Re=>Ae(Re.key));k&&k.signal.addEventListener("abort",It);let{results:Pt,loaderResults:Xt,fetcherResults:un}=await q(p.matches,G,we,Ne,M);if(M.signal.aborted)return{shortCircuited:!0};k&&k.signal.removeEventListener("abort",It),Ne.forEach(Re=>R.delete(Re.key));let $e=Ch(Pt);if($e){if($e.idx>=we.length){let Re=Ne[$e.idx-we.length].key;K.add(Re)}return await N(p,$e.result,{replace:re}),{shortCircuited:!0}}let{loaderData:Je,errors:Ye}=gh(p,G,we,Xt,le,Ne,un,F);F.forEach((Re,ct)=>{Re.subscribe(Cn=>{(Cn||Re.done)&&F.delete(ct)})});let Fe=Q(),Zt=Ie(E),dn=Fe||Zt||Ne.length>0;return Xe({loaderData:Je,errors:Ye},dn?{fetchers:new Map(p.fetchers)}:{})}function Ot(M){return p.fetchers.get(M)||J1}function Ht(M,I,G,ee){if(r)throw new Error("router.fetch() was called during the server render, but it shouldn't be. You are likely calling a useFetcher() method in the body of your component. Try moving it to a useEffect or a callback.");R.has(M)&&Ae(M);let Y=s||o,te=fu(p.location,p.matches,l,c.v7_prependBasename,G,I,ee==null?void 0:ee.relative),re=Ei(Y,te,l);if(!re){Z(M,I,fn(404,{pathname:te}));return}let{path:ae,submission:le,error:ge}=hh(c.v7_normalizeFormMethod,!0,te,ee);if(ge){Z(M,I,ge);return}let Be=mu(re,ae);if(S=(ee&&ee.preventScrollReset)===!0,le&&kn(le.formMethod)){Ve(M,I,ae,Be,re,le);return}z.set(M,{routeId:I,path:ae}),vt(M,I,ae,Be,re,le)}async function Ve(M,I,G,ee,Y,te){if(se(),z.delete(M),!ee.route.action&&!ee.route.lazy){let Oe=fn(405,{method:te.formMethod,pathname:G,routeId:I});Z(M,I,Oe);return}let re=p.fetchers.get(M),ae=eC(te,re);p.fetchers.set(M,ae),B({fetchers:new Map(p.fetchers)});let le=new AbortController,ge=sa(e.history,G,le.signal,te);R.set(M,le);let Be=D,ve=await oa("action",ge,ee,Y,a,i,l);if(ge.signal.aborted){R.get(M)===le&&R.delete(M);return}if(Mi(ve))if(R.delete(M),E>Be){let Oe=ci(void 0);p.fetchers.set(M,Oe),B({fetchers:new Map(p.fetchers)});return}else{K.add(M);let Oe=la(te);return p.fetchers.set(M,Oe),B({fetchers:new Map(p.fetchers)}),N(p,ve,{fetcherSubmission:te})}if(Aa(ve)){Z(M,I,ve.error);return}if(Nr(ve))throw fn(400,{type:"defer-action"});let we=p.navigation.location||p.location,Ne=sa(e.history,we,le.signal),It=s||o,Pt=p.navigation.state!=="idle"?Ei(It,p.navigation.location,l):p.matches;Te(Pt,"Didn't find any matches after fetcher action");let Xt=++D;J.set(M,Xt);let un=la(te,ve.data);p.fetchers.set(M,un);let[$e,Je]=fh(e.history,p,Pt,te,we,j,b,P,z,K,It,l,{[ee.route.id]:ve.data},void 0);Je.filter(Oe=>Oe.key!==M).forEach(Oe=>{let xt=Oe.key,_n=p.fetchers.get(xt),Qn=la(void 0,_n?_n.data:void 0);p.fetchers.set(xt,Qn),R.has(xt)&&Ae(xt),Oe.controller&&R.set(xt,Oe.controller)}),B({fetchers:new Map(p.fetchers)});let Ye=()=>Je.forEach(Oe=>Ae(Oe.key));le.signal.addEventListener("abort",Ye);let{results:Fe,loaderResults:Zt,fetcherResults:dn}=await q(p.matches,Pt,$e,Je,Ne);if(le.signal.aborted)return;le.signal.removeEventListener("abort",Ye),J.delete(M),R.delete(M),Je.forEach(Oe=>R.delete(Oe.key));let Re=Ch(Fe);if(Re){if(Re.idx>=$e.length){let Oe=Je[Re.idx-$e.length].key;K.add(Oe)}return N(p,Re.result)}let{loaderData:ct,errors:Cn}=gh(p,p.matches,$e,Zt,void 0,Je,dn,F);if(p.fetchers.has(M)){let Oe=ci(ve.data);p.fetchers.set(M,Oe)}let Lt=Ie(Xt);p.navigation.state==="loading"&&Xt>E?(Te(w,"Expected pending action"),k&&k.abort(),W(p.navigation.location,{matches:Pt,loaderData:ct,errors:Cn,fetchers:new Map(p.fetchers)})):(B(Xe({errors:Cn,loaderData:vh(p.loaderData,ct,Pt,Cn)},Lt||Je.length>0?{fetchers:new Map(p.fetchers)}:{})),j=!1)}async function vt(M,I,G,ee,Y,te){let re=p.fetchers.get(M),ae=la(te,re?re.data:void 0);p.fetchers.set(M,ae),B({fetchers:new Map(p.fetchers)});let le=new AbortController,ge=sa(e.history,G,le.signal);R.set(M,le);let Be=D,ve=await oa("loader",ge,ee,Y,a,i,l);if(Nr(ve)&&(ve=await py(ve,ge.signal,!0)||ve),R.get(M)===le&&R.delete(M),ge.signal.aborted)return;if(Mi(ve))if(E>Be){let Ne=ci(void 0);p.fetchers.set(M,Ne),B({fetchers:new Map(p.fetchers)});return}else{K.add(M),await N(p,ve);return}if(Aa(ve)){let Ne=Ai(p.matches,I);p.fetchers.delete(M),B({fetchers:new Map(p.fetchers),errors:{[Ne.route.id]:ve.error}});return}Te(!Nr(ve),"Unhandled fetcher deferred data");let we=ci(ve.data);p.fetchers.set(M,we),B({fetchers:new Map(p.fetchers)})}async function N(M,I,G){let{submission:ee,fetcherSubmission:Y,replace:te}=G===void 0?{}:G;I.revalidate&&(j=!0);let re=Va(M.location,I.location,{_isRedirect:!0});if(Te(re,"Expected a location on the redirect navigation"),n){let we=!1;if(I.reloadDocument)we=!0;else if(dy.test(I.location)){const Ne=e.history.createURL(I.location);we=Ne.origin!==t.location.origin||co(Ne.pathname,l)==null}if(we){te?t.location.replace(I.location):t.location.assign(I.location);return}}k=null;let ae=te===!0?ht.Replace:ht.Push,{formMethod:le,formAction:ge,formEncType:Be}=M.navigation;!ee&&!Y&&le&&ge&&Be&&(ee=bh(M.navigation));let ve=ee||Y;if(U1.has(I.status)&&ve&&kn(ve.formMethod))await ne(ae,re,{submission:Xe({},ve,{formAction:I.location}),preventScrollReset:S});else{let we=Al(re,ee);await ne(ae,re,{overrideNavigation:we,fetcherSubmission:Y,preventScrollReset:S})}}async function q(M,I,G,ee,Y){let te=await Promise.all([...G.map(le=>oa("loader",Y,le,I,a,i,l)),...ee.map(le=>le.matches&&le.match&&le.controller?oa("loader",sa(e.history,le.path,le.controller.signal),le.match,le.matches,a,i,l):{type:st.error,error:fn(404,{pathname:le.path})})]),re=te.slice(0,G.length),ae=te.slice(G.length);return await Promise.all([_h(M,G,re,re.map(()=>Y.signal),!1,p.loaderData),_h(M,ee.map(le=>le.match),ae,ee.map(le=>le.controller?le.controller.signal:null),!0)]),{results:te,loaderResults:re,fetcherResults:ae}}function se(){j=!0,b.push(...de()),z.forEach((M,I)=>{R.has(I)&&(P.push(I),Ae(I))})}function Z(M,I,G){let ee=Ai(p.matches,I);X(M),B({errors:{[ee.route.id]:G},fetchers:new Map(p.fetchers)})}function X(M){let I=p.fetchers.get(M);R.has(M)&&!(I&&I.state==="loading"&&J.has(M))&&Ae(M),z.delete(M),J.delete(M),K.delete(M),p.fetchers.delete(M)}function Ae(M){let I=R.get(M);Te(I,"Expected fetch controller: "+M),I.abort(),R.delete(M)}function _e(M){for(let I of M){let G=Ot(I),ee=ci(G.data);p.fetchers.set(I,ee)}}function Q(){let M=[],I=!1;for(let G of K){let ee=p.fetchers.get(G);Te(ee,"Expected fetcher: "+G),ee.state==="loading"&&(K.delete(G),M.push(G),I=!0)}return _e(M),I}function Ie(M){let I=[];for(let[G,ee]of J)if(ee<M){let Y=p.fetchers.get(G);Te(Y,"Expected fetcher: "+G),Y.state==="loading"&&(Ae(G),J.delete(G),I.push(G))}return _e(I),I.length>0}function nt(M,I){let G=p.blockers.get(M)||aa;return H.get(M)!==I&&H.set(M,I),G}function at(M){p.blockers.delete(M),H.delete(M)}function He(M,I){let G=p.blockers.get(M)||aa;Te(G.state==="unblocked"&&I.state==="blocked"||G.state==="blocked"&&I.state==="blocked"||G.state==="blocked"&&I.state==="proceeding"||G.state==="blocked"&&I.state==="unblocked"||G.state==="proceeding"&&I.state==="unblocked","Invalid blocker state transition: "+G.state+" -> "+I.state);let ee=new Map(p.blockers);ee.set(M,I),B({blockers:ee})}function ot(M){let{currentLocation:I,nextLocation:G,historyAction:ee}=M;if(H.size===0)return;H.size>1&&Gi(!1,"A router only supports one blocker at a time");let Y=Array.from(H.entries()),[te,re]=Y[Y.length-1],ae=p.blockers.get(te);if(!(ae&&ae.state==="proceeding")&&re({currentLocation:I,nextLocation:G,historyAction:ee}))return te}function de(M){let I=[];return F.forEach((G,ee)=>{(!M||M(ee))&&(G.cancel(),I.push(ee),F.delete(ee))}),I}function me(M,I,G){if(f=M,v=I,g=G||null,!C&&p.navigation===El){C=!0;let ee=ke(p.location,p.matches);ee!=null&&B({restoreScrollPosition:ee})}return()=>{f=null,v=null,g=null}}function De(M,I){return g&&g(M,I.map(ee=>y1(ee,p.loaderData)))||M.key}function Me(M,I){if(f&&v){let G=De(M,I);f[G]=v()}}function ke(M,I){if(f){let G=De(M,I),ee=f[G];if(typeof ee=="number")return ee}return null}function Le(M){a={},s=hu(M,i,void 0,a)}return h={get basename(){return l},get state(){return p},get routes(){return o},initialize:T,subscribe:$,enableScrollRestoration:me,navigate:ce,fetch:Ht,revalidate:he,createHref:M=>e.history.createHref(M),encodeLocation:M=>e.history.encodeLocation(M),getFetcher:Ot,deleteFetcher:X,dispose:O,getBlocker:nt,deleteBlocker:at,_internalFetchControllers:R,_internalActiveDeferreds:F,_internalSetRoutes:Le},h}function H1(e){return e!=null&&("formData"in e&&e.formData!=null||"body"in e&&e.body!==void 0)}function fu(e,t,n,r,i,a,o){let s,l;if(a!=null&&o!=="path"){s=[];for(let u of t)if(s.push(u),u.route.id===a){l=u;break}}else s=t,l=t[t.length-1];let c=B1(i||".",ly(s).map(u=>u.pathnameBase),co(e.pathname,n)||e.pathname,o==="path");return i==null&&(c.search=e.search,c.hash=e.hash),(i==null||i===""||i===".")&&l&&l.route.index&&!Ld(c.search)&&(c.search=c.search?c.search.replace(/^\?/,"?index&"):"?index"),r&&n!=="/"&&(c.pathname=c.pathname==="/"?n:zr([n,c.pathname])),lo(c)}function hh(e,t,n,r){if(!r||!H1(r))return{path:n};if(r.formMethod&&!X1(r.formMethod))return{path:n,error:fn(405,{method:r.formMethod})};let i=()=>({path:n,error:fn(400,{type:"invalid-body"})}),a=r.formMethod||"get",o=e?a.toUpperCase():a.toLowerCase(),s=fy(n);if(r.body!==void 0){if(r.formEncType==="text/plain"){if(!kn(o))return i();let f=typeof r.body=="string"?r.body:r.body instanceof FormData||r.body instanceof URLSearchParams?Array.from(r.body.entries()).reduce((g,v)=>{let[C,_]=v;return""+g+C+"="+_+`
`},""):String(r.body);return{path:n,submission:{formMethod:o,formAction:s,formEncType:r.formEncType,formData:void 0,json:void 0,text:f}}}else if(r.formEncType==="application/json"){if(!kn(o))return i();try{let f=typeof r.body=="string"?JSON.parse(r.body):r.body;return{path:n,submission:{formMethod:o,formAction:s,formEncType:r.formEncType,formData:void 0,json:f,text:void 0}}}catch{return i()}}}Te(typeof FormData=="function","FormData is not available in this environment");let l,c;if(r.formData)l=pu(r.formData),c=r.formData;else if(r.body instanceof FormData)l=pu(r.body),c=r.body;else if(r.body instanceof URLSearchParams)l=r.body,c=yh(l);else if(r.body==null)l=new URLSearchParams,c=new FormData;else try{l=new URLSearchParams(r.body),c=yh(l)}catch{return i()}let u={formMethod:o,formAction:s,formEncType:r&&r.formEncType||"application/x-www-form-urlencoded",formData:c,json:void 0,text:void 0};if(kn(u.formMethod))return{path:n,submission:u};let m=Wn(n);return t&&m.search&&Ld(m.search)&&l.append("index",""),m.search="?"+l,{path:lo(m),submission:u}}function G1(e,t){let n=e;if(t){let r=e.findIndex(i=>i.route.id===t);r>=0&&(n=e.slice(0,r))}return n}function fh(e,t,n,r,i,a,o,s,l,c,u,m,f,g){let v=g?Object.values(g)[0]:f?Object.values(f)[0]:void 0,C=e.createURL(t.location),_=e.createURL(i),x=g?Object.keys(g)[0]:void 0,h=G1(n,x).filter((w,S)=>{if(w.route.lazy)return!0;if(w.route.loader==null)return!1;if(q1(t.loaderData,t.matches[S],w)||o.some(j=>j===w.route.id))return!0;let k=t.matches[S],A=w;return ph(w,Xe({currentUrl:C,currentParams:k.params,nextUrl:_,nextParams:A.params},r,{actionResult:v,defaultShouldRevalidate:a||C.pathname+C.search===_.pathname+_.search||C.search!==_.search||hy(k,A)}))}),p=[];return l.forEach((w,S)=>{if(!n.some(P=>P.route.id===w.routeId))return;let k=Ei(u,w.path,m);if(!k){p.push({key:S,routeId:w.routeId,path:w.path,matches:null,match:null,controller:null});return}let A=t.fetchers.get(S),j=mu(k,w.path),b=!1;c.has(S)?b=!1:s.includes(S)?b=!0:A&&A.state!=="idle"&&A.data===void 0?b=a:b=ph(j,Xe({currentUrl:C,currentParams:t.matches[t.matches.length-1].params,nextUrl:_,nextParams:n[n.length-1].params},r,{actionResult:v,defaultShouldRevalidate:a})),b&&p.push({key:S,routeId:w.routeId,path:w.path,matches:k,match:j,controller:new AbortController})}),[h,p]}function q1(e,t,n){let r=!t||n.route.id!==t.route.id,i=e[n.route.id]===void 0;return r||i}function hy(e,t){let n=e.route.path;return e.pathname!==t.pathname||n!=null&&n.endsWith("*")&&e.params["*"]!==t.params["*"]}function ph(e,t){if(e.route.shouldRevalidate){let n=e.route.shouldRevalidate(t);if(typeof n=="boolean")return n}return t.defaultShouldRevalidate}async function mh(e,t,n){if(!e.lazy)return;let r=await e.lazy();if(!e.lazy)return;let i=n[e.id];Te(i,"No route found in manifest");let a={};for(let o in r){let l=i[o]!==void 0&&o!=="hasErrorBoundary";Gi(!l,'Route "'+i.id+'" has a static property "'+o+'" defined but its lazy function is also returning a value for this property. '+('The lazy route property "'+o+'" will be ignored.')),!l&&!p1.has(o)&&(a[o]=r[o])}Object.assign(i,a),Object.assign(i,Xe({},t(i),{lazy:void 0}))}async function oa(e,t,n,r,i,a,o,s){s===void 0&&(s={});let l,c,u,m=v=>{let C,_=new Promise((x,y)=>C=y);return u=()=>C(),t.signal.addEventListener("abort",u),Promise.race([v({request:t,params:n.params,context:s.requestContext}),_])};try{let v=n.route[e];if(n.route.lazy)if(v){let C,_=await Promise.all([m(v).catch(x=>{C=x}),mh(n.route,a,i)]);if(C)throw C;c=_[0]}else if(await mh(n.route,a,i),v=n.route[e],v)c=await m(v);else if(e==="action"){let C=new URL(t.url),_=C.pathname+C.search;throw fn(405,{method:t.method,pathname:_,routeId:n.route.id})}else return{type:st.data,data:void 0};else if(v)c=await m(v);else{let C=new URL(t.url),_=C.pathname+C.search;throw fn(404,{pathname:_})}Te(c!==void 0,"You defined "+(e==="action"?"an action":"a loader")+" for route "+('"'+n.route.id+"\" but didn't return anything from your `"+e+"` ")+"function. Please return a value or `null`.")}catch(v){l=st.error,c=v}finally{u&&t.signal.removeEventListener("abort",u)}if(Q1(c)){let v=c.status;if($1.has(v)){let x=c.headers.get("Location");if(Te(x,"Redirects returned/thrown from loaders/actions must have a Location header"),!dy.test(x))x=fu(new URL(t.url),r.slice(0,r.indexOf(n)+1),o,!0,x);else if(!s.isStaticRequest){let y=new URL(t.url),h=x.startsWith("//")?new URL(y.protocol+x):new URL(x),p=co(h.pathname,o)!=null;h.origin===y.origin&&p&&(x=h.pathname+h.search+h.hash)}if(s.isStaticRequest)throw c.headers.set("Location",x),c;return{type:st.redirect,status:v,location:x,revalidate:c.headers.get("X-Remix-Revalidate")!==null,reloadDocument:c.headers.get("X-Remix-Reload-Document")!==null}}if(s.isRouteRequest)throw{type:l===st.error?st.error:st.data,response:c};let C,_=c.headers.get("Content-Type");return _&&/\bapplication\/json\b/.test(_)?C=await c.json():C=await c.text(),l===st.error?{type:l,error:new Id(v,c.statusText,C),headers:c.headers}:{type:st.data,data:C,statusCode:c.status,headers:c.headers}}if(l===st.error)return{type:l,error:c};if(Y1(c)){var f,g;return{type:st.deferred,deferredData:c,statusCode:(f=c.init)==null?void 0:f.status,headers:((g=c.init)==null?void 0:g.headers)&&new Headers(c.init.headers)}}return{type:st.data,data:c}}function sa(e,t,n,r){let i=e.createURL(fy(t)).toString(),a={signal:n};if(r&&kn(r.formMethod)){let{formMethod:o,formEncType:s}=r;a.method=o.toUpperCase(),s==="application/json"?(a.headers=new Headers({"Content-Type":s}),a.body=JSON.stringify(r.json)):s==="text/plain"?a.body=r.text:s==="application/x-www-form-urlencoded"&&r.formData?a.body=pu(r.formData):a.body=r.formData}return new Request(i,a)}function pu(e){let t=new URLSearchParams;for(let[n,r]of e.entries())t.append(n,typeof r=="string"?r:r.name);return t}function yh(e){let t=new FormData;for(let[n,r]of e.entries())t.append(n,r);return t}function V1(e,t,n,r,i){let a={},o=null,s,l=!1,c={};return n.forEach((u,m)=>{let f=t[m].route.id;if(Te(!Mi(u),"Cannot handle redirect results in processLoaderData"),Aa(u)){let g=Ai(e,f),v=u.error;r&&(v=Object.values(r)[0],r=void 0),o=o||{},o[g.route.id]==null&&(o[g.route.id]=v),a[f]=void 0,l||(l=!0,s=cy(u.error)?u.error.status:500),u.headers&&(c[f]=u.headers)}else Nr(u)?(i.set(f,u.deferredData),a[f]=u.deferredData.data):a[f]=u.data,u.statusCode!=null&&u.statusCode!==200&&!l&&(s=u.statusCode),u.headers&&(c[f]=u.headers)}),r&&(o=r,a[Object.keys(r)[0]]=void 0),{loaderData:a,errors:o,statusCode:s||200,loaderHeaders:c}}function gh(e,t,n,r,i,a,o,s){let{loaderData:l,errors:c}=V1(t,n,r,i,s);for(let u=0;u<a.length;u++){let{key:m,match:f,controller:g}=a[u];Te(o!==void 0&&o[u]!==void 0,"Did not find corresponding fetcher result");let v=o[u];if(!(g&&g.signal.aborted))if(Aa(v)){let C=Ai(e.matches,f==null?void 0:f.route.id);c&&c[C.route.id]||(c=Xe({},c,{[C.route.id]:v.error})),e.fetchers.delete(m)}else if(Mi(v))Te(!1,"Unhandled fetcher revalidation redirect");else if(Nr(v))Te(!1,"Unhandled fetcher deferred data");else{let C=ci(v.data);e.fetchers.set(m,C)}}return{loaderData:l,errors:c}}function vh(e,t,n,r){let i=Xe({},t);for(let a of n){let o=a.route.id;if(t.hasOwnProperty(o)?t[o]!==void 0&&(i[o]=t[o]):e[o]!==void 0&&a.route.loader&&(i[o]=e[o]),r&&r.hasOwnProperty(o))break}return i}function Ai(e,t){return(t?e.slice(0,e.findIndex(r=>r.route.id===t)+1):[...e]).reverse().find(r=>r.route.hasErrorBoundary===!0)||e[0]}function xh(e){let t=e.find(n=>n.index||!n.path||n.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:t}],route:t}}function fn(e,t){let{pathname:n,routeId:r,method:i,type:a}=t===void 0?{}:t,o="Unknown Server Error",s="Unknown @remix-run/router error";return e===400?(o="Bad Request",i&&n&&r?s="You made a "+i+' request to "'+n+'" but '+('did not provide a `loader` for route "'+r+'", ')+"so there is no way to handle the request.":a==="defer-action"?s="defer() is not supported in actions":a==="invalid-body"&&(s="Unable to encode submission body")):e===403?(o="Forbidden",s='Route "'+r+'" does not match URL "'+n+'"'):e===404?(o="Not Found",s='No route matches URL "'+n+'"'):e===405&&(o="Method Not Allowed",i&&n&&r?s="You made a "+i.toUpperCase()+' request to "'+n+'" but '+('did not provide an `action` for route "'+r+'", ')+"so there is no way to handle the request.":i&&(s='Invalid request method "'+i.toUpperCase()+'"')),new Id(e||500,o,new Error(s),!0)}function Ch(e){for(let t=e.length-1;t>=0;t--){let n=e[t];if(Mi(n))return{result:n,idx:t}}}function fy(e){let t=typeof e=="string"?Wn(e):e;return lo(Xe({},t,{hash:""}))}function W1(e,t){return e.pathname!==t.pathname||e.search!==t.search?!1:e.hash===""?t.hash!=="":e.hash===t.hash?!0:t.hash!==""}function Nr(e){return e.type===st.deferred}function Aa(e){return e.type===st.error}function Mi(e){return(e&&e.type)===st.redirect}function Y1(e){let t=e;return t&&typeof t=="object"&&typeof t.data=="object"&&typeof t.subscribe=="function"&&typeof t.cancel=="function"&&typeof t.resolveData=="function"}function Q1(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.headers=="object"&&typeof e.body<"u"}function X1(e){return N1.has(e.toLowerCase())}function kn(e){return I1.has(e.toLowerCase())}async function _h(e,t,n,r,i,a){for(let o=0;o<n.length;o++){let s=n[o],l=t[o];if(!l)continue;let c=e.find(m=>m.route.id===l.route.id),u=c!=null&&!hy(c,l)&&(a&&a[l.route.id])!==void 0;if(Nr(s)&&(i||u)){let m=r[o];Te(m,"Expected an AbortSignal for revalidating fetcher deferred result"),await py(s,m,i).then(f=>{f&&(n[o]=f||n[o])})}}}async function py(e,t,n){if(n===void 0&&(n=!1),!await e.deferredData.resolveData(t)){if(n)try{return{type:st.data,data:e.deferredData.unwrappedData}}catch(i){return{type:st.error,error:i}}return{type:st.data,data:e.deferredData.data}}}function Ld(e){return new URLSearchParams(e).getAll("index").some(t=>t==="")}function mu(e,t){let n=typeof t=="string"?Wn(t).search:t.search;if(e[e.length-1].route.index&&Ld(n||""))return e[e.length-1];let r=ly(e);return r[r.length-1]}function bh(e){let{formMethod:t,formAction:n,formEncType:r,text:i,formData:a,json:o}=e;if(!(!t||!n||!r)){if(i!=null)return{formMethod:t,formAction:n,formEncType:r,formData:void 0,json:void 0,text:i};if(a!=null)return{formMethod:t,formAction:n,formEncType:r,formData:a,json:void 0,text:void 0};if(o!==void 0)return{formMethod:t,formAction:n,formEncType:r,formData:void 0,json:o,text:void 0}}}function Al(e,t){return t?{state:"loading",location:e,formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text}:{state:"loading",location:e,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function Z1(e,t){return{state:"submitting",location:e,formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text}}function la(e,t){return e?{state:"loading",formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text,data:t}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:t}}function eC(e,t){return{state:"submitting",formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text,data:t?t.data:void 0}}function ci(e){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}/**
 * React Router v6.16.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function yu(){return yu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},yu.apply(this,arguments)}const my=L.createContext(null),yy=L.createContext(null),gy=L.createContext(null),Hs=L.createContext(null),Gs=L.createContext({outlet:null,matches:[],isDataRoute:!1}),vy=L.createContext(null);function Nd(){return L.useContext(Hs)!=null}function tC(){return Nd()||Te(!1),L.useContext(Hs).location}function nC(e,t,n){Nd()||Te(!1);let{navigator:r}=L.useContext(gy),{matches:i}=L.useContext(Gs),a=i[i.length-1],o=a?a.params:{};a&&a.pathname;let s=a?a.pathnameBase:"/";a&&a.route;let l=tC(),c;if(t){var u;let C=typeof t=="string"?Wn(t):t;s==="/"||(u=C.pathname)!=null&&u.startsWith(s)||Te(!1),c=C}else c=l;let m=c.pathname||"/",f=s==="/"?m:m.slice(s.length)||"/",g=Ei(e,{pathname:f}),v=sC(g&&g.map(C=>Object.assign({},C,{params:Object.assign({},o,C.params),pathname:zr([s,r.encodeLocation?r.encodeLocation(C.pathname).pathname:C.pathname]),pathnameBase:C.pathnameBase==="/"?s:zr([s,r.encodeLocation?r.encodeLocation(C.pathnameBase).pathname:C.pathnameBase])})),i,n);return t&&v?L.createElement(Hs.Provider,{value:{location:yu({pathname:"/",search:"",hash:"",state:null,key:"default"},c),navigationType:ht.Pop}},v):v}function rC(){let e=dC(),t=cy(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},a=null;return L.createElement(L.Fragment,null,L.createElement("h2",null,"Unexpected Application Error!"),L.createElement("h3",{style:{fontStyle:"italic"}},t),n?L.createElement("pre",{style:i},n):null,a)}const iC=L.createElement(rC,null);class aC extends L.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location||n.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error||n.error,location:n.location,revalidation:t.revalidation||n.revalidation}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error?L.createElement(Gs.Provider,{value:this.props.routeContext},L.createElement(vy.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function oC(e){let{routeContext:t,match:n,children:r}=e,i=L.useContext(my);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),L.createElement(Gs.Provider,{value:t},r)}function sC(e,t,n){var r;if(t===void 0&&(t=[]),n===void 0&&(n=null),e==null){var i;if((i=n)!=null&&i.errors)e=n.matches;else return null}let a=e,o=(r=n)==null?void 0:r.errors;if(o!=null){let s=a.findIndex(l=>l.route.id&&(o==null?void 0:o[l.route.id]));s>=0||Te(!1),a=a.slice(0,Math.min(a.length,s+1))}return a.reduceRight((s,l,c)=>{let u=l.route.id?o==null?void 0:o[l.route.id]:null,m=null;n&&(m=l.route.errorElement||iC);let f=t.concat(a.slice(0,c+1)),g=()=>{let v;return u?v=m:l.route.Component?v=L.createElement(l.route.Component,null):l.route.element?v=l.route.element:v=s,L.createElement(oC,{match:l,routeContext:{outlet:s,matches:f,isDataRoute:n!=null},children:v})};return n&&(l.route.ErrorBoundary||l.route.errorElement||c===0)?L.createElement(aC,{location:n.location,revalidation:n.revalidation,component:m,error:u,children:g(),routeContext:{outlet:null,matches:f,isDataRoute:!0}}):g()},null)}var gu=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(gu||{});function lC(e){let t=L.useContext(yy);return t||Te(!1),t}function cC(e){let t=L.useContext(Gs);return t||Te(!1),t}function uC(e){let t=cC(),n=t.matches[t.matches.length-1];return n.route.id||Te(!1),n.route.id}function dC(){var e;let t=L.useContext(vy),n=lC(gu.UseRouteError),r=uC(gu.UseRouteError);return t||((e=n.errors)==null?void 0:e[r])}const hC="startTransition",wh=ev[hC];function fC(e){let{fallbackElement:t,router:n,future:r}=e,[i,a]=L.useState(n.state),{v7_startTransition:o}=r||{},s=L.useCallback(m=>{o&&wh?wh(()=>a(m)):a(m)},[a,o]);L.useLayoutEffect(()=>n.subscribe(s),[n,s]);let l=L.useMemo(()=>({createHref:n.createHref,encodeLocation:n.encodeLocation,go:m=>n.navigate(m),push:(m,f,g)=>n.navigate(m,{state:f,preventScrollReset:g==null?void 0:g.preventScrollReset}),replace:(m,f,g)=>n.navigate(m,{replace:!0,state:f,preventScrollReset:g==null?void 0:g.preventScrollReset})}),[n]),c=n.basename||"/",u=L.useMemo(()=>({router:n,navigator:l,static:!1,basename:c}),[n,l,c]);return L.createElement(L.Fragment,null,L.createElement(my.Provider,{value:u},L.createElement(yy.Provider,{value:i},L.createElement(mC,{basename:c,location:i.location,navigationType:i.historyAction,navigator:l},i.initialized?L.createElement(pC,{routes:n.routes,state:i}):t))),null)}function pC(e){let{routes:t,state:n}=e;return nC(t,void 0,n)}function mC(e){let{basename:t="/",children:n=null,location:r,navigationType:i=ht.Pop,navigator:a,static:o=!1}=e;Nd()&&Te(!1);let s=t.replace(/^\/*/,"/"),l=L.useMemo(()=>({basename:s,navigator:a,static:o}),[s,a,o]);typeof r=="string"&&(r=Wn(r));let{pathname:c="/",search:u="",hash:m="",state:f=null,key:g="default"}=r,v=L.useMemo(()=>{let C=co(c,s);return C==null?null:{location:{pathname:C,search:u,hash:m,state:f,key:g},navigationType:i}},[s,c,u,m,f,g,i]);return v==null?null:L.createElement(gy.Provider,{value:l},L.createElement(Hs.Provider,{children:n,value:v}))}new Promise(()=>{});function yC(e){let t={hasErrorBoundary:e.ErrorBoundary!=null||e.errorElement!=null};return e.Component&&Object.assign(t,{element:L.createElement(e.Component),Component:void 0}),e.ErrorBoundary&&Object.assign(t,{errorElement:L.createElement(e.ErrorBoundary),ErrorBoundary:void 0}),t}/**
 * React Router DOM v6.16.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ws(){return ws=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ws.apply(this,arguments)}function gC(e,t){return K1({basename:t==null?void 0:t.basename,future:ws({},t==null?void 0:t.future,{v7_prependBasename:!0}),history:d1({window:t==null?void 0:t.window}),hydrationData:(t==null?void 0:t.hydrationData)||vC(),routes:e,mapRouteProperties:yC}).initialize()}function vC(){var e;let t=(e=window)==null?void 0:e.__staticRouterHydrationData;return t&&t.errors&&(t=ws({},t,{errors:xC(t.errors)})),t}function xC(e){if(!e)return null;let t=Object.entries(e),n={};for(let[r,i]of t)if(i&&i.__type==="RouteErrorResponse")n[r]=new Id(i.status,i.statusText,i.data,i.internal===!0);else if(i&&i.__type==="Error"){if(i.__subType){let a=window[i.__subType];if(typeof a=="function")try{let o=new a(i.message);o.stack="",n[r]=o}catch{}}if(n[r]==null){let a=new Error(i.message);a.stack="",n[r]=a}}else n[r]=i;return n}var Sh;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher"})(Sh||(Sh={}));var Eh;(function(e){e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(Eh||(Eh={}));function CC(){L.useEffect(()=>{document.title="Monopoly Gallery"},[]);const e="/Monopoly/gallery/";return d.jsx("main",{children:d.jsx("div",{className:"gallery-main",children:["1.PNG","2.PNG","3.PNG","4.PNG","5.PNG","6.PNG","7.PNG","8.PNG"].map(t=>d.jsx("img",{src:e+t,onClick:()=>{document.location.href=e+t}},t))})})}let ki=class{constructor(t,n){xe(this,"id");xe(this,"username");xe(this,"icon");xe(this,"position");xe(this,"balance");xe(this,"properties");xe(this,"isInJail");xe(this,"jailTurnsRemaining");xe(this,"getoutCards");xe(this,"ready");xe(this,"positions");this.id=t,this.username=n,this.icon=-1,this.position=0,this.balance=1500,this.properties=[],this.isInJail=!1,this.jailTurnsRemaining=0,this.getoutCards=0,this.ready=!1,this.positions={x:0,y:0}}recieveJson(t){return this.username=t.username,this.position=t.position,this.icon=t.icon,this.balance=t.balance,this.properties=t.properties,this.isInJail=t.isInJail,this.jailTurnsRemaining=t.jailTurnsRemaining,this.getoutCards=t.getoutCards,this}toJson(){return{balance:this.balance,icon:this.icon,id:this.id,isInJail:this.isInJail,jailTurnsRemaining:this.jailTurnsRemaining,position:this.position,properties:this.properties,username:this.username,getoutCards:this.getoutCards}}get color(){switch(this.icon){case 0:return"#E0115F";case 1:return"#4169e1";case 2:return"#50C878";case 3:return"#FFC000";case 5:return"#FF7F50";case 4:default:return""}}};const _C="/Monopoly/assets/players-69e481c3.png",Ah="/Monopoly/assets/chat-98a8e3f3.png",bC="/Monopoly/assets/chat_new-733d0bcc.png",wC="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAMgAAADICAMAAACahl6sAAAAAXNSR0IB2cksfwAAAAlwSFlzAAALEwAACxMBAJqcGAAAAjpQTFRFAAAA509P509P509P509P509P509P509P509P509P509P509P509P509P509P509P509P509P509P509P509P509P509P509P509P509P509P509P509P509P509P509P509P509P509P509P509P509P509P509P509P509P509P509P509P509P509P509P509P509P509P509P509P509P509P509P509P509P509P509P509P509P509P509P509P509P509P509P509P509P509P509P509P509P509P509P509P509P509P509P509P509P509P509P509P509P509P509P509P509P509P509P509P509P509P509P509P509P509P509P509P509P509P509P509P509P509P509P509P509P509P509P509P509P509P509P509P509P509P509P509P509P509P509P509P509P509P509P509P509P509P509P509P509P509P509P509P509P509P509P509P509P509P509P509P509P509P509P509P509P509P509P509P509P509P509P509P509P509P509P509P509P509P509P509P509P509P509P509P509P509P509P509P509P509P509P509P509P509P509P509P509P509P509P509P509P509P509P509P509P/m/HAgAAAL50Uk5TABmAwNbYyZApXvX//H8BhTam5vvli0I8oud1DYTvgxQd+p4n/qwzukHITwLUXATfagnoeA/whhb3lB+hKq+9RMpRXwXhbQrqexDyiRj4liGkLLI5R81VA9liBuPrsdAONO0Hcodh/flD9OQg2xfDtZVxUPM1JKXs2s/CtIFvQKgM1x5GVxxokbniKEVWaX6Tp7gLEziInWQVVBIjIt6CWL96dO5OSUtmu7yrbhE9t5cajXfp0U0uJZySfGdSzLBMfx0AAATRSURBVHic7d35fxNFGAbwFxoK9AloFQtigUYDWCqI9aBYMAKCWiwoVpCzgEoFTzwIh1qqiOCJijfgfVRRvG//N7eNNWn2SrKTnbzv531+ntl5v712dnYmJdJoNKVkzNi6xDh7qR8/wYxjYgMsJzlpsgmHbcZQzovuGGP9+zGc8yNDxtom5NIYGVJnm5DLBZEhCduEXC6MDBlnm5BLUiEKqU4UEgCZclHT1FgyrcoQ4OLpl0S+bglprjoEmDFzloFKQxIHBGgY3xK91ODEAwFSl15moNqAxAUB0rPnGKjXN/FBnMy93MQzj3dihQCt89oMFO2VmCHAFfMXGCjbndghwJULrzJQeHEsQID2q68xUProWIEA1163yEDxhbEEAToWX2+g/HysQZwH0s4lBgAjsQhxsjT6ws1I7EKAGzKG7pG2IcCNy4zcI+1DgMTyFTIgwE0rV8mAADffcqsMCNC1+jYZEKB7zVoZEKeC2++QAXGy7k4hEKCup5J7ZA1CgLvWb5ABAe7euEkGBNgsBQKFKEQhCvHK9IKuWzhDphZ03coZ0rYt37XHp01vyXMfixDa3jHSs9OvSaaZA4QyO/5z7PRtgXs4QGjRvYnuLVv9fq6GIbiPAyQ0DmTXMiEQ9N0vBILdpSzTcoBgRwlr5ywg2POAEAgefEgIBNvCljW5QPBwyFozGwgeCX4BwAeCxsC3MowgeDRoKswJgplSINgrBYLlUiDJx4RA0NckBILHn7ALebK5ouxzj5L1PpIVF8T9pa04ezz39jCEYL/XVJgjBAc8dsGxhOCgeyrME4JDrqkwUwj2FU+FuUKwuGgqzBaCp6RA8LQUCCZKgSTnCYGg+xkhEHRtFwLBaiGQ/vyeJNaQuQUbkjhD6g8XDMAYMjDqrCRfyOZnRw3AFlL86M4V4nqvyBSSeq54AJ6Q9BHXADwhC90DsIRM8hiAI6T4KZcrpN/zFVxckOePVpQX3KMc897xzW41ftQEizFkwO/DKJhBjrf4teQFyb7o25IVJGjjFidI6qWAlowg6ZeDWjKCvBLYkg/k1eCWbCCvhWwu5wI5EXbynAnk9dAjdTwgrW+EtmQBSbwZ3pIDxH+CxQsSMMFiBdntsx2otiAn3+p/+53eIEgqU9qVrELePTTcL/uePyS9vsRr2YS8PzDS0/fUTiZ4glUjkPyusu4PfJr4Hr6qJcipgq5ryuxbU5CjBV1Pc4acKeia4gwRc+hYIQpRiEIUohCFKEQhClGIQhSiEIUoRCEKUYhCFKIQhZSdD8vL0pqFRIhCFFKlKOT/DIQPEkc6IkM+sk3IpT4y5GPbhFw+iQyZ9altw1DaA3Y6lZrPdtlWOL/qAZ/4W3o+b7ftyH5hwkF0+MvGrwbzOTCj0oIGK8rX35w143Dn2+8qg1SrngiZMzstA0K0ZFpSBoTo1Lk+GRCi739okAFxbpdnyvkTZrvawPT++JMMCNGqlcdlQIg2bdwvA0K04cjPMiBEk39plQFxKE2DMiBOTq4TAiH69UTA44vt4srLb7+nZECIWv7okAEZ+o80XTIgRGf/zMqAOA/Ie6fIgBDt/Ou0DAjRgvkJGRCitr//kQFxZi49B2VAKL98ZLsOA8ktH9muwkgmdCZlQIjWnrNdgUaj8c6/sjbbOODJyXwAAAAASUVORK5CYII=",SC="/Monopoly/assets/proprety-ed9394e1.png",EC="/Monopoly/assets/settings-ec1fd821.png",AC="/Monopoly/assets/icon-96ad3b33.png",Tr="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAOoAAADYCAMAAADS+I/aAAAAAXNSR0IB2cksfwAAAAlwSFlzAAALEwAACxMBAJqcGAAAAGxQTFRFAAAAoM6mW7BnVK1hdLp+1enX7fbuRqdUL6BCOKJJNKFGHpw1qdOu6PPqPaRNI5054vDkKp8/KJ48mMqf0OfTvt3CkMeXuNq9isSSrdSyf7+IeryDbbd3YbJtMaFE3+/iyePNSapYrdWyxuHJWHk5egAAACR0Uk5TAP//////IP///////3D//9D/////////////////////////OqkGVgAABKFJREFUeJzt3dFW4jAUheGiAm3RFCqIjgIq7/+Og+OoUJImTXLaHdn/tXblW+iyx5SQZUy00dX1zXjoRfTRZJoXRTm7HXod8t2pQn1UjYZeiXTz8lP6+63jxZdUqfp+6NVItqzVUb/ZuqrUSfVDl+9WDkmtvGvrWXNl9WOHb0+I+lSdL23RwZoOdaSRHqx/nC+QDPWh1i/O3ZoK9c/CtLr8xvESiVCfc/PyXK1pUF9apM7WJKibbfsC8xeXq6RAvS5tK3SyJkCdWqVKbTf268BTJ9PCvkKlSrsVnXq3dZK6vK7g1J2r9PC6XlmuhU0d185SuxWa+qq97TVbr1uvhkxdGW57Pa3A1Kez8dRufWu5Hi511PU1tVlhqfc+UqWKqfGKqNRHP+nBalwuKNU8njpYJ/prYlJvWoc2m7XQWyGptqHNar3TXRWReuUwyrRbS50VkGofTx2s8wSoE5fx1MuKRr0rOtzgt1kXO3Dq3H1os1nzphWLerynGFzdeIgAirr0vUXStzi1IlE7D2226iUodd1tEHepOrbiUN/jSw+v6ysgVb+nGNxsD0e9l5Eefoa/rSBU7/HUwbqCogaMp+5WCGrQeOpgXcNQA8dTe7M1CPVKWnp4XZ8gqG8xhjZb1fvwVMc9xeCq26GpscZTe9XI5avkpLuyL+nB6vJFYtJx3p/ULSnpsvv+k3RC0ujjaYRkpOePvAIkIr2VGmWCkpB67ilKJyA1PfI6dPGlokNbSNGlwkNbQLGl7Y+8DlpkaQ9Dm3dxpRH2FOWKKo2ypyhWROjX+xRRiyeNt6coVDRp1D1FkWJJl6g3Dj9Fku4hb/BPiyMV2FOMXxSp7n2KeMWQCu0pxi6CFHVoaxYuhR3amgVLcYe2ZqFS4KGtWaA0+EHQHguTQg9tzYKk2ENbswDoBHxoa+Yvnfe2pxgpb+kOfmhr5isdp/NH5itP6Svi/pMlP2nzGJ0k8pKmMbQ1W9phZ2HuKVo7fqjWMdA9RXtVV6vgg6DS/TxU61Qy46mu74dqXUpnPNX2/0FTlxIaT/U5W5H3FB3796CpvaTGU1NO1rTGU2MfD9W219+DoNJVlpNq5z0+CCpd++mt+HuKXapbrAnsKXbKfHprCnuK3TJZk9hT7Jj+pFqR9ykOnu6k2kT2FDt3fqJpKnuK3WtaEx5PreXPx9LnX/ZX5rTjE02TH9os/VjF36c4eF8nmqa0e+rb9uVSpJ9WxLcFSVSvsseLeFGVKm4uh7rJ1r/6T+pP5eHGv6c3FQ9dtcuyuaq35pL6B0xhbvb5H4n9vbmHt1R+wPN8+mbs5VU/o5+2SuOuMXffvDC3T+F1reJ8QNkG//e1jPRxRyP8caA+OwjQr1t86sJw9iyppJKKFamkkkoqWKSSSiqpYJFKKqmkgkUqqaSSChappJJKKlikkkoqqWCRSiqppIJFKqmkkgoWqaSSSipYpJJKKqlgkUoqqaSCRSqppJIKFqmkkkoqWKSSSiqpYJFKKqmkgkUqqaSSChappJL6QcU/dTQWNYFDR8s40iyDp27PPvPDt32FfcDqdhpLmmXjTZG3HA09cErzmTWX3V/etxxj46OriAAAAABJRU5ErkJggg==",Dr="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAOoAAADYBAMAAAAXCGLbAAAAAXNSR0IB2cksfwAAAAlwSFlzAAALEwAACxMBAJqcGAAAAA9QTFRFAAAAswAAswAAswAAswAAZtGxUwAAAAV0Uk5TAP8gcNCNz+2CAAACfklEQVR4nO3di1HDQAyEYQwUEAUKgA5IB9B/U+QJse8hXbx7B5lVAfrmzxjM+Aw8PPyzmcz6o49mtumu7vZq99jnA9o91k7TF53Oat9Ys2qsJYNAp59t+ViO6q2jqNPVumwsRXX3MdRpti8Xy1D9hQR1WizMxBLUwEa8ukzNxeLVdGO6Eq6+Z9QkFq0+ZdB0J1rNokksWE0vpexSsFpAl7FYtZS63IpVi+giFqqWUxdroWoFncci1VrqfC9SraK25aj1VLM3iuqg9sJQvVSzD4LqovaKV3N3uOV8otX8Ha60G6V+hdTLtwqQ6l9Ks+UgNYheYjFqNPWyHaOG0XMsRI2nntdD1Ab0FItQW1JP+xFqE3qMBahtqUcAoDaih9j1amvqQVivNqP72NVqe+qeWKs+3oDaZq26u0XNTBN6y+e7XkWhTSostUmFoS0qLrVFxaENKjC1QQWicRWZGleRaFiFpoZVKBpVsalRFYsG1d0I9RmMxlQ0GlLBl1JQhaMRFZ8aUfFoQCWkBlQC6quMVF9loK5KSXVVCuqpnFRP5aCOGnkgC1fhd7iQykKrKulSclQaWlN5qTWVh1ZehCKmVmKZaDGWmlqM5aKFWHJq+K0v8ORi6anBF6Hgk8Z2SE1jY0eOa2cZGztyXD0DPl/z3yAhzYjUeWw39Dq2X+p1bEf0N7Znau3AnzojUstn4OQZkVo6FqbPiNT8SWmHkUpXR1xNxnskUJnNkC+d5AfUQQ8RGZdX4FeHxjwHvxd166NSpUqVKlWqVKlSpUqVKlWqVKlSpUqVKlWqVKlSpUqVKlWqVKlSpUqVKlWqVKl/UA39hfo7USMo/CPu/88dCvMNgwpEBhudalAAAAAASUVORK5CYII=",kC="/Monopoly/assets/rails-b5a8f288.png",RC="/Monopoly/assets/elects-0ca4f3b8.png",PC="/Monopoly/assets/water-7bf83b59.png";function lr(e){try{switch(e.toLowerCase()){case"red":return"#ED1B24";case"darkgreen":return"#1FB25A";case"darkblue":return"#0072BB";case"yellow":return"#FEF200";case"purple":return"#955436";case"lightgreen":return"#AAE0FA";case"orange":return"#F7941D";case"violet":return"#D93A96";default:return e.toLowerCase()}}catch{return e}}function Oi({street:e,utility:t,railroad:n}){return e!==void 0?d.jsx(TC,{args:e}):t!==void 0?d.jsx(jC,{args:t}):n!==void 0?d.jsx(DC,{args:n}):d.jsx(d.Fragment,{})}function TC({args:e}){const t=lr(e.group);return d.jsxs("div",{className:"street-card",children:[d.jsxs("div",{style:{backgroundColor:t},children:[d.jsx("p",{children:"title dreed"}),d.jsx("h3",{children:e.title})]}),d.jsxs("div",{children:[d.jsxs("ol",{children:[d.jsxs("li",{children:[d.jsx("p",{children:"Rent"}),d.jsxs("p",{children:[e.rent,"M"]})]}),d.jsxs("li",{children:[d.jsx("p",{children:"Rent with color set"}),d.jsxs("p",{children:[e.rentWithColorSet,"M"]})]}),d.jsxs("li",{children:[d.jsx("p",{children:"Rent with 1 house"}),d.jsxs("p",{children:[e.multpliedrent[0],"M"]})]}),d.jsxs("li",{children:[d.jsx("p",{children:"Rent with 2 houses"}),d.jsxs("p",{children:[e.multpliedrent[1],"M"]})]}),d.jsxs("li",{children:[d.jsx("p",{children:"Rent with 3 houses"}),d.jsxs("p",{children:[e.multpliedrent[2],"M"]})]}),d.jsxs("li",{children:[d.jsx("p",{children:"Rent with 4 houses"}),d.jsxs("p",{children:[e.multpliedrent[3],"M"]})]}),d.jsxs("li",{children:[d.jsx("p",{children:"Rent with hotel"}),d.jsxs("p",{children:[e.multpliedrent[4],"M"]})]})]}),d.jsx("hr",{}),d.jsxs("ol",{children:[d.jsxs("li",{children:[d.jsx("p",{children:"House cost"}),d.jsxs("p",{children:[e.housesCost,"M each"]})]}),d.jsxs("li",{children:[d.jsx("p",{children:"Hotels cost"}),d.jsxs("label",{children:[e.hotelsCost,"M each",d.jsx("br",{}),d.jsx("p",{style:{fontSize:12},children:"(plus 4 houses)"})]})]})]}),d.jsx("br",{}),d.jsx("hr",{}),d.jsxs("h4",{children:[e.cardCost,"M"]})]})]})}function DC({args:e}){return d.jsxs("div",{className:"street-card",children:[d.jsxs("div",{"data-clear":!0,children:[d.jsx("img",{"data-type":"rail",src:kC.replace("/public",""),alt:""}),d.jsx("h3",{children:e.title})]}),d.jsxs("div",{children:[d.jsxs("ol",{children:[d.jsxs("li",{children:[d.jsx("p",{children:"Rent"}),d.jsxs("p",{children:[25,"M"]})]}),d.jsxs("li",{children:[d.jsx("p",{children:"If 2 stations are owned"}),d.jsxs("p",{children:[50,"M"]})]}),d.jsxs("li",{children:[d.jsx("p",{children:"If 3 stations are owned"}),d.jsxs("p",{children:[100,"M"]})]}),d.jsxs("li",{children:[d.jsx("p",{children:"If 4 stations are owned"}),d.jsxs("p",{children:[200,"M"]})]})]}),d.jsx("h4",{children:"mortgage Value 100M"}),d.jsx("hr",{}),d.jsx("br",{}),d.jsxs("h4",{children:[e.cardCost,"M"]})]})]})}function jC({args:e}){return d.jsxs("div",{className:"street-card",children:[d.jsxs("div",{"data-clear":!0,children:[d.jsx("center",{children:d.jsx("img",{"data-type":e.type,src:e.type==="electricity"?RC.replace("/public",""):PC.replace("/public",""),alt:""})}),d.jsx("h3",{children:e.title})]}),d.jsxs("div",{children:[d.jsxs("p",{style:{lineHeight:1,paddingInline:10},children:["If one Utility is owned, rent is 4 times amount shown on dice.",d.jsx("br",{}),d.jsx("br",{}),"If both Utilities are owned, rent is 10 times amount shown on dice"]}),d.jsx("hr",{}),d.jsx("br",{}),d.jsxs("h4",{children:[e.cardCost,"M"]})]})]})}const BC=[{name:"Mediterranean Avenue",id:"mediterraneanave",posistion:1,price:60,rent:2,multpliedrent:[10,30,90,160,250],housecost:50,group:"Purple",ownedby:-1,buildings:0,mortgaged:!1,probability:2.1314,rel:{Square:"Mediterranean Avenue","Probability % (Jail Short)":2.1314,Rank:36,"Probability % (Jail Long)":2.0073},ohousecost:50,oprice:60,averageProbability:2.06935},{name:"Baltic Avenue",id:"balticave",posistion:3,price:60,rent:4,multpliedrent:[20,60,180,320,450],housecost:50,group:"Purple",ownedby:-1,buildings:0,mortgaged:!1,probability:2.1624,rel:{Square:"Baltic Avenue","Probability % (Jail Short)":2.1624,Rank:35,"Probability % (Jail Long)":2.0369},ohousecost:50,oprice:60,averageProbability:2.09965},{name:"Oriental Avenue",id:"orientalave",posistion:6,price:100,rent:6,multpliedrent:[30,90,270,400,550],housecost:50,group:"lightgreen",ownedby:-1,buildings:0,mortgaged:!1,rel:{Square:"Oriental Avenue","Probability % (Jail Short)":2.2621,Rank:32,"Probability % (Jail Long)":2.1317},ohousecost:50,oprice:100,averageProbability:2.1969000000000003},{name:"Vermont Avenue",id:"vermontave",posistion:8,price:100,rent:6,multpliedrent:[30,90,270,400,550],housecost:50,group:"lightgreen",ownedby:-1,buildings:0,mortgaged:!1,rel:{Square:"Vermont Avenue","Probability % (Jail Short)":2.321,Rank:28,"Probability % (Jail Long)":2.1874},ohousecost:50,oprice:100,averageProbability:2.2542},{name:"Connecticut Avenue",id:"connecticutave",posistion:9,price:120,rent:8,multpliedrent:[40,100,300,450,600],housecost:50,group:"lightgreen",ownedby:-1,buildings:0,mortgaged:!1,rel:{Square:"Connecticut Avenue","Probability % (Jail Short)":2.3003,Rank:30,"Probability % (Jail Long)":2.168},ohousecost:50,oprice:120,averageProbability:2.23415},{name:"St. Charles Place",id:"stcharlesplace",posistion:11,price:140,rent:10,multpliedrent:[50,150,450,625,750],housecost:100,group:"Violet",ownedby:-1,buildings:0,mortgaged:!1,rel:{Square:"St. Charles Place","Probability % (Jail Short)":2.7017,Rank:15,"Probability % (Jail Long)":2.556},ohousecost:100,oprice:140,averageProbability:2.62885},{name:"States Avenue",id:"statesave",posistion:13,price:140,rent:10,multpliedrent:[50,150,450,625,750],housecost:100,group:"Violet",ownedby:-1,buildings:0,mortgaged:!1,rel:{Square:"States Avenue","Probability % (Jail Short)":2.3721,Rank:29,"Probability % (Jail Long)":2.1741},ohousecost:100,oprice:140,averageProbability:2.2731000000000003},{name:"Virginia Avenue",id:"virginiaave",posistion:14,price:160,rent:12,multpliedrent:[60,180,500,700,900],housecost:100,group:"Violet",ownedby:-1,buildings:0,mortgaged:!1,rel:{Square:"Virginia Avenue","Probability % (Jail Short)":2.4649,Rank:22,"Probability % (Jail Long)":2.4255},ohousecost:100,oprice:160,averageProbability:2.4452},{name:"St. James Place",id:"stjamesplace",posistion:16,price:180,rent:14,multpliedrent:[70,200,550,750,950],housecost:100,group:"Orange",ownedby:-1,buildings:0,mortgaged:!1,rel:{Square:"St. James Place","Probability % (Jail Short)":2.7924,Rank:9,"Probability % (Jail Long)":2.6802},ohousecost:100,oprice:180,averageProbability:2.7363},{name:"Tennessee Avenue",id:"tennesseeave",posistion:18,price:180,rent:14,multpliedrent:[70,200,550,750,950],housecost:100,group:"Orange",ownedby:-1,buildings:0,mortgaged:!1,rel:{Square:"Tennessee Avenue","Probability % (Jail Short)":2.9356,Rank:6,"Probability % (Jail Long)":2.821},ohousecost:100,oprice:180,averageProbability:2.8783000000000003},{name:"New York Avenue",id:"newyorkave",posistion:19,price:200,rent:16,multpliedrent:[80,220,600,800,1e3],housecost:100,group:"Orange",ownedby:-1,buildings:0,mortgaged:!1,rel:{Square:"New York Avenue","Probability % (Jail Short)":3.0852,Rank:7,"Probability % (Jail Long)":2.8118},ohousecost:100,oprice:200,averageProbability:2.9485},{name:"Kentucky Avenue",id:"kentuckyave",posistion:21,price:220,rent:18,multpliedrent:[90,250,700,875,1050],housecost:150,group:"Red",ownedby:-1,buildings:0,mortgaged:!1,rel:{Square:"Kentucky Avenue","Probability % (Jail Short)":2.8358,Rank:12,"Probability % (Jail Long)":2.6143},ohousecost:150,oprice:220,averageProbability:2.72505},{name:"Indiana Avenue",id:"indianaave",posistion:23,price:220,rent:18,multpliedrent:[90,250,700,875,1050],housecost:150,group:"Red",ownedby:-1,buildings:0,mortgaged:!1,rel:{Square:"Indiana Avenue","Probability % (Jail Short)":2.7357,Rank:14,"Probability % (Jail Long)":2.5671},ohousecost:150,oprice:220,averageProbability:2.6513999999999998},{name:"Illinois Avenue",id:"illinoisave",posistion:24,price:240,rent:20,multpliedrent:[100,300,750,925,1100],housecost:150,group:"Red",ownedby:-1,buildings:0,mortgaged:!1,rel:{Square:"Illinois Avenue","Probability % (Jail Short)":3.1858,Rank:2,"Probability % (Jail Long)":2.9929},ohousecost:150,oprice:240,averageProbability:3.08935},{name:"Atlantic Avenue",id:"atlanticave",posistion:26,price:260,rent:22,multpliedrent:[110,330,800,975,1150],housecost:150,group:"Yellow",ownedby:-1,buildings:0,mortgaged:!1,rel:{Square:"Atlantic Avenue","Probability % (Jail Short)":2.7072,Rank:16,"Probability % (Jail Long)":2.537},ohousecost:150,oprice:260,averageProbability:2.6220999999999997},{name:"Ventnor Avenue",id:"ventnorave",posistion:27,price:260,rent:22,multpliedrent:[110,330,800,975,1150],housecost:150,group:"Yellow",ownedby:-1,buildings:0,mortgaged:!1,rel:{Square:"Ventnor Avenue","Probability % (Jail Short)":2.6789,Rank:18,"Probability % (Jail Long)":2.5191},ohousecost:150,oprice:260,averageProbability:2.599},{name:"Marvin Gardens",id:"marvingardens",posistion:29,price:280,rent:22,multpliedrent:[120,360,850,1025,1200],housecost:150,group:"Yellow",ownedby:-1,buildings:0,mortgaged:!1,rel:{Square:"Marvin Gardens","Probability % (Jail Short)":2.5861,Rank:21,"Probability % (Jail Long)":2.4381},ohousecost:150,oprice:280,averageProbability:2.5121},{name:"Pacific Avenue",id:"pacificave",posistion:31,price:300,rent:26,multpliedrent:[130,390,900,1100,1275],housecost:200,group:"darkgreen",ownedby:-1,buildings:0,mortgaged:!1,rel:{Square:"Pacific Avenue","Probability % (Jail Short)":2.6774,Rank:17,"Probability % (Jail Long)":2.5236},ohousecost:200,oprice:300,averageProbability:2.6005000000000003},{name:"North Carolina Avenue",id:"northcarolinaave",posistion:32,price:300,rent:26,multpliedrent:[130,390,900,1100,1275],housecost:200,group:"darkgreen",ownedby:-1,buildings:0,mortgaged:!1,rel:{Square:"North Carolina Avenue","Probability % (Jail Short)":2.6252,Rank:20,"Probability % (Jail Long)":2.4721},ohousecost:200,oprice:300,averageProbability:2.5486500000000003},{name:"Pennsylvania Avenue",id:"pennsylvaniaave",posistion:34,price:320,rent:28,multpliedrent:[150,450,1e3,1200,1400],housecost:200,group:"darkgreen",ownedby:-1,buildings:0,mortgaged:!1,rel:{Square:"Pennsylvania Avenue","Probability % (Jail Short)":2.5006,Rank:23,"Probability % (Jail Long)":2.3531},ohousecost:200,oprice:320,averageProbability:2.42685},{name:"Park Place",id:"parkplace",posistion:37,price:350,rent:35,multpliedrent:[175,500,1100,1300,1500],housecost:200,group:"darkblue",ownedby:-1,buildings:0,mortgaged:!1,rel:{Square:"Park Place","Probability % (Jail Short)":2.1864,Rank:33,"Probability % (Jail Long)":2.0595},ohousecost:200,oprice:350,averageProbability:2.12295},{name:"Boardwalk",id:"boardwalk",posistion:39,price:400,rent:50,multpliedrent:[200,600,1400,1700,2e3],housecost:200,group:"darkblue",ownedby:-1,buildings:0,mortgaged:!1,rel:{Square:"Boardwalk","Probability % (Jail Short)":2.626,Rank:19,"Probability % (Jail Long)":2.4832},ohousecost:200,oprice:400,averageProbability:2.5545999999999998},{name:"Electric Company",id:"electriccompany",posistion:12,price:150,group:"Utilities",ownedby:-1,mortgaged:!1,rel:{Square:"Electric Company","Probability % (Jail Short)":2.604,Rank:13,"Probability % (Jail Long)":2.614},oprice:150,averageProbability:2.609},{name:"Water Works",id:"waterworks",posistion:28,price:150,group:"Utilities",ownedby:-1,mortgaged:!1,rel:{Square:"Water Works","Probability % (Jail Short)":2.8074,Rank:10,"Probability % (Jail Long)":2.6507},oprice:150,averageProbability:2.72905},{name:"Reading Railroad",id:"readingrailroad",posistion:5,price:200,group:"Railroad",ownedby:-1,mortgaged:!1,probability:2.1314,rel:{Square:"Reading Railroad","Probability % (Jail Short)":2.9631,Rank:8,"Probability % (Jail Long)":2.801},oprice:200,averageProbability:2.88205},{name:"Pennsylvania Railroad",id:"pennsylvaniarailroad",posistion:15,price:200,group:"Railroad",ownedby:-1,mortgaged:!1,rel:{Square:"Pennsylvania Railroad","Probability % (Jail Short)":2.92,Rank:11,"Probability % (Jail Long)":2.6354},oprice:200,averageProbability:2.7777000000000003},{name:"B. & O. Railroad",id:"borailroad",posistion:25,price:200,group:"Railroad",ownedby:-1,mortgaged:!1,oprice:200,averageProbability:2.975},{name:"Short Line Railroad",id:"shortlinerailroad",posistion:35,price:200,group:"Railroad",ownedby:-1,mortgaged:!1,oprice:200,averageProbability:2.3609500000000003},{name:"Go",id:"go",posistion:0,group:"Special",rel:{Square:"Go","Probability % (Jail Short)":3.0961,Rank:3,"Probability % (Jail Long)":2.9143},averageProbability:3.0052},{name:"Income Tax",id:"incometax",group:"Special",posistion:4,rel:{Square:"Income Tax","Probability % (Jail Short)":2.3285,Rank:27,"Probability % (Jail Long)":2.1934},averageProbability:2.2609500000000002},{name:"Jail / Just Visiting",id:"jail",posistion:10,group:"Special",averageProbability:8.897},{name:"Chance",id:"chance",group:"Special",posistion:36,rel:{Square:"Chance","Probability % (Jail Short)":.865,Rank:40,"Probability % (Jail Long)":.8152},averageProbability:.8401000000000001},{name:"Chance",id:"chance",group:"Special",posistion:7,rel:{Square:"Chance","Probability % (Jail Short)":.865,Rank:40,"Probability % (Jail Long)":.8152},averageProbability:.8401000000000001},{name:"Chance",id:"chance",group:"Special",posistion:22,rel:{Square:"Chance","Probability % (Jail Short)":.865,Rank:40,"Probability % (Jail Long)":.8152},averageProbability:.8401000000000001},{name:"Free Parking",id:"freeparking",group:"Special",posistion:20,rel:{Square:"Free Parking","Probability % (Jail Short)":2.8836,Rank:5,"Probability % (Jail Long)":2.8253},averageProbability:2.85445},{name:"Community Chest",id:"communitychest",group:"Special",posistion:2,rel:{Square:"Community Chest","Probability % (Jail Short)":1.8849,Rank:37,"Probability % (Jail Long)":1.775},averageProbability:1.82995},{name:"Community Chest",id:"communitychest",group:"Special",posistion:33,rel:{Square:"Community Chest","Probability % (Jail Short)":1.8849,Rank:37,"Probability % (Jail Long)":1.775},averageProbability:1.82995},{name:"Community Chest",id:"communitychest",group:"Special",posistion:17,rel:{Square:"Community Chest","Probability % (Jail Short)":1.8849,Rank:37,"Probability % (Jail Long)":1.775},averageProbability:1.82995},{name:"Go To Jail",id:"gotojail",group:"Special",posistion:30,rel:{Square:"Go To Jail","Probability % (Jail Short)":0,Rank:41,"Probability % (Jail Long)":0},averageProbability:0},{name:"Luxury Tax",id:"luxerytax",group:"Special",posistion:38,averageProbability:2.116}],FC=[{id:"go"},{id:"mediterraneanave"},{id:"communitychest"},{id:"balticave"},{id:"incometax"},{id:"readingrailroad"},{id:"orientalave"},{id:"chance"},{id:"vermontave"},{id:"connecticutave"},{id:"jail"},{id:"stcharlesplace"},{id:"electriccompany"},{id:"statesave"},{id:"virginiaave"},{id:"pennsylvaniarailroad"},{id:"stjamesplace"},{id:"communitychest"},{id:"tennesseeave"},{id:"newyorkave"},{id:"freeparking"},{id:"kentuckyave"},{id:"chance"},{id:"indianaave"},{id:"illinoisave"},{id:"borailroad"},{id:"atlanticave"},{id:"ventnorave"},{id:"waterworks"},{id:"marvingardens"},{id:"gotojail"},{id:"pacificave"},{id:"northcarolinaave"},{id:"communitychest"},{id:"pennsylvaniaave"},{id:"shortlinerailroad"},{id:"chance"},{id:"parkplace"},{id:"luxerytax"},{id:"boardwalk"}],MC=[{title:"Advance to Go (Collect $200)",action:"move",tileid:"go"},{title:"Advance to Illinois Avenue - If you pass Go, collect $200",action:"move",tileid:"illinoisave"},{title:"Advance to St. Charles Place - If you pass Go, collect $200",action:"move",tileid:"stcharlesplace"},{title:"Advance token to nearest Utility. If unowned, you may buy it from the Bank. If owned, throw dice and pay owner a total ten times the amount thrown.",action:"movenearest",groupid:"utility",rentmultiplier:10},{title:"Advance token to the nearest Railroad and pay owner twice the rental to which he/she is otherwise entitled. If Railroad is unowned, you may buy it from the Bank.",action:"movenearest",groupid:"railroad",rentmultiplier:2},{title:"Bank pays you dividend of $50",action:"addfunds",amount:50},{title:"Get out of Jail Free - This card may be kept until needed, or traded/sold",action:"jail",subaction:"getout"},{title:"Go Back 3 Spaces",action:"move",count:-3},{title:"Go to Jail - Go directly to Jail - Do not pass Go, do not collect $200",action:"jail",subaction:"goto"},{title:"Make general repairs on all your property - For each house pay $25 - For each hotel $100",action:"propertycharges",buildings:25,hotels:100},{title:"Pay poor tax of $15",action:"removefunds",amount:15},{title:"Take a trip to Reading Railroad - If you pass Go, collect $200",action:"move",tileid:"readingrailroad"},{title:"Take a walk on the Boardwalk - Advance token to Boardwalk",action:"move",tileid:"boardwalk"},{title:"You have been elected Chairman of the Board - Pay each player $50",action:"removefundstoplayers",amount:50},{title:"Your building loan matures - Collect $150",action:"addfunds",amount:50}],OC=[{title:"Advance to Go (Collect $200)",action:"move",tileid:"go"},{title:"Bank error in your favor - Collect $200 ",action:"addfunds",amount:200},{title:"Doctor fee - Pay $50",action:"removefunds",amount:50},{title:"From sale of stock you get $50",action:"addfunds",amount:50},{title:"Get Out of Jail Free",action:"jail",subaction:"getout"},{title:"Go to Jail - Go directly to jail - Do not pass Go - Do not collect $200",action:"jail",subaction:"goto"},{title:"Grand Opera Night - Collect $50 from every player for opening night seats",action:"addfundsfromplayers",amount:50},{title:"Holiday Fund matures - Receive $100",action:"addfunds",amount:100},{title:"Income tax refund - Collect $20",action:"addfunds",amount:20},{title:"Life insurance matures - Collect $100",action:"addfunds",amount:100},{title:"Pay hospital fees of $100",action:"removefunds",amount:100},{title:"Pay school fees of $150",action:"removefunds",amount:150},{title:"Receive $25 consultancy fee",action:"addfunds",amount:25},{title:"You are assessed for street repairs - $40 per house - $115 per hotel",action:"propertycharges",buildings:40,hotels:115},{title:"You have won second prize in a beauty contest - Collect $10",action:"addfunds",amount:10},{title:"You inherit $100",action:"addfunds",amount:100}],$t={properties:BC,tiles:FC,chance:MC,communitychest:OC};function kh(e){const t=new Map($t.properties.map(a=>[a.posistion??0,a]));let n={},r="Utilities";const i=t.get(e.posistion);if(i)return i.group==="Special"?d.jsx(d.Fragment,{}):(i.group==="Utilities"?(r="Utilities",n={cardCost:i.price??-1,title:i.name??"error",type:i.id.includes("water")?"water":"electricity"}):i.group==="Railroad"?(r="Railroad",n={cardCost:i.price??-1,title:i.name??"error"}):(r="Street",n={cardCost:i.price??-1,hotelsCost:i.ohousecost??-1,housesCost:i.housecost??-1,rent:i.rent??-1,multpliedrent:i.multpliedrent?[i.multpliedrent[0]??-1,i.multpliedrent[1]??-1,i.multpliedrent[2]??-1,i.multpliedrent[3]??-1,i.multpliedrent[4]??-1]:[-1,-1,-1,-1,-1],rentWithColorSet:i.rent?i.rent*2:-1,title:i.name??"error",group:i.group}),d.jsx("div",{style:e.style,onClick:e.OnClick,children:r==="Railroad"?d.jsx(Oi,{railroad:n}):r==="Utilities"?d.jsx(Oi,{utility:n}):d.jsx(Oi,{street:n})}))}const IC=L.forwardRef((e,t)=>{const n=new Map($t.properties.map(v=>[v.posistion??0,v])),r={isRailroad:v=>{const C=n.get(v),_=e.players.filter(x=>x.id===e.socket.id)[0];return C!==void 0&&C.group==="Railroad"&&_.properties.filter(x=>x.group==="Railroad"&&x.posistion===v).length>0},isMortaged:v=>{const _=e.players.filter(x=>x.id===e.socket.id)[0].properties.filter(x=>x.group==="Railroad"&&x.posistion===v)[0];return _.morgage!==void 0&&_.morgage===!0},buttons:{cancel:()=>{var x;const v=a,C=e.players.filter(y=>y.id===e.socket.id)[0],_=C.properties.filter(y=>y.group==="Railroad"&&y.posistion===v)[0];_.morgage=!1,e.Morgage.onCanc(10,((x=n.get(_.posistion))==null?void 0:x.name)??""),o(-1),e.socket.emit("player_update",{playerId:e.socket.id,pJson:C.toJson()})},pay:()=>{var x;const v=a,C=e.players.filter(y=>y.id===e.socket.id)[0],_=C.properties.filter(y=>y.group==="Railroad"&&y.posistion===v)[0];_.morgage=!0,e.Morgage.onMort(100,((x=n.get(_.posistion))==null?void 0:x.name)??""),o(-1),e.socket.emit("player_update",{playerId:e.socket.id,pJson:C.toJson()})}}},i=e.players.filter(v=>v.id===e.socket.id)[0];if(i===void 0)return d.jsx(d.Fragment,{children:"Could not read local player!"});L.useImperativeHandle(t,()=>({clickedOnBoard(v){f(-1),l(""),u([]),o(v)}}));const[a,o]=L.useState(-1),[s,l]=L.useState(""),[c,u]=L.useState([]),[m,f]=L.useState(-1);function g(){f(-1),o(-1);const v=Array.from(n.values()).filter(y=>y.group!="Special"),C=v.map(y=>[y.name,y.posistion]),_=v.map(y=>y.posistion.toString()),x=[];for(const y of _)y.includes(s)&&x.push(parseInt(y));for(const y of C)y[0].toLowerCase().includes(s.toLowerCase())&&x.push(y[1]);u(x)}return L.useEffect(g,[s]),d.jsxs(d.Fragment,{children:[d.jsx("h3",{style:{textAlign:"center"},children:"Propreties"}),d.jsx("input",{type:"text",onChange:v=>l(v.currentTarget.value),placeholder:"Search for global cards..."}),d.jsx("div",{className:"propertyList",style:{overflowY:"auto",position:"relative",flexGrow:1,cursor:"pointer"},children:s.length>0?c.map((v,C)=>{var _,x;return d.jsx(d.Fragment,{children:m===v?d.jsx("center",{children:d.jsx(kh,{style:{cursor:"pointer",marginBottom:25,marginTop:10},posistion:v,OnClick:()=>{f(-1)}},C)}):d.jsxs("div",{onClick:()=>f(v),className:"proprety-nav",children:[d.jsx("i",{className:"box",style:{backgroundColor:lr(((_=n.get(v))==null?void 0:_.group)??"")}}),d.jsx("h3",{children:((x=n.get(v))==null?void 0:x.name)??""})]},C)})}):a===-1?i.properties.map((v,C)=>{var _;return d.jsxs("div",{onClick:()=>{o(v.posistion)},className:"proprety-nav",children:[d.jsx("i",{className:"box",style:{backgroundColor:lr(v.group)}}),d.jsx("h3",{style:v.morgage!==void 0&&v.morgage===!0?{textDecoration:"line-through white"}:{},children:((_=n.get(v.posistion))==null?void 0:_.name)??""}),d.jsx("div",{children:v.count=="h"?d.jsx("img",{src:Dr.replace("public/",""),alt:""}):typeof v.count=="number"&&v.count>0?d.jsxs(d.Fragment,{children:[d.jsx("p",{children:v.count}),d.jsx("img",{src:Tr.replace("public/",""),alt:""})]}):d.jsx(d.Fragment,{})})]},C)}):d.jsx("div",{children:d.jsxs("center",{style:{transform:"scale(1) translateY(-50%) translateX(-50%)",position:"absolute",top:"50%",left:"50%"},children:[d.jsx(kh,{style:{filter:"drop-shadow(5px 5px 0px rgba(255,255,255,20%))"},posistion:a,OnClick:()=>{o(-1)}}),r.isRailroad(a)&&e.allowMortgage?d.jsxs(d.Fragment,{children:[" ",d.jsx("h2",{children:"Actions"}),r.isMortaged(a)?d.jsx("button",{className:"railroads-actions",onClick:r.buttons.cancel,children:"Cancel Mortgage [Pay 10M]"}):d.jsxs("button",{className:"railroads-actions",onClick:r.buttons.pay,children:[" ","Mortgage [Pay 100M]"]})]}):d.jsx(d.Fragment,{})]})})})]})}),xy="/Monopoly/assets/roll-893dc331.png";class yt{static set(t,n,r){let i=`${t}=${n}`;if(r){const a=new Date;a.setDate(a.getDate()+r),i+=`; expires=${a.toUTCString()}`}document.cookie=i}static get(t){const n=document.cookie.split(";").map(r=>r.trim());for(const r of n){const[i,a]=r.split("=");if(i===t)return decodeURIComponent(a)}return null}static has(t){return this.get(t)!==null}static delete(t){this.set(t,"",-1)}static getTyped(t){const n=this.get(t);return n===null?null:typeof n=="string"?n.toLowerCase()==="true"?!0:n.toLowerCase()==="false"?!1:/^-?\d+(\.\d+)?$/.test(n)?parseFloat(n):n:n}}const LC=L.forwardRef((e,t)=>{var c;const n=e.players.filter(u=>u.id===e.socket.id)[0],r=new Map($t.properties.map(u=>[u.posistion??0,u])),[i,a]=L.useState(),[o,s]=L.useState();L.useEffect(()=>{s(JSON.parse(decodeURIComponent(yt.get("monopolySettings"))).settings)},[document.cookie]),L.useImperativeHandle(t,()=>({clickdOnPlayer(u){for(const m of e.players)m.id===u&&a(m)}}));function l(u){var m=0;for(const f of u)m+=f;return m}return d.jsxs(d.Fragment,{children:[d.jsxs("div",{className:n!==void 0?"container-top":"",style:n===void 0?{height:"100%"}:{},children:[d.jsx("h3",{"data-clickable":i!==void 0,style:{textAlign:"center"},onClick:()=>{i!==void 0&&a(void 0)},children:"Players"}),i!==void 0?d.jsxs(d.Fragment,{children:[d.jsxs("table",{children:[d.jsxs("tr",{children:[d.jsx("td",{children:"balance"}),d.jsx("td",{children:i.balance})]}),d.jsxs("tr",{children:[d.jsx("td",{children:"position"}),d.jsxs("td",{children:[(c=r.get(i.position))==null?void 0:c.name," [",i.position,"]"]})]}),d.jsxs("tr",{children:[d.jsx("td",{children:"properties counts"}),d.jsx("td",{children:i.properties.length})]}),d.jsxs("tr",{children:[d.jsx("td",{children:"houses counts"}),d.jsx("td",{children:l(i.properties.filter(u=>typeof u.count=="number").map(u=>u.count))})]}),d.jsxs("tr",{children:[d.jsx("td",{children:"hotel counts"}),d.jsx("td",{children:i.properties.filter(u=>u.count==="h").length})]}),d.jsxs("tr",{children:[d.jsx("td",{children:"get-out cards"}),d.jsx("td",{children:i.getoutCards})]}),d.jsxs("tr",{children:[d.jsx("td",{children:"is in jail"}),d.jsx("td",{children:i.isInJail.toString()})]})]}),i.properties.length===0?d.jsx("p",{}):d.jsx(d.Fragment,{children:i.properties.map((u,m)=>{var f;return d.jsxs("div",{onClick:()=>{a(void 0),e.clickedOnPlayer(u.posistion)},className:"proprety-nav",children:[d.jsx("i",{className:"box",style:{backgroundColor:lr(u.group)}}),d.jsx("h3",{style:u.morgage!==void 0&&u.morgage===!0?{textDecoration:"line-through white"}:{},children:((f=r.get(u.posistion))==null?void 0:f.name)??""}),d.jsx("div",{children:u.count=="h"?d.jsx("img",{src:Dr.replace("public/",""),alt:""}):typeof u.count=="number"&&u.count>0?d.jsxs(d.Fragment,{children:[d.jsx("p",{children:u.count}),d.jsx("img",{src:Tr.replace("public/",""),alt:""})]}):d.jsx(d.Fragment,{})})]},m)})})]}):d.jsx("div",{className:"playersInfos",children:e.players.map((u,m)=>d.jsx(d.Fragment,{children:d.jsxs("div",{className:"playerInfo",style:o!==void 0&&o.accessibility[4]===!0?{backgroundColor:u.color}:{},onClick:()=>{const f=document.querySelector(`div.player[player-id="${u.id}"]`);f.style.animation="spin2 1s cubic-bezier(.21, 1.57, .55, 1) infinite",setTimeout(()=>{f.style.animation=""},1*1e3)},onDoubleClick:()=>{a(u)},children:[d.jsxs("p",{children:[o!=null&&o.accessibility[2]?`[${u.id}]`:""," ",u.username]},60),u.id===e.currentTurn?d.jsx("img",{src:xy.replace("public/","")}):d.jsx(d.Fragment,{}),u.getoutCards>0?d.jsx("p",{className:"orange",children:u.getoutCards},61):d.jsx(d.Fragment,{}),d.jsx("p",{children:u.balance},62),d.jsx("p",{children:u.properties.length},63)]},`playersInfos[${m}]`)}))})]}),n!==void 0?d.jsx(d.Fragment,{children:d.jsx("div",{className:"container-bottom",style:{},children:d.jsxs("p",{style:{margin:0,marginTop:5},children:[" ",n.balance," M"]})})}):d.jsx(d.Fragment,{})]})});function jr(e){const[t,n]=L.useState(e.defaultValue??0);return d.jsxs("div",{className:"slider-component",children:[d.jsx("input",{type:"range",onChange:r=>{var i;(i=e.onChange)==null||i.call(e,r),n(parseFloat(r.currentTarget.value))},defaultValue:e.defaultValue??50,step:e.step??1,max:e.max??100,min:e.min??0}),t.toFixed(e.fixedNum??0),e.suffix]})}function Cy(){const e=JSON.parse(decodeURIComponent(yt.get("monopolySettings"))),t={gameEngine:L.useState("2d"),numbers:[L.useState(e.settings?e.settings.accessibility[0]:45),L.useState(e.settings?e.settings.accessibility[1]:5),L.useState(e.settings?e.settings.audio[0]:100),L.useState(e.settings?e.settings.audio[1]:100),L.useState(e.settings?e.settings.audio[2]:25)],booleans:[L.useState(e.settings?e.settings.accessibility[2]:!1),L.useState(e.settings?e.settings.accessibility[3]:!1),L.useState(e.settings?e.settings.accessibility[4]:!1),L.useState(e.settings?e.settings.notifications:!1)]};return L.useEffect(()=>{const n=JSON.parse(decodeURIComponent(yt.get("monopolySettings"))),r={gameEngine:t.gameEngine[0],accessibility:[t.numbers[0][0],t.numbers[1][0],t.booleans[0][0],t.booleans[1][0],t.booleans[2][0]],audio:[t.numbers[2][0],t.numbers[3][0],t.numbers[4][0]],notifications:t.booleans[3][0]};yt.set("monopolySettings",encodeURIComponent(JSON.stringify({login:n.login,settings:r})))},[t.gameEngine[0],...t.numbers.map(n=>n[0]),,...t.booleans.map(n=>n[0])]),d.jsxs(d.Fragment,{children:[d.jsx("h3",{style:{textAlign:"center"},children:"Settings"}),d.jsxs("div",{className:"scroll",children:[d.jsxs("div",{className:"settingsItem",children:[d.jsx("p",{children:"Game Engine "}),d.jsx("div",{children:d.jsxs("select",{name:"",id:"",children:[d.jsx("option",{children:"2D"}),d.jsx("option",{children:"3D"})]})})]}),d.jsxs("p",{style:{marginBlock:0,marginInline:10,fontSize:12,opacity:.5},children:["3d isnt developed yet"," "]}),d.jsx("br",{}),d.jsx("hr",{}),d.jsx("h2",{children:"Accessibility"}),d.jsxs("div",{children:[d.jsxs("div",{className:"settingsItem",children:[d.jsx("p",{children:"Rotation Speed "}),d.jsx(jr,{step:90/8,min:0,max:180,defaultValue:t.numbers[0][0],onChange:n=>{t.numbers[0][1](parseFloat(n.currentTarget.value))},fixedNum:2,suffix:" deg"})]}),d.jsxs("div",{className:"settingsItem",children:[d.jsx("p",{children:"Scale Speed "}),d.jsx(jr,{step:1,min:1,max:10,defaultValue:t.numbers[1][0],onChange:n=>{t.numbers[1][1](parseFloat(n.currentTarget.value))},fixedNum:0})]}),d.jsxs("div",{className:"settingsItem",children:[d.jsx("p",{children:"Show Users Id "}),d.jsx("div",{children:d.jsx("input",{defaultChecked:t.booleans[0][0],type:"checkbox",onChange:n=>{t.booleans[0][1](n.currentTarget.checked)}})})]}),d.jsxs("div",{className:"settingsItem",children:[d.jsx("p",{children:"Show Users Mouse "}),d.jsx("div",{children:d.jsx("input",{defaultChecked:t.booleans[1][0],type:"checkbox",onChange:n=>{t.booleans[1][1](n.currentTarget.checked)}})})]}),d.jsxs("div",{className:"settingsItem",children:[d.jsx("p",{children:"Add Colors to Users "}),d.jsx("div",{children:d.jsx("input",{defaultChecked:t.booleans[2][0],type:"checkbox",onChange:n=>{t.booleans[2][1](n.currentTarget.checked)}})})]}),d.jsx("br",{}),d.jsx("hr",{})]}),d.jsx("h2",{children:"Audio"}),d.jsxs("div",{children:[d.jsxs("div",{className:"settingsItem",children:[d.jsx("p",{children:"Master Audio "}),d.jsx(jr,{step:1,min:0,max:100,defaultValue:t.numbers[2][0],fixedNum:0,suffix:"%",onChange:n=>{t.numbers[2][1](parseFloat(n.currentTarget.value))}})]}),d.jsxs("div",{className:"settingsItem",children:[d.jsx("p",{children:"SFX Audio "}),d.jsx(jr,{step:1,min:0,max:100,defaultValue:t.numbers[3][0],fixedNum:0,suffix:"%",onChange:n=>{t.numbers[3][1](parseFloat(n.currentTarget.value))}})]}),d.jsxs("div",{className:"settingsItem",children:[d.jsx("p",{children:"Music Audio "}),d.jsx(jr,{step:1,min:0,max:100,defaultValue:t.numbers[4][0],fixedNum:0,suffix:"%",onChange:n=>{t.numbers[4][1](parseFloat(n.currentTarget.value))}})]}),d.jsx("br",{}),d.jsx("hr",{})]}),d.jsx("h2",{children:"Notifications"}),d.jsx("div",{children:d.jsxs("div",{className:"settingsItem",children:[d.jsx("p",{children:"Notify Balance Movements "}),d.jsx("div",{children:d.jsx("input",{defaultChecked:t.booleans[3][0],type:"checkbox",onChange:n=>{t.booleans[3][1](n.currentTarget.checked)}})})]})})]})]})}const NC=L.forwardRef((e,t)=>{const[n,r]=L.useState(0),[i,a]=L.useState([]),[o,s]=L.useState(new Date);function l(){f(e.players)}L.useEffect(()=>{const C=setInterval(()=>{s(new Date)},1e3);return()=>{clearInterval(C)}},[e.time]);function c(C){const _=new Date(C),x=_.getHours().toString().padStart(2,"0"),y=_.getMinutes().toString().padStart(2,"0");return`${x}:${y}`}function u(C,_){const x=C.getTime(),h=_.getTime()-x,p=Math.floor(h/36e5),w=Math.floor(h%36e5/6e4),S=Math.floor(h%6e4/1e3),k=p.toString().padStart(2,"0"),A=w.toString().padStart(2,"0"),j=S.toString().padStart(2,"0");return p===0?`${A}:${j}`:`${k}:${A}:${j}`}const[m,f]=L.useState(e.players);L.useImperativeHandle(t,()=>({addMessage(C){if(a(_=>[..._,C]),n!==2){const _=document.getElementById("chatIconChange"),x=_.querySelector("img");x.style.animation="spin3 2s cubic-bezier(.68,.05,.49,.95) infinite",x.src=bC.replace("/public",""),_.onclick=()=>{x.src=Ah.replace("/public",""),x.style.animation="",r(2),_.onclick=()=>{r(2)}}}},reRenderPlayerList:l,clickedOnBoard:C=>{r(1),requestAnimationFrame(()=>{var _;(_=g.current)==null||_.clickedOnBoard(C)})}}));const g=L.useRef(null),v=L.useRef(null);return L.useEffect(l,[e.players.map(C=>C.properties),e.players.map(C=>C.balance)]),L.useEffect(()=>{const C=_=>{const x=parseInt(_.key);if(!isNaN(x)){const y=document.activeElement;(y===null||y.tagName!=="INPUT")&&r(x-1)}};return document.addEventListener("keydown",C),()=>{document.removeEventListener("keydown",C)}},[]),d.jsxs("nav",{className:"main",children:[d.jsxs("nav",{className:"header",children:[d.jsx("img",{style:{marginTop:75},className:"header",src:AC.replace("public/","")}),d.jsxs("div",{className:"upper",children:[d.jsx("div",{"data-selected":n==0,onClick:()=>r(0),"data-tooltip-hover":"players",className:"button",children:d.jsx("img",{src:_C.replace("public/",""),alt:""})},"ingame-nav-header-0"),d.jsx("div",{"data-selected":n==1,onClick:()=>r(1),"data-tooltip-hover":"propreties",className:"button",children:d.jsx("img",{src:SC.replace("public/",""),alt:""})},"ingame-nav-header-1"),d.jsx("div",{"data-selected":n==2,onClick:()=>r(2),"data-tooltip-hover":"chat",className:"button",id:"chatIconChange",children:d.jsx("img",{src:Ah.replace("public/",""),alt:""})},"ingame-nav-header-2"),d.jsx("div",{"data-selected":n===3,onClick:()=>{r(3)},"data-tooltip-hover":"history",className:"button",children:d.jsx("img",{src:"history.png",alt:""})},"ingame-nav-header-3")]}),d.jsxs("div",{className:"lower",children:[e.server!==void 0?d.jsx("div",{"data-selected":!1,onClick:()=>e.callServer(),"data-tooltip-hover":"server",className:"button",children:d.jsx("img",{src:"server.png",alt:""})},"ingame-nav-header-server"):d.jsx(d.Fragment,{}),d.jsx("div",{"data-selected":n==4,onClick:()=>r(4),"data-tooltip-hover":"monopolySettings",className:"button",children:d.jsx("img",{src:EC.replace("public/",""),alt:""})},"ingame-nav-header-4"),d.jsx("div",{"data-tooltip":"leave",className:"button color","data-tooltip-hover":"leave",onClick:()=>{document.location.reload()},children:d.jsx("img",{src:wC.replace("public/",""),alt:""})},"ingame-nav-header-7")]})]}),d.jsx("nav",{className:"content","data-index":n>4||n<0?0:n,children:n==1?d.jsx(IC,{ref:g,players:m,socket:e.socket,Morgage:e.Morgage,allowMortgage:e.selectedMode.mortageAllowed}):n==2?d.jsxs(d.Fragment,{children:[d.jsx("h3",{style:{textAlign:"center"},children:"Chat"}),d.jsxs("div",{className:"main-chat",children:[d.jsx("div",{className:"messages",children:i.map((C,_)=>d.jsxs("div",{className:"message",children:[d.jsxs("p",{children:[C.from,":"]}),d.jsx("p",{children:C.message})]},_))}),d.jsx("input",{placeholder:"Type Message Here...",type:"text",onKeyDown:C=>{if(C.which===13&&C.currentTarget.value.length>0){const _=C.currentTarget.value;e.socket.emit("message",_),C.currentTarget.value=""}}})]})]}):n==3?d.jsxs(d.Fragment,{children:[d.jsxs("h3",{style:{textAlign:"center"},children:["History ",d.jsx("h2",{children:u(e.time,o)})]}),d.jsx("div",{style:{overflowY:"auto",display:"block",position:"relative"},children:e.history.sort((C,_)=>new Date(C.time).getTime()-new Date(_.time).getTime()).map(C=>d.jsxs("div",{className:"history-action",children:[d.jsx("p",{children:c(C.time)}),d.jsx("p",{children:C.action})]}))})]}):n==4?d.jsx(Cy,{}):d.jsx(LC,{ref:v,clickedOnPlayer:C=>{r(1),requestAnimationFrame(()=>{var _;(_=g.current)==null||_.clickedOnBoard(C)})},players:m,socket:e.socket,currentTurn:e.currentTurn})})]})});function Rh({chance:e,chest:t}){return e!==void 0?d.jsx($C,{args:e}):t!==void 0?d.jsx(UC,{args:t}):d.jsx(d.Fragment,{})}function $C({args:e}){return d.jsxs("div",{"data-b-image":"chance",className:"chance-card",children:[d.jsx("div",{}),d.jsx("div",{children:d.jsx("h3",{children:e.title})}),d.jsx("div",{})]})}function UC({args:e}){return d.jsxs("div",{"data-b-image":"chest",className:"chance-card",children:[d.jsx("div",{}),d.jsx("div",{children:d.jsx("h3",{children:e.title})}),d.jsx("div",{})]})}const JC=L.forwardRef((e,t)=>{const n=new Map($t.properties.map(b=>[b.posistion??0,b])),[r,i]=L.useState(!1),[a,o]=L.useState(!1),[s,l]=L.useState(!1),[c,u]=L.useState(!1),[m,f]=L.useState(0),[g,v]=L.useState(1),[C,_]=L.useState(),[x,y]=L.useState(0);L.useEffect(()=>{const b=setInterval(()=>{_(JSON.parse(decodeURIComponent(yt.get("monopolySettings"))).settings)},200);return()=>{clearInterval(b)}},[document.cookie]);const[h,p]=L.useState({cardCost:-1,hotelsCost:-1,housesCost:-1,multpliedrent:[-1,-1,-1,-1,-1],rent:-1,rentWithColorSet:-1,title:"deafult",type:"electricity"}),[w,S]=L.useState("Street");function k(b,P){const R=document.getElementById("dice-panel");var D=!0;function E(){var K="./c";const z=Math.floor(Math.random()*6)+1,F=Math.floor(Math.random()*6)+1;R.innerHTML=`
                <img src="${K}${z}.png" />
                <img src="${K}${F}.png" />
                
                `}function J(){if(D)E(),requestAnimationFrame(J);else{var K="./c";R.innerHTML=`
                <img src="${K}${b}.png" />
                <img src="${K}${P}.png" />
                `}}setTimeout(()=>{D=!1},1e3),requestAnimationFrame(J)}function A(b){const P=document.querySelector("img#moneyAnimations");if(P===null)return;const R=P;R.setAttribute("data-anim","0"),requestAnimationFrame(()=>{R.setAttribute("data-anim",b.toString()),setTimeout(()=>{R.setAttribute("data-anim","0")},1e3)})}function j(){const b=JSON.parse(decodeURIComponent(yt.get("monopolySettings"))).settings;let P=new Audio("./card.mp3");P.volume=((b==null?void 0:b.audio[1])??100)/100*(((b==null?void 0:b.audio[0])??100)/100),P.loop=!1,P.play()}return L.useImperativeHandle(t,()=>({diceResults:b=>{k(...b.l),i(!0),setTimeout(()=>{i(!1),b.onDone()},b.time)},freeDice:()=>{const b=document.getElementById("dice-panel");b.innerHTML="",o(!1)},setStreet:b=>{const P=e.players.filter(K=>K.id===e.socket.id)[0],R=n.get(b.location);if(R&&b.location!==-1&&b.location<40&&b.location>=0){let K=function(z,F,H){function U(){const O=JSON.parse(decodeURIComponent(yt.get("monopolySettings"))).settings;let $=new Audio("./click.mp3");$.volume=((O==null?void 0:O.audio[1])??100)/100*(((O==null?void 0:O.audio[0])??100)/100),$.loop=!1,$.play()}function T(){if(z){const O=document.querySelector("div#advanced-responses");if(O){let $=function(ye){switch(ye){case"h":return 5;default:return ye}};const B=n.get(F);if(!B)return;const W=O;for(;W.firstChild;)W.removeChild(W.firstChild);const ce=Array.from(new Map(P.properties.map((ye,be)=>[be,ye])).entries()).filter(ye=>ye[1].posistion===b.location)[0][0],he=$(P.properties[ce].count);for(let ye=he+1;ye<6;ye++){const be=document.createElement("button");ye===5?(be.innerHTML="buy hotel",be.disabled=ye!==he+1||(B.ohousecost??0)>(e.players.filter(Ot=>Ot.id===e.socket.id)[0].balance??0),be.onclick=()=>{b.onResponse("advance-buy",{state:ye,money:1}),l(!1)}):(be.innerHTML=`buy ${ye} house${ye>1?"s":""}`,be.onclick=()=>{b.onResponse("advance-buy",{state:ye,money:ye-he}),l(!1)},be.disabled=(ye-he)*(B.housecost??0)>(e.players.filter(Ot=>Ot.id===e.socket.id)[0].balance??0)),W.appendChild(be)}const ne=document.createElement("button");ne.innerHTML="CONTINUE",ne.onclick=()=>{U(),b.onResponse("nothing",{}),l(!1)},W.appendChild(ne)}else requestAnimationFrame(T)}else{const O=document.querySelector("button#card-response-yes");O?(O.onclick=()=>{H!==void 0?b.onResponse("special_action",{rolls:H.rolls}):b.onResponse("buy",{}),l(!1)},document.querySelector("button#card-response-no").onclick=()=>{U(),b.onResponse("nothing",{}),l(!1)}):requestAnimationFrame(T)}}return T};var D=!1,E=!1,J=0;for(const z of P.properties)!D&&z.posistion===b.location&&(D=!0,J=z.count);for(const z of e.players)for(const F of z.properties)F.posistion===b.location&&z.id!=P.id&&(E=!0);if(R.group==="Special")b.onResponse("nothing",{}),l(!1);else if(R.group==="Utilities")if(D)b.onResponse("nothing",{});else if(E){b.onResponse("someones",{}),l(!1);return}else if(P.balance-((R==null?void 0:R.price)??0)<0){l(!1),b.onResponse("nothing",{});return}else{S("Utilities");const z={cardCost:R.price??-1,title:R.name??"error",type:R.id.includes("water")?"water":"electricity"};p(z),u(!1),j(),l(!0),requestAnimationFrame(K(!1,b.location,{rolls:b.rolls}))}else if(R.group==="Railroad")if(D)b.onResponse("nothing",{});else if(E){b.onResponse("someones",{}),l(!1);return}else if(P.balance-((R==null?void 0:R.price)??0)<0){l(!1),b.onResponse("nothing",{});return}else{S("Railroad");const z={cardCost:R.price??-1,title:R.name??"error"};p(z),j(),l(!0),requestAnimationFrame(K(!1,b.location))}else{if(!D&&P.balance-((R==null?void 0:R.price)??0)<0){l(!1),b.onResponse("nothing",{});return}if(!D){if(E){b.onResponse("someones",{}),l(!1);return}}if(D&&J==="h"){l(!1),b.onResponse("nothing",{});return}S("Street");const z={cardCost:R.price??-1,hotelsCost:R.ohousecost??-1,housesCost:R.housecost??-1,rent:R.rent??-1,multpliedrent:R.multpliedrent?[R.multpliedrent[0]??-1,R.multpliedrent[1]??-1,R.multpliedrent[2]??-1,R.multpliedrent[3]??-1,R.multpliedrent[4]??-1]:[-1,-1,-1,-1,-1],rentWithColorSet:R.rent?R.rent*2:-1,title:R.name??"error",group:R.group};p(z),u(!!D),j(),l(!0),requestAnimationFrame(K(D,b.location))}}else b.onResponse("nothing",{}),l(!1)},chorch(b,P,R){S(P?"Chance":"CommunityChest"),p({title:b.title}),j(),l(!0),setTimeout(()=>{l(!1)},R)},applyAnimation(b){A(b)},showJailsButtons:b=>{const P=document.querySelector('button[data-button-type="pay"]'),R=document.querySelector('button[data-button-type="card"]'),D=document.querySelector('button[data-button-type="roll"]');function E(){D.onclick=()=>{o(!0),e.socket.emit("roll_dice"),console.warn("roll after return to normal"),y(0)},y(0),o(!0),R.onclick=()=>{},R.setAttribute("aria-disabled","true"),setTimeout(()=>{R.setAttribute("aria-disabled","true")},300),P.style.translate="0px 0px",P.onclick=()=>{},P.setAttribute("aria-disabled","true"),setTimeout(()=>{P.setAttribute("aria-disabled","true")},300)}if(P.setAttribute("aria-disabled","false"),P.onclick=()=>{A(1),e.socket.emit("unjail","pay"),e.socket.emit("roll_dice"),console.warn("pay"),E()},b){const J=R;J.setAttribute("aria-disabled","false"),J.onclick=()=>{e.socket.emit("unjail","card"),e.socket.emit("roll_dice"),console.warn("card"),E()}}D.onclick=()=>{e.socket.emit("roll_dice"),console.warn("roll when in jail"),E(),o(!0),y(0)}}})),L.useEffect(()=>{document.getElementById("locations").onwheel=P=>{P.shiftKey?v(R=>R+P.deltaY*(C!==void 0?C.accessibility[1]:5)/5e3):f(R=>R+P.deltaY*(C!==void 0?C.accessibility[0]:45)/100)};const b=Array.from(n.values()).filter(P=>P.group!="Special");for(const P of b){const R=document.getElementById("locations").querySelector(`div.street[data-position="${P.posistion}"]`);R.onclick=()=>{e.clickedOnBoard(P.posistion)},R.onmousemove=()=>{R.style.cursor="pointer",R.style.backgroundColor="rgba(0,0,0,15%)"},R.onmouseleave=()=>{R.style.cursor="unset",R.style.scale="1",R.style.backgroundColor="rgba(0,0,0,0%)"}}},[C]),L.useEffect(()=>{var b=!0,P=()=>{var D,E,J,K;for(const z of e.players.filter(F=>F.balance>=0)){const F=z.position,H=z.icon+1,U=z.isInJail,T=document.querySelector(`div.player[player-id="${z.id}"]`);if(T!==null){const O=T.querySelector("div");O.style.rotate=`${-m}deg`,O.style.aspectRatio="1",C!==void 0&&C.accessibility[4]===!0?O.setAttribute("data-tooltip-color",z.color):O.hasAttribute("data-tooltip-color")&&(O.querySelector("img").style.filter="",O.removeAttribute("data-tooltip-color"));const $=(D=T.parentElement)==null?void 0:D.getAttribute("data-position");if(parseInt($)!==z.position&&((E=T.parentElement)==null||E.removeChild(T),(J=document.querySelector(`div.street[data-position="${F}"]`))==null||J.appendChild(T)),!U&&T.querySelector("img.jailIcon")!=null){const B=T.querySelector("div"),W=B.querySelector("img.jailIcon");B.removeChild(W)}if(U&&T.querySelector("img.jailIcon")==null){for(;T.firstChild;)T.removeChild(T.firstChild);const B=document.createElement("div");B.setAttribute("data-tooltip-hover",z.username);const W=document.createElement("img");W.src=`./p${H}.png`,B.appendChild(W);const ce=document.createElement("img");ce.src="./jail.png",ce.className="jailIcon",B.appendChild(ce),T.appendChild(B)}}else{const O=document.createElement("div");O.className="player",O.setAttribute("player-id",z.id),O.setAttribute("player-position",z.position.toString());const $=document.createElement("div");$.setAttribute("data-tooltip-hover",z.username);const B=document.createElement("img");if(B.src=`./p${H}.png`,$.appendChild(B),O.appendChild($),U){const W=document.createElement("img");W.src="./jail.png",W.className="jailIcon",O.appendChild(W)}(K=document.querySelector(`div.street[data-position="${F}"]`))==null||K.appendChild(O)}}function R(){const z=document.getElementById("display-houses"),F=Array.from(z.querySelectorAll("div.street-houses"));for(const U of F){const T=U;for(;T.firstChild;)T.removeChild(T.firstChild);T.onclick=()=>{},T.style.cursor="unset",T.style.backgroundColor="rgba(0,0,0,0%)",T.style.padding="0px",T.innerHTML="",T.setAttribute("data-tooltip-hover",""),T.style.zIndex="unset",T.style.boxShadow=""}for(const U of e.players)for(const T of U.properties){const O=T.posistion,$=T.count,B=z.querySelector(`div.street-houses[data-position="${O}"`);if(B!=null){const W=B;switch(W.setAttribute("data-tooltip-hover",U.username),W.onclick=()=>{const ce=document.querySelector(`div.player[player-id="${U.id}"]`);ce.style.animation="spin2 1s cubic-bezier(.21, 1.57, .55, 1) infinite",setTimeout(()=>{ce.style.animation=""},1*1e3)},W.style.cursor="pointer",W.style.zIndex="5",$){case 0:W.style.backgroundColor="rgba(0,0,0,25%)",C!==void 0&&(C!=null&&C.accessibility[4])&&(W.style.backgroundColor=U.color,W.style.boxShadow="0px 0px 5px black");var H=0;if(T.group==="Railroad"){const he=U.properties.filter(be=>be.group==="Railroad").filter(be=>be.morgage===void 0||be.morgage!==void 0&&be.morgage===!1).length;var H=[0,25,50,100,200][he]}else if(T.group==="Utilities"&&T.rent){const he=U.properties.filter(ne=>ne.group==="Utilities").length===2?10:4;H=T.rent*he}H!==0&&(W.innerHTML=`<p>${H}M</p>`,W.style.backgroundColor="rgba(0,0,0,75%)",C!==void 0&&(C!=null&&C.accessibility[4])&&(W.style.backgroundColor=`${U.color}`,W.style.boxShadow="0px 0px 5px black"));break;case 1:case 2:case 3:case 4:for(let he=0;he<$;he++){const ne=document.createElement("img");ne.src=Tr.replace("public/",""),W.appendChild(ne)}break;case"h":const ce=document.createElement("img");ce.src=Dr.replace("public/",""),W.appendChild(ce);break}}}}R(),b&&requestAnimationFrame(P)};return requestAnimationFrame(P),()=>{b=!1}},[e.players,m]),L.useEffect(()=>{const b=document.querySelector('button[data-button-type="roll"]');b.onclick=()=>{o(!0),e.socket.emit("roll_dice"),console.warn("first roll"),y(0)}},[]),L.useEffect(()=>{if(e.myTurn&&!a){var b=void 0;if(e.selectedMode.turnTimer!==void 0&&e.selectedMode.turnTimer>0){var P=0;b=setInterval(()=>{P+=1,y(P),e.selectedMode.turnTimer!==void 0&&e.selectedMode.turnTimer>0&&P>=e.selectedMode.turnTimer&&e.myTurn&&!a&&(document.querySelector('button[data-button-type="roll"]').click(),y(0),clearInterval(b))},1e3)}}return()=>{clearInterval(b),y(0),console.log("stopped")}},[e.myTurn,a,e.selectedMode]),d.jsx(d.Fragment,{children:d.jsxs("div",{className:"game",style:e.tradeObj!==void 0?{translate:"0px -100%"}:{},children:[d.jsxs("div",{style:{overflowY:"hidden"},children:[d.jsx("div",{id:"dice-panel","data-show":r}),d.jsxs("div",{className:"board",style:{transform:`translateX(-50%) translateY(-50%) rotate(${m}deg) scale(${g})`},id:"locations",children:[d.jsxs("div",{id:"display-houses",children:[d.jsx("div",{"data-position":"39","data-rotate":"4",className:"street-houses",style:{top:"83%",left:"93.5%"}}),d.jsx("div",{"data-position":"37","data-rotate":"4",className:"street-houses",style:{top:"66.5%",left:"93.5%"}}),d.jsx("div",{"data-position":"35","data-rotate":"4",className:"street-houses",style:{top:"50%",left:"93.5%"}}),d.jsx("div",{"data-position":"34","data-rotate":"4",className:"street-houses",style:{top:"41.75%",left:"93.5%"}}),d.jsx("div",{"data-position":"32","data-rotate":"4",className:"street-houses",style:{top:"25.5%",left:"93.5%"}}),d.jsx("div",{"data-position":"31","data-rotate":"4",className:"street-houses",style:{top:"17.25%",left:"93.5%"}}),d.jsx("div",{"data-position":"29","data-rotate":"3",className:"street-houses",style:{top:"6.5%",left:"83%"}}),d.jsx("div",{"data-position":"28","data-rotate":"3",className:"street-houses",style:{top:"6.5%",left:"74.75%"}}),d.jsx("div",{"data-position":"27","data-rotate":"3",className:"street-houses",style:{top:"6.5%",left:"66.5%"}}),d.jsx("div",{"data-position":"26","data-rotate":"3",className:"street-houses",style:{top:"6.5%",left:"58.25%"}}),d.jsx("div",{"data-position":"25","data-rotate":"3",className:"street-houses",style:{top:"6.5%",left:"50%"}}),d.jsx("div",{"data-position":"24","data-rotate":"3",className:"street-houses",style:{top:"6.5%",left:"41.75%"}}),d.jsx("div",{"data-position":"23","data-rotate":"3",className:"street-houses",style:{top:"6.5%",left:"33.5%"}}),d.jsx("div",{"data-position":"21","data-rotate":"3",className:"street-houses",style:{top:"6.5%",left:"17.25%"}}),d.jsx("div",{"data-position":"19","data-rotate":"2",className:"street-houses",style:{top:"17.25%",left:"6.5%"}}),d.jsx("div",{"data-position":"18","data-rotate":"2",className:"street-houses",style:{top:"25.5%",left:"6.5%"}}),d.jsx("div",{"data-position":"16","data-rotate":"2",className:"street-houses",style:{top:"41.75%",left:"6.5%"}}),d.jsx("div",{"data-position":"15","data-rotate":"2",className:"street-houses",style:{top:"50%",left:"6.5%"}}),d.jsx("div",{"data-position":"14","data-rotate":"2",className:"street-houses",style:{top:"58.25%",left:"6.5%"}}),d.jsx("div",{"data-position":"13","data-rotate":"2",className:"street-houses",style:{top:"66.5%",left:"6.5%"}}),d.jsx("div",{"data-position":"12","data-rotate":"2",className:"street-houses",style:{top:"74.75%",left:"6.5%"}}),d.jsx("div",{"data-position":"11","data-rotate":"2",className:"street-houses",style:{top:"83%",left:"6.5%"}}),d.jsx("div",{"data-position":"9","data-rotate":"1",className:"street-houses",style:{top:"93.5%",left:"17.25%"}}),d.jsx("div",{"data-position":"8","data-rotate":"1",className:"street-houses",style:{top:"93.5%",left:"25.5%"}}),d.jsx("div",{"data-position":"6","data-rotate":"1",className:"street-houses",style:{top:"93.5%",left:"41.75%"}}),d.jsx("div",{"data-position":"5","data-rotate":"1",className:"street-houses",style:{top:"93.5%",left:"50%"}}),d.jsx("div",{"data-position":"3","data-rotate":"1",className:"street-houses",style:{top:"93.5%",left:"66.5%"}}),d.jsx("div",{"data-position":"1","data-rotate":"1",className:"street-houses",style:{top:"93.5%",left:"83%"}})]}),d.jsxs("div",{id:"display-streets",children:[d.jsx("div",{"data-position":"39",className:"street",style:{width:120,height:75,top:"83%",left:"93.5%"}}),d.jsx("div",{"data-position":"38",className:"street",style:{width:120,height:75,top:"74.25%",left:"93.5%"}}),d.jsx("div",{"data-position":"37",className:"street",style:{width:120,height:75,top:"66.5%",left:"93.5%"}}),d.jsx("div",{"data-position":"36",className:"street",style:{width:120,height:75,top:"58.25%",left:"93.5%"}}),d.jsx("div",{"data-position":"35",className:"street",style:{width:120,height:75,top:"50%",left:"93.5%"}}),d.jsx("div",{"data-position":"34",className:"street",style:{width:120,height:75,top:"41.75%",left:"93.5%"}}),d.jsx("div",{"data-position":"33",className:"street",style:{width:120,height:75,top:"33.5%",left:"93.5%"}}),d.jsx("div",{"data-position":"32",className:"street",style:{width:120,height:75,top:"25.5%",left:"93.5%"}}),d.jsx("div",{"data-position":"31",className:"street",style:{width:120,height:75,top:"17.25%",left:"93.5%"}}),d.jsx("div",{"data-position":"30",className:"street",style:{width:120,height:120,top:"6.5%",left:"93.5%"}}),d.jsx("div",{"data-position":"29",className:"street",style:{width:75,height:120,top:"6.5%",left:"83%"}}),d.jsx("div",{"data-position":"28",className:"street",style:{width:75,height:120,top:"6.5%",left:"74.75%"}}),d.jsx("div",{"data-position":"27",className:"street",style:{width:75,height:120,top:"6.5%",left:"66.5%"}}),d.jsx("div",{"data-position":"26",className:"street",style:{width:75,height:120,top:"6.5%",left:"58.25%"}}),d.jsx("div",{"data-position":"25",className:"street",style:{width:75,height:120,top:"6.5%",left:"50%"}}),d.jsx("div",{"data-position":"24",className:"street",style:{width:75,height:120,top:"6.5%",left:"41.75%"}}),d.jsx("div",{"data-position":"23",className:"street",style:{width:75,height:120,top:"6.5%",left:"33.5%"}}),d.jsx("div",{"data-position":"22",className:"street",style:{width:75,height:120,top:"6.5%",left:"25.5%"}}),d.jsx("div",{"data-position":"21",className:"street",style:{width:75,height:120,top:"6.5%",left:"17.25%"}}),d.jsx("div",{"data-position":"20",className:"street",style:{width:120,height:120,top:"6.5%",left:"6.5%"}}),d.jsx("div",{"data-position":"19",className:"street",style:{width:120,height:75,top:"17.25%",left:"6.5%"}}),d.jsx("div",{"data-position":"18",className:"street",style:{width:120,height:75,top:"25.5%",left:"6.5%"}}),d.jsx("div",{"data-position":"17",className:"street",style:{width:120,height:75,top:"33.5%",left:"6.5%"}}),d.jsx("div",{"data-position":"16",className:"street",style:{width:120,height:75,top:"41.75%",left:"6.5%"}}),d.jsx("div",{"data-position":"15",className:"street",style:{width:120,height:75,top:"50%",left:"6.5%"}}),d.jsx("div",{"data-position":"14",className:"street",style:{width:120,height:75,top:"58.25%",left:"6.5%"}}),d.jsx("div",{"data-position":"13",className:"street",style:{width:120,height:75,top:"66.5%",left:"6.5%"}}),d.jsx("div",{"data-position":"12",className:"street",style:{width:120,height:75,top:"74.75%",left:"6.5%"}}),d.jsx("div",{"data-position":"11",className:"street",style:{width:120,height:75,top:"83%",left:"6.5%"}}),d.jsx("div",{className:"street","data-position":"10",style:{width:120,height:120,top:"93.5%",left:"6.5%"}}),d.jsx("div",{"data-position":"9",className:"street",style:{width:75,height:120,top:"93.5%",left:"17.25%"}}),d.jsx("div",{"data-position":"8",className:"street",style:{width:75,height:120,top:"93.5%",left:"25.5%"}}),d.jsx("div",{"data-position":"7",className:"street",style:{width:75,height:120,top:"93.5%",left:"33.5%"}}),d.jsx("div",{"data-position":"6",className:"street",style:{width:75,height:120,top:"93.5%",left:"41.75%"}}),d.jsx("div",{"data-position":"5",className:"street",style:{width:75,height:120,top:"93.5%",left:"50%"}}),d.jsx("div",{"data-position":"4",className:"street",style:{width:75,height:120,top:"93.5%",left:"58.25%"}}),d.jsx("div",{"data-position":"3",className:"street",style:{width:75,height:120,top:"93.5%",left:"66.5%"}}),d.jsx("div",{"data-position":"2",className:"street",style:{width:75,height:120,top:"93.5%",left:"74.75%"}}),d.jsx("div",{"data-position":"1",className:"street",style:{width:75,height:120,top:"93.5%",left:"83%"}}),d.jsx("div",{"data-position":"0",className:"street",style:{width:120,height:120,top:"93.5%",left:"93.5%"}})]})]}),d.jsxs("div",{className:"action-bar",style:e.myTurn&&!a?{}:{translate:"-50% 20vh"},children:[e.selectedMode.turnTimer!==void 0&&e.selectedMode.turnTimer>0?d.jsxs(d.Fragment,{children:[d.jsxs("p",{style:{display:"inline-block",opacity:1,color:"rgb(0, 114, 187)",marginRight:5},children:[e.selectedMode.turnTimer-x," "]}),d.jsx("hr",{style:{display:"inline",opacity:.5}})]}):d.jsx(d.Fragment,{}),d.jsxs("button",{"data-button-type":"roll","aria-disabled":!1,children:[d.jsx("p",{children:"ROLL THE "}),d.jsx("img",{style:{marginLeft:10},src:xy.replace("public/","")})]}),d.jsx("button",{"data-button-type":"pay","data-tooltip-hover":"pay","aria-disabled":!0,children:d.jsx("img",{src:"pay1.png"})}),d.jsx("button",{"data-button-type":"card","data-tooltip-hover":"card","aria-disabled":!0,children:d.jsx("img",{src:"golden-card.png"})}),e.selectedMode.AllowDeals?d.jsx("button",{"data-button-type":"trade","data-tooltip-hover":"trade","aria-disabled":!1,onClick:()=>{o(!0),e.socket.emit("trade")},children:d.jsx("img",{src:"morgage.png"})}):d.jsx(d.Fragment,{})]}),d.jsx("div",{className:w==="Chance"||w==="CommunityChest"?"chance-display-actions":"card-display-actions",style:s?{}:{transform:"translateY(-50%) translateX(-70vw)"},children:w==="Chance"||w==="CommunityChest"?d.jsx(d.Fragment,{children:w==="Chance"?d.jsx(Rh,{chance:h}):w==="CommunityChest"?d.jsx(Rh,{chance:h}):d.jsx(d.Fragment,{})}):d.jsxs(d.Fragment,{children:[d.jsx("h3",{children:c?"would you like to buy this card?":"you can buy houses and hotels"}),w==="Railroad"?d.jsx(Oi,{railroad:h}):w==="Utilities"?d.jsx(Oi,{utility:h}):d.jsx(Oi,{street:h}),d.jsx("div",{children:d.jsx("center",{children:c?d.jsx("div",{id:"advanced-responses"}):d.jsxs(d.Fragment,{children:[d.jsx("button",{id:"card-response-yes",children:"YES"}),d.jsx("button",{id:"card-response-no",children:"NO"})]})})})]})}),d.jsx("img",{"data-anim":"0",id:"moneyAnimations",alt:""})]}),d.jsx("div",{className:"trade-table",children:d.jsxs("div",{className:"middle",children:[d.jsx("h3",{children:"Trade"}),typeof e.tradeObj!="object"?d.jsxs(d.Fragment,{children:[d.jsx("h2",{children:"Select your opponent"}),d.jsx("center",{children:d.jsxs("div",{className:"select-players",children:[e.players.filter(b=>b.id!==e.socket.id).map((b,P)=>d.jsx("button",{style:{animation:"tradepopout .3s cubic-bezier(0.21, 1.57, 0.55, 1)"},"data-selectable":e.myTurn,onClick:()=>{e.myTurn&&e.tradeApi.onSelectPlayer(b.id)},children:b.username},P)),d.jsxs("button",{"data-selectable":e.myTurn,onClick:()=>{e.myTurn&&(e.socket.emit("cancel-trade"),o(!1))},children:[" ","CANCEL TRADE"]})]})})]}):d.jsxs(d.Fragment,{children:[d.jsxs("div",{className:"trade-mission",children:[d.jsx("div",{className:"flexchild",children:e.socket.id===e.tradeObj.againstPlayer.id||e.socket.id===e.tradeObj.turnPlayer.id?d.jsxs("div",{className:"trade-craft",children:[d.jsxs("p",{children:[" ",e.socket.id===e.tradeObj.againstPlayer.id?"You are the Opponent":"You are the Current Player"]}),d.jsx(jr,{max:e.socket.id===e.tradeObj.againstPlayer.id?e.players.filter(b=>b.id===e.tradeObj.againstPlayer.id)[0].balance:e.players.filter(b=>b.id===e.tradeObj.turnPlayer.id)[0].balance,min:0,step:25,onChange:b=>{const P=parseInt(b.currentTarget.value),R=JSON.parse(JSON.stringify(e.tradeObj));e.socket.id===e.tradeObj.againstPlayer.id?R.againstPlayer.balance=P:R.turnPlayer.balance=P,e.socket.emit("trade-update",R)},suffix:" M"}),d.jsx("br",{}),e.socket.id===e.tradeObj.againstPlayer.id?e.players.filter(b=>b.id===e.tradeObj.againstPlayer.id)[0].properties.filter(b=>!e.tradeObj.againstPlayer.prop.map(P=>JSON.stringify(P)).includes(JSON.stringify(b))).filter(b=>b.morgage===void 0||b.morgage!==void 0&&b.morgage===!1).map((b,P)=>{var R;return d.jsxs("div",{className:"proprety-nav",onClick:()=>{const D=JSON.parse(JSON.stringify(e.tradeObj));D.againstPlayer.prop.push(b),e.socket.emit("trade-update",D)},children:[d.jsx("i",{className:"box",style:{backgroundColor:lr(b.group)}}),d.jsx("h3",{style:b.morgage!==void 0&&b.morgage===!0?{textDecoration:"line-through white"}:{},children:((R=n.get(b.posistion))==null?void 0:R.name)??""}),d.jsx("div",{children:b.count=="h"?d.jsx("img",{src:Dr.replace("public/",""),alt:""}):typeof b.count=="number"&&b.count>0?d.jsxs(d.Fragment,{children:[d.jsx("p",{children:b.count}),d.jsx("img",{src:Tr.replace("public/",""),alt:""})]}):d.jsx(d.Fragment,{})})]},P)}):e.socket.id===e.tradeObj.turnPlayer.id?e.players.filter(b=>b.id===e.tradeObj.turnPlayer.id)[0].properties.filter(b=>!e.tradeObj.turnPlayer.prop.map(P=>JSON.stringify(P)).includes(JSON.stringify(b))).filter(b=>b.morgage===void 0||b.morgage!==void 0&&b.morgage===!1).map((b,P)=>{var R;return d.jsxs("div",{className:"proprety-nav",onClick:()=>{const D=JSON.parse(JSON.stringify(e.tradeObj));D.turnPlayer.prop.push(b),e.socket.emit("trade-update",D)},children:[d.jsx("i",{className:"box",style:{backgroundColor:lr(b.group)}}),d.jsx("h3",{style:b.morgage!==void 0&&b.morgage===!0?{textDecoration:"line-through white"}:{},children:((R=n.get(b.posistion))==null?void 0:R.name)??""}),d.jsx("div",{children:b.count=="h"?d.jsx("img",{src:Dr.replace("public/",""),alt:""}):typeof b.count=="number"&&b.count>0?d.jsxs(d.Fragment,{children:[d.jsx("p",{children:b.count}),d.jsx("img",{src:Tr.replace("public/",""),alt:""})]}):d.jsx(d.Fragment,{})})]},P)}):d.jsx(d.Fragment,{})]}):d.jsx(d.Fragment,{})}),d.jsxs("div",{className:"flexchild",children:[d.jsxs("div",{className:"player",children:[d.jsxs("h5",{children:["current player"," ",d.jsx("h2",{children:e.players.filter(b=>b.id===e.tradeObj.turnPlayer.id)[0].username})]}),d.jsxs("table",{children:[d.jsxs("tr",{children:[d.jsx("td",{children:"Balance"}),d.jsxs("td",{children:[e.tradeObj.turnPlayer.balance," M"]})]}),e.tradeObj.turnPlayer.prop.length>0?d.jsxs("tr",{children:[d.jsx("td",{children:"Propreties"}),d.jsx("td",{children:e.tradeObj.turnPlayer.prop.map((b,P)=>{var R;return d.jsxs("div",{className:"proprety-nav","data-actionable":e.socket.id===e.tradeObj.turnPlayer.id,onClick:()=>{if(e.socket.id===e.tradeObj.turnPlayer.id){const D=JSON.parse(JSON.stringify(e.tradeObj));D.turnPlayer.prop.splice(P,1),e.socket.emit("trade-update",D)}},children:[d.jsx("i",{className:"box",style:{backgroundColor:lr(b.group)}}),d.jsx("h3",{style:b.morgage!==void 0&&b.morgage===!0?{textDecoration:"line-through white"}:{},children:((R=n.get(b.posistion))==null?void 0:R.name)??""}),d.jsx("div",{children:b.count=="h"?d.jsx("img",{src:Dr.replace("public/",""),alt:""}):typeof b.count=="number"&&b.count>0?d.jsxs(d.Fragment,{children:[d.jsx("p",{children:b.count}),d.jsx("img",{src:Tr.replace("public/",""),alt:""})]}):d.jsx(d.Fragment,{})})]},P)})})]}):d.jsx(d.Fragment,{})]})]}),d.jsxs("div",{className:"player",children:[d.jsxs("h5",{children:["opponent player",d.jsx("h2",{children:e.players.filter(b=>b.id===e.tradeObj.againstPlayer.id)[0].username})]}),d.jsxs("table",{children:[d.jsxs("tr",{children:[d.jsx("td",{children:"Balance"}),d.jsxs("td",{children:[e.tradeObj.againstPlayer.balance," M"]})]}),e.tradeObj.againstPlayer.prop.length>0?d.jsxs("tr",{children:[d.jsx("td",{children:"Propreties"}),d.jsx("td",{children:e.tradeObj.againstPlayer.prop.map((b,P)=>{var R;return d.jsxs("div",{"data-actionable":e.socket.id===e.tradeObj.againstPlayer.id,className:"proprety-nav",onClick:()=>{if(e.socket.id===e.tradeObj.againstPlayer.id){const D=JSON.parse(JSON.stringify(e.tradeObj));D.againstPlayer.prop.splice(P,1),e.socket.emit("trade-update",D)}},children:[d.jsx("i",{className:"box",style:{backgroundColor:lr(b.group)}}),d.jsx("h3",{style:b.morgage!==void 0&&b.morgage===!0?{textDecoration:"line-through white"}:{},children:((R=n.get(b.posistion))==null?void 0:R.name)??""}),d.jsx("div",{children:b.count=="h"?d.jsx("img",{src:Dr.replace("public/",""),alt:""}):typeof b.count=="number"&&b.count>0?d.jsxs(d.Fragment,{children:[d.jsx("p",{children:b.count}),d.jsx("img",{src:Tr.replace("public/",""),alt:""})]}):d.jsx(d.Fragment,{})})]},P)})})]}):d.jsx(d.Fragment,{})]})]})]}),d.jsx("div",{className:"flexchild"})]}),e.myTurn?d.jsx("center",{children:d.jsxs("div",{className:"trade-craft-buttons",children:[d.jsxs("button",{"data-selectable":e.myTurn,onClick:()=>{e.myTurn&&(e.socket.emit("cancel-trade"),o(!1))},children:[" ","CANCEL"]}),d.jsxs("button",{"data-selectable":e.myTurn,onClick:()=>{e.myTurn&&e.socket.emit("trade")},children:[" ","BACK"]}),d.jsxs("button",{"data-selectable":e.myTurn,onClick:()=>{e.myTurn&&(e.socket.emit("submit-trade",e.tradeObj),o(!1))},children:[" ","SUBMIT"]})]})}):e.tradeObj.againstPlayer.id===e.socket.id?d.jsx("center",{children:d.jsx("div",{className:"trade-craft-buttons",children:d.jsxs("button",{"data-selectable":e.myTurn,onClick:()=>{e.socket.emit("trade")},children:[" ","CANCEL"]})})}):d.jsx(d.Fragment,{})]})]})})]})})}),_y=L.forwardRef((e,t)=>(L.useImperativeHandle(t,()=>({message(n,r,i,a,o){const s=document.querySelector("div.notify"),l=document.createElement("div");l.className="notification",l.innerHTML=n,l.setAttribute("data-notif-type",r??"info"),s.appendChild(l);var c=!1,u="popoff .7s cubic-bezier(.62,.25,1,-0.73)";if(l.onclick=()=>{c=!0,l.style.animation=u,setTimeout(()=>{s.removeChild(l),l.remove(),a&&a()},700)},setTimeout(()=>{c||(l.style.animation=u,setTimeout(()=>{s.removeChild(l),l.remove(),a&&a()},700))},(i??2)*1e3),o===void 0||o!==void 0&&o===!0){const m=JSON.parse(decodeURIComponent(yt.get("monopolySettings"))).settings;let f=new Audio("./notifications.mp3");f.volume=((m==null?void 0:m.audio[1])??100)/100*(((m==null?void 0:m.audio[0])??100)/100),f.play()}},dialog(n,r){const i=document.querySelector("div.dialog-screen"),a=document.querySelector("div.dialog-box"),o=a.querySelector("div.texts"),s=a.querySelector("div.buttons"),l=n(()=>{i.setAttribute("data-show","false"),a.setAttribute("data-show","false"),a.style.animation="dialogout 1s cubic-bezier(.5,0,1,.5)",setTimeout(()=>{a.style.animation="",o.innerHTML="",s.innerHTML=""},1e3)},(m,f)=>{const g=document.createElement("button");return g.onclick=f,g.innerHTML=m,g});a.setAttribute("data-show","true"),i.setAttribute("data-show","true"),o.innerHTML=l.innerHTML;for(const m of l.buttons)s.appendChild(m);const c=JSON.parse(decodeURIComponent(yt.get("monopolySettings"))).settings;switch(r){case"loosing":var u=new Audio("./dying.mp3");u.volume=.16*(((c==null?void 0:c.audio[1])??100)/100)*(((c==null?void 0:c.audio[0])??100)/100),u.loop=!1,u.play();break;case"winning":var u=new Audio("./winning.mp3");u.volume=((c==null?void 0:c.audio[1])??100)/100*(((c==null?void 0:c.audio[0])??100)/100),u.loop=!1,u.play();break}}})),d.jsxs(d.Fragment,{children:[" ",d.jsx("div",{className:"notify"}),d.jsx("div",{className:"dialog-screen","data-show":!1}),d.jsxs("div",{className:"dialog-box","data-show":!1,children:[d.jsx("div",{className:"texts"}),d.jsx("div",{className:"buttons"})]})]}))),Ph=["Aaren","Aarika","Abagael","Abagail","Abbe","Abbey","Abbi","Abbie","Abby","Abbye","Abigael","Abigail","Abigale","Abra","Ada","Adah","Adaline","Adan","Adara","Adda","Addi","Addia","Addie","Addy","Adel","Adela","Adelaida","Adelaide","Adele","Adelheid","Adelice","Adelina","Adelind","Adeline","Adella","Adelle","Adena","Adey","Adi","Adiana","Adina","Adora","Adore","Adoree","Adorne","Adrea","Adria","Adriaens","Adrian","Adriana","Adriane","Adrianna","Adrianne","Adriena","Adrienne","Aeriel","Aeriela","Aeriell","Afton","Ag","Agace","Agata","Agatha","Agathe","Aggi","Aggie","Aggy","Agna","Agnella","Agnes","Agnese","Agnesse","Agneta","Agnola","Agretha","Aida","Aidan","Aigneis","Aila","Aile","Ailee","Aileen","Ailene","Ailey","Aili","Ailina","Ailis","Ailsun","Ailyn","Aime","Aimee","Aimil","Aindrea","Ainslee","Ainsley","Ainslie","Ajay","Alaine","Alameda","Alana","Alanah","Alane","Alanna","Alayne","Alberta","Albertina","Albertine","Albina","Alecia","Aleda","Aleece","Aleen","Alejandra","Alejandrina","Alena","Alene","Alessandra","Aleta","Alethea","Alex","Alexa","Alexandra","Alexandrina","Alexi","Alexia","Alexina","Alexine","Alexis","Alfi","Alfie","Alfreda","Alfy","Ali","Alia","Alica","Alice","Alicea","Alicia","Alida","Alidia","Alie","Alika","Alikee","Alina","Aline","Alis","Alisa","Alisha","Alison","Alissa","Alisun","Alix","Aliza","Alla","Alleen","Allegra","Allene","Alli","Allianora","Allie","Allina","Allis","Allison","Allissa","Allix","Allsun","Allx","Ally","Allyce","Allyn","Allys","Allyson","Alma","Almeda","Almeria","Almeta","Almira","Almire","Aloise","Aloisia","Aloysia","Alta","Althea","Alvera","Alverta","Alvina","Alvinia","Alvira","Alyce","Alyda","Alys","Alysa","Alyse","Alysia","Alyson","Alyss","Alyssa","Amabel","Amabelle","Amalea","Amalee","Amaleta","Amalia","Amalie","Amalita","Amalle","Amanda","Amandi","Amandie","Amandy","Amara","Amargo","Amata","Amber","Amberly","Ambur","Ame","Amelia","Amelie","Amelina","Ameline","Amelita","Ami","Amie","Amii","Amil","Amitie","Amity","Ammamaria","Amy","Amye","Ana","Anabal","Anabel","Anabella","Anabelle","Analiese","Analise","Anallese","Anallise","Anastasia","Anastasie","Anastassia","Anatola","Andee","Andeee","Anderea","Andi","Andie","Andra","Andrea","Andreana","Andree","Andrei","Andria","Andriana","Andriette","Andromache","Andy","Anestassia","Anet","Anett","Anetta","Anette","Ange","Angel","Angela","Angele","Angelia","Angelica","Angelika","Angelina","Angeline","Angelique","Angelita","Angelle","Angie","Angil","Angy","Ania","Anica","Anissa","Anita","Anitra","Anjanette","Anjela","Ann","Ann-Marie","Anna","Anna-Diana","Anna-Diane","Anna-Maria","Annabal","Annabel","Annabela","Annabell","Annabella","Annabelle","Annadiana","Annadiane","Annalee","Annaliese","Annalise","Annamaria","Annamarie","Anne","Anne-Corinne","Anne-Marie","Annecorinne","Anneliese","Annelise","Annemarie","Annetta","Annette","Anni","Annice","Annie","Annis","Annissa","Annmaria","Annmarie","Annnora","Annora","Anny","Anselma","Ansley","Anstice","Anthe","Anthea","Anthia","Anthiathia","Antoinette","Antonella","Antonetta","Antonia","Antonie","Antonietta","Antonina","Anya","Appolonia","April","Aprilette","Ara","Arabel","Arabela","Arabele","Arabella","Arabelle","Arda","Ardath","Ardeen","Ardelia","Ardelis","Ardella","Ardelle","Arden","Ardene","Ardenia","Ardine","Ardis","Ardisj","Ardith","Ardra","Ardyce","Ardys","Ardyth","Aretha","Ariadne","Ariana","Aridatha","Ariel","Ariela","Ariella","Arielle","Arlana","Arlee","Arleen","Arlen","Arlena","Arlene","Arleta","Arlette","Arleyne","Arlie","Arliene","Arlina","Arlinda","Arline","Arluene","Arly","Arlyn","Arlyne","Aryn","Ashely","Ashia","Ashien","Ashil","Ashla","Ashlan","Ashlee","Ashleigh","Ashlen","Ashley","Ashli","Ashlie","Ashly","Asia","Astra","Astrid","Astrix","Atalanta","Athena","Athene","Atlanta","Atlante","Auberta","Aubine","Aubree","Aubrette","Aubrey","Aubrie","Aubry","Audi","Audie","Audra","Audre","Audrey","Audrie","Audry","Audrye","Audy","Augusta","Auguste","Augustina","Augustine","Aundrea","Aura","Aurea","Aurel","Aurelea","Aurelia","Aurelie","Auria","Aurie","Aurilia","Aurlie","Auroora","Aurora","Aurore","Austin","Austina","Austine","Ava","Aveline","Averil","Averyl","Avie","Avis","Aviva","Avivah","Avril","Avrit","Ayn","Bab","Babara","Babb","Babbette","Babbie","Babette","Babita","Babs","Bambi","Bambie","Bamby","Barb","Barbabra","Barbara","Barbara-Anne","Barbaraanne","Barbe","Barbee","Barbette","Barbey","Barbi","Barbie","Barbra","Barby","Bari","Barrie","Barry","Basia","Bathsheba","Batsheva","Bea","Beatrice","Beatrisa","Beatrix","Beatriz","Bebe","Becca","Becka","Becki","Beckie","Becky","Bee","Beilul","Beitris","Bekki","Bel","Belia","Belicia","Belinda","Belita","Bell","Bella","Bellanca","Belle","Bellina","Belva","Belvia","Bendite","Benedetta","Benedicta","Benedikta","Benetta","Benita","Benni","Bennie","Benny","Benoite","Berenice","Beret","Berget","Berna","Bernadene","Bernadette","Bernadina","Bernadine","Bernardina","Bernardine","Bernelle","Bernete","Bernetta","Bernette","Berni","Bernice","Bernie","Bernita","Berny","Berri","Berrie","Berry","Bert","Berta","Berte","Bertha","Berthe","Berti","Bertie","Bertina","Bertine","Berty","Beryl","Beryle","Bess","Bessie","Bessy","Beth","Bethanne","Bethany","Bethena","Bethina","Betsey","Betsy","Betta","Bette","Bette-Ann","Betteann","Betteanne","Betti","Bettina","Bettine","Betty","Bettye","Beulah","Bev","Beverie","Beverlee","Beverley","Beverlie","Beverly","Bevvy","Bianca","Bianka","Bibbie","Bibby","Bibbye","Bibi","Biddie","Biddy","Bidget","Bili","Bill","Billi","Billie","Billy","Billye","Binni","Binnie","Binny","Bird","Birdie","Birgit","Birgitta","Blair","Blaire","Blake","Blakelee","Blakeley","Blanca","Blanch","Blancha","Blanche","Blinni","Blinnie","Blinny","Bliss","Blisse","Blithe","Blondell","Blondelle","Blondie","Blondy","Blythe","Bobbe","Bobbee","Bobbette","Bobbi","Bobbie","Bobby","Bobbye","Bobette","Bobina","Bobine","Bobinette","Bonita","Bonnee","Bonni","Bonnibelle","Bonnie","Bonny","Brana","Brandais","Brande","Brandea","Brandi","Brandice","Brandie","Brandise","Brandy","Breanne","Brear","Bree","Breena","Bren","Brena","Brenda","Brenn","Brenna","Brett","Bria","Briana","Brianna","Brianne","Bride","Bridget","Bridgette","Bridie","Brier","Brietta","Brigid","Brigida","Brigit","Brigitta","Brigitte","Brina","Briney","Brinn","Brinna","Briny","Brit","Brita","Britney","Britni","Britt","Britta","Brittan","Brittaney","Brittani","Brittany","Britte","Britteny","Brittne","Brittney","Brittni","Brook","Brooke","Brooks","Brunhilda","Brunhilde","Bryana","Bryn","Bryna","Brynn","Brynna","Brynne","Buffy","Bunni","Bunnie","Bunny","Cacilia","Cacilie","Cahra","Cairistiona","Caitlin","Caitrin","Cal","Calida","Calla","Calley","Calli","Callida","Callie","Cally","Calypso","Cam","Camala","Camel","Camella","Camellia","Cami","Camila","Camile","Camilla","Camille","Cammi","Cammie","Cammy","Candace","Candi","Candice","Candida","Candide","Candie","Candis","Candra","Candy","Caprice","Cara","Caralie","Caren","Carena","Caresa","Caressa","Caresse","Carey","Cari","Caria","Carie","Caril","Carilyn","Carin","Carina","Carine","Cariotta","Carissa","Carita","Caritta","Carla","Carlee","Carleen","Carlen","Carlene","Carley","Carlie","Carlin","Carlina","Carline","Carlita","Carlota","Carlotta","Carly","Carlye","Carlyn","Carlynn","Carlynne","Carma","Carmel","Carmela","Carmelia","Carmelina","Carmelita","Carmella","Carmelle","Carmen","Carmencita","Carmina","Carmine","Carmita","Carmon","Caro","Carol","Carol-Jean","Carola","Carolan","Carolann","Carole","Carolee","Carolin","Carolina","Caroline","Caroljean","Carolyn","Carolyne","Carolynn","Caron","Carree","Carri","Carrie","Carrissa","Carroll","Carry","Cary","Caryl","Caryn","Casandra","Casey","Casi","Casie","Cass","Cassandra","Cassandre","Cassandry","Cassaundra","Cassey","Cassi","Cassie","Cassondra","Cassy","Catarina","Cate","Caterina","Catha","Catharina","Catharine","Cathe","Cathee","Catherin","Catherina","Catherine","Cathi","Cathie","Cathleen","Cathlene","Cathrin","Cathrine","Cathryn","Cathy","Cathyleen","Cati","Catie","Catina","Catlaina","Catlee","Catlin","Catrina","Catriona","Caty","Caye","Cayla","Cecelia","Cecil","Cecile","Ceciley","Cecilia","Cecilla","Cecily","Ceil","Cele","Celene","Celesta","Celeste","Celestia","Celestina","Celestine","Celestyn","Celestyna","Celia","Celie","Celina","Celinda","Celine","Celinka","Celisse","Celka","Celle","Cesya","Chad","Chanda","Chandal","Chandra","Channa","Chantal","Chantalle","Charil","Charin","Charis","Charissa","Charisse","Charita","Charity","Charla","Charlean","Charleen","Charlena","Charlene","Charline","Charlot","Charlotta","Charlotte","Charmain","Charmaine","Charmane","Charmian","Charmine","Charmion","Charo","Charyl","Chastity","Chelsae","Chelsea","Chelsey","Chelsie","Chelsy","Cher","Chere","Cherey","Cheri","Cherianne","Cherice","Cherida","Cherie","Cherilyn","Cherilynn","Cherin","Cherise","Cherish","Cherlyn","Cherri","Cherrita","Cherry","Chery","Cherye","Cheryl","Cheslie","Chiarra","Chickie","Chicky","Chiquia","Chiquita","Chlo","Chloe","Chloette","Chloris","Chris","Chrissie","Chrissy","Christa","Christabel","Christabella","Christal","Christalle","Christan","Christean","Christel","Christen","Christi","Christian","Christiana","Christiane","Christie","Christin","Christina","Christine","Christy","Christye","Christyna","Chrysa","Chrysler","Chrystal","Chryste","Chrystel","Cicely","Cicily","Ciel","Cilka","Cinda","Cindee","Cindelyn","Cinderella","Cindi","Cindie","Cindra","Cindy","Cinnamon","Cissiee","Cissy","Clair","Claire","Clara","Clarabelle","Clare","Claresta","Clareta","Claretta","Clarette","Clarey","Clari","Claribel","Clarice","Clarie","Clarinda","Clarine","Clarissa","Clarisse","Clarita","Clary","Claude","Claudelle","Claudetta","Claudette","Claudia","Claudie","Claudina","Claudine","Clea","Clem","Clemence","Clementia","Clementina","Clementine","Clemmie","Clemmy","Cleo","Cleopatra","Clerissa","Clio","Clo","Cloe","Cloris","Clotilda","Clovis","Codee","Codi","Codie","Cody","Coleen","Colene","Coletta","Colette","Colleen","Collen","Collete","Collette","Collie","Colline","Colly","Con","Concettina","Conchita","Concordia","Conni","Connie","Conny","Consolata","Constance","Constancia","Constancy","Constanta","Constantia","Constantina","Constantine","Consuela","Consuelo","Cookie","Cora","Corabel","Corabella","Corabelle","Coral","Coralie","Coraline","Coralyn","Cordelia","Cordelie","Cordey","Cordi","Cordie","Cordula","Cordy","Coreen","Corella","Corenda","Corene","Coretta","Corette","Corey","Cori","Corie","Corilla","Corina","Corine","Corinna","Corinne","Coriss","Corissa","Corliss","Corly","Cornela","Cornelia","Cornelle","Cornie","Corny","Correna","Correy","Corri","Corrianne","Corrie","Corrina","Corrine","Corrinne","Corry","Cortney","Cory","Cosetta","Cosette","Costanza","Courtenay","Courtnay","Courtney","Crin","Cris","Crissie","Crissy","Crista","Cristabel","Cristal","Cristen","Cristi","Cristie","Cristin","Cristina","Cristine","Cristionna","Cristy","Crysta","Crystal","Crystie","Cthrine","Cyb","Cybil","Cybill","Cymbre","Cynde","Cyndi","Cyndia","Cyndie","Cyndy","Cynthea","Cynthia","Cynthie","Cynthy","Dacey","Dacia","Dacie","Dacy","Dael","Daffi","Daffie","Daffy","Dagmar","Dahlia","Daile","Daisey","Daisi","Daisie","Daisy","Dale","Dalenna","Dalia","Dalila","Dallas","Daloris","Damara","Damaris","Damita","Dana","Danell","Danella","Danette","Dani","Dania","Danica","Danice","Daniela","Daniele","Daniella","Danielle","Danika","Danila","Danit","Danita","Danna","Danni","Dannie","Danny","Dannye","Danya","Danyelle","Danyette","Daphene","Daphna","Daphne","Dara","Darb","Darbie","Darby","Darcee","Darcey","Darci","Darcie","Darcy","Darda","Dareen","Darell","Darelle","Dari","Daria","Darice","Darla","Darleen","Darlene","Darline","Darlleen","Daron","Darrelle","Darryl","Darsey","Darsie","Darya","Daryl","Daryn","Dasha","Dasi","Dasie","Dasya","Datha","Daune","Daveen","Daveta","Davida","Davina","Davine","Davita","Dawn","Dawna","Dayle","Dayna","Ddene","De","Deana","Deane","Deanna","Deanne","Deb","Debbi","Debbie","Debby","Debee","Debera","Debi","Debor","Debora","Deborah","Debra","Dede","Dedie","Dedra","Dee","Dee Dee","Deeann","Deeanne","Deedee","Deena","Deerdre","Deeyn","Dehlia","Deidre","Deina","Deirdre","Del","Dela","Delcina","Delcine","Delia","Delila","Delilah","Delinda","Dell","Della","Delly","Delora","Delores","Deloria","Deloris","Delphine","Delphinia","Demeter","Demetra","Demetria","Demetris","Dena","Deni","Denice","Denise","Denna","Denni","Dennie","Denny","Deny","Denys","Denyse","Deonne","Desdemona","Desirae","Desiree","Desiri","Deva","Devan","Devi","Devin","Devina","Devinne","Devon","Devondra","Devonna","Devonne","Devora","Di","Diahann","Dian","Diana","Diandra","Diane","Diane-Marie","Dianemarie","Diann","Dianna","Dianne","Diannne","Didi","Dido","Diena","Dierdre","Dina","Dinah","Dinnie","Dinny","Dion","Dione","Dionis","Dionne","Dita","Dix","Dixie","Dniren","Dode","Dodi","Dodie","Dody","Doe","Doll","Dolley","Dolli","Dollie","Dolly","Dolores","Dolorita","Doloritas","Domeniga","Dominga","Domini","Dominica","Dominique","Dona","Donella","Donelle","Donetta","Donia","Donica","Donielle","Donna","Donnamarie","Donni","Donnie","Donny","Dora","Doralia","Doralin","Doralyn","Doralynn","Doralynne","Dore","Doreen","Dorelia","Dorella","Dorelle","Dorena","Dorene","Doretta","Dorette","Dorey","Dori","Doria","Dorian","Dorice","Dorie","Dorine","Doris","Dorisa","Dorise","Dorita","Doro","Dorolice","Dorolisa","Dorotea","Doroteya","Dorothea","Dorothee","Dorothy","Dorree","Dorri","Dorrie","Dorris","Dorry","Dorthea","Dorthy","Dory","Dosi","Dot","Doti","Dotti","Dottie","Dotty","Dre","Dreddy","Dredi","Drona","Dru","Druci","Drucie","Drucill","Drucy","Drusi","Drusie","Drusilla","Drusy","Dulce","Dulcea","Dulci","Dulcia","Dulciana","Dulcie","Dulcine","Dulcinea","Dulcy","Dulsea","Dusty","Dyan","Dyana","Dyane","Dyann","Dyanna","Dyanne","Dyna","Dynah","Eachelle","Eada","Eadie","Eadith","Ealasaid","Eartha","Easter","Eba","Ebba","Ebonee","Ebony","Eda","Eddi","Eddie","Eddy","Ede","Edee","Edeline","Eden","Edi","Edie","Edin","Edita","Edith","Editha","Edithe","Ediva","Edna","Edwina","Edy","Edyth","Edythe","Effie","Eileen","Eilis","Eimile","Eirena","Ekaterina","Elaina","Elaine","Elana","Elane","Elayne","Elberta","Elbertina","Elbertine","Eleanor","Eleanora","Eleanore","Electra","Eleen","Elena","Elene","Eleni","Elenore","Eleonora","Eleonore","Elfie","Elfreda","Elfrida","Elfrieda","Elga","Elianora","Elianore","Elicia","Elie","Elinor","Elinore","Elisa","Elisabet","Elisabeth","Elisabetta","Elise","Elisha","Elissa","Elita","Eliza","Elizabet","Elizabeth","Elka","Elke","Ella","Elladine","Elle","Ellen","Ellene","Ellette","Elli","Ellie","Ellissa","Elly","Ellyn","Ellynn","Elmira","Elna","Elnora","Elnore","Eloisa","Eloise","Elonore","Elora","Elsa","Elsbeth","Else","Elset","Elsey","Elsi","Elsie","Elsinore","Elspeth","Elsy","Elva","Elvera","Elvina","Elvira","Elwira","Elyn","Elyse","Elysee","Elysha","Elysia","Elyssa","Em","Ema","Emalee","Emalia","Emelda","Emelia","Emelina","Emeline","Emelita","Emelyne","Emera","Emilee","Emili","Emilia","Emilie","Emiline","Emily","Emlyn","Emlynn","Emlynne","Emma","Emmalee","Emmaline","Emmalyn","Emmalynn","Emmalynne","Emmeline","Emmey","Emmi","Emmie","Emmy","Emmye","Emogene","Emyle","Emylee","Engracia","Enid","Enrica","Enrichetta","Enrika","Enriqueta","Eolanda","Eolande","Eran","Erda","Erena","Erica","Ericha","Ericka","Erika","Erin","Erina","Erinn","Erinna","Erma","Ermengarde","Ermentrude","Ermina","Erminia","Erminie","Erna","Ernaline","Ernesta","Ernestine","Ertha","Eryn","Esma","Esmaria","Esme","Esmeralda","Essa","Essie","Essy","Esta","Estel","Estele","Estell","Estella","Estelle","Ester","Esther","Estrella","Estrellita","Ethel","Ethelda","Ethelin","Ethelind","Etheline","Ethelyn","Ethyl","Etta","Etti","Ettie","Etty","Eudora","Eugenia","Eugenie","Eugine","Eula","Eulalie","Eunice","Euphemia","Eustacia","Eva","Evaleen","Evangelia","Evangelin","Evangelina","Evangeline","Evania","Evanne","Eve","Eveleen","Evelina","Eveline","Evelyn","Evey","Evie","Evita","Evonne","Evvie","Evvy","Evy","Eyde","Eydie","Ezmeralda","Fae","Faina","Faith","Fallon","Fan","Fanchette","Fanchon","Fancie","Fancy","Fanechka","Fania","Fanni","Fannie","Fanny","Fanya","Fara","Farah","Farand","Farica","Farra","Farrah","Farrand","Faun","Faunie","Faustina","Faustine","Fawn","Fawne","Fawnia","Fay","Faydra","Faye","Fayette","Fayina","Fayre","Fayth","Faythe","Federica","Fedora","Felecia","Felicdad","Felice","Felicia","Felicity","Felicle","Felipa","Felisha","Felita","Feliza","Fenelia","Feodora","Ferdinanda","Ferdinande","Fern","Fernanda","Fernande","Fernandina","Ferne","Fey","Fiann","Fianna","Fidela","Fidelia","Fidelity","Fifi","Fifine","Filia","Filide","Filippa","Fina","Fiona","Fionna","Fionnula","Fiorenze","Fleur","Fleurette","Flo","Flor","Flora","Florance","Flore","Florella","Florence","Florencia","Florentia","Florenza","Florette","Flori","Floria","Florida","Florie","Florina","Florinda","Floris","Florri","Florrie","Florry","Flory","Flossi","Flossie","Flossy","Flss","Fran","Francene","Frances","Francesca","Francine","Francisca","Franciska","Francoise","Francyne","Frank","Frankie","Franky","Franni","Frannie","Franny","Frayda","Fred","Freda","Freddi","Freddie","Freddy","Fredelia","Frederica","Fredericka","Frederique","Fredi","Fredia","Fredra","Fredrika","Freida","Frieda","Friederike","Fulvia","Gabbey","Gabbi","Gabbie","Gabey","Gabi","Gabie","Gabriel","Gabriela","Gabriell","Gabriella","Gabrielle","Gabriellia","Gabrila","Gaby","Gae","Gael","Gail","Gale","Gale","Galina","Garland","Garnet","Garnette","Gates","Gavra","Gavrielle","Gay","Gaye","Gayel","Gayla","Gayle","Gayleen","Gaylene","Gaynor","Gelya","Gena","Gene","Geneva","Genevieve","Genevra","Genia","Genna","Genni","Gennie","Gennifer","Genny","Genovera","Genvieve","George","Georgeanna","Georgeanne","Georgena","Georgeta","Georgetta","Georgette","Georgia","Georgiana","Georgianna","Georgianne","Georgie","Georgina","Georgine","Geralda","Geraldine","Gerda","Gerhardine","Geri","Gerianna","Gerianne","Gerladina","Germain","Germaine","Germana","Gerri","Gerrie","Gerrilee","Gerry","Gert","Gerta","Gerti","Gertie","Gertrud","Gertruda","Gertrude","Gertrudis","Gerty","Giacinta","Giana","Gianina","Gianna","Gigi","Gilberta","Gilberte","Gilbertina","Gilbertine","Gilda","Gilemette","Gill","Gillan","Gilli","Gillian","Gillie","Gilligan","Gilly","Gina","Ginelle","Ginevra","Ginger","Ginni","Ginnie","Ginnifer","Ginny","Giorgia","Giovanna","Gipsy","Giralda","Gisela","Gisele","Gisella","Giselle","Giuditta","Giulia","Giulietta","Giustina","Gizela","Glad","Gladi","Gladys","Gleda","Glen","Glenda","Glenine","Glenn","Glenna","Glennie","Glennis","Glori","Gloria","Gloriana","Gloriane","Glory","Glyn","Glynda","Glynis","Glynnis","Gnni","Godiva","Golda","Goldarina","Goldi","Goldia","Goldie","Goldina","Goldy","Grace","Gracia","Gracie","Grata","Gratia","Gratiana","Gray","Grayce","Grazia","Greer","Greta","Gretal","Gretchen","Grete","Gretel","Grethel","Gretna","Gretta","Grier","Griselda","Grissel","Guendolen","Guenevere","Guenna","Guglielma","Gui","Guillema","Guillemette","Guinevere","Guinna","Gunilla","Gus","Gusella","Gussi","Gussie","Gussy","Gusta","Gusti","Gustie","Gusty","Gwen","Gwendolen","Gwendolin","Gwendolyn","Gweneth","Gwenette","Gwenneth","Gwenni","Gwennie","Gwenny","Gwenora","Gwenore","Gwyn","Gwyneth","Gwynne","Gypsy","Hadria","Hailee","Haily","Haleigh","Halette","Haley","Hali","Halie","Halimeda","Halley","Halli","Hallie","Hally","Hana","Hanna","Hannah","Hanni","Hannie","Hannis","Hanny","Happy","Harlene","Harley","Harli","Harlie","Harmonia","Harmonie","Harmony","Harri","Harrie","Harriet","Harriett","Harrietta","Harriette","Harriot","Harriott","Hatti","Hattie","Hatty","Hayley","Hazel","Heath","Heather","Heda","Hedda","Heddi","Heddie","Hedi","Hedvig","Hedvige","Hedwig","Hedwiga","Hedy","Heida","Heidi","Heidie","Helaina","Helaine","Helen","Helen-Elizabeth","Helena","Helene","Helenka","Helga","Helge","Helli","Heloise","Helsa","Helyn","Hendrika","Henka","Henrie","Henrieta","Henrietta","Henriette","Henryetta","Hephzibah","Hermia","Hermina","Hermine","Herminia","Hermione","Herta","Hertha","Hester","Hesther","Hestia","Hetti","Hettie","Hetty","Hilary","Hilda","Hildagard","Hildagarde","Hilde","Hildegaard","Hildegarde","Hildy","Hillary","Hilliary","Hinda","Holli","Hollie","Holly","Holly-Anne","Hollyanne","Honey","Honor","Honoria","Hope","Horatia","Hortense","Hortensia","Hulda","Hyacinth","Hyacintha","Hyacinthe","Hyacinthia","Hyacinthie","Hynda","Ianthe","Ibbie","Ibby","Ida","Idalia","Idalina","Idaline","Idell","Idelle","Idette","Ileana","Ileane","Ilene","Ilise","Ilka","Illa","Ilsa","Ilse","Ilysa","Ilyse","Ilyssa","Imelda","Imogen","Imogene","Imojean","Ina","Indira","Ines","Inesita","Inessa","Inez","Inga","Ingaberg","Ingaborg","Inge","Ingeberg","Ingeborg","Inger","Ingrid","Ingunna","Inna","Iolande","Iolanthe","Iona","Iormina","Ira","Irena","Irene","Irina","Iris","Irita","Irma","Isa","Isabel","Isabelita","Isabella","Isabelle","Isadora","Isahella","Iseabal","Isidora","Isis","Isobel","Issi","Issie","Issy","Ivett","Ivette","Ivie","Ivonne","Ivory","Ivy","Izabel","Jacenta","Jacinda","Jacinta","Jacintha","Jacinthe","Jackelyn","Jacki","Jackie","Jacklin","Jacklyn","Jackquelin","Jackqueline","Jacky","Jaclin","Jaclyn","Jacquelin","Jacqueline","Jacquelyn","Jacquelynn","Jacquenetta","Jacquenette","Jacquetta","Jacquette","Jacqui","Jacquie","Jacynth","Jada","Jade","Jaime","Jaimie","Jaine","Jami","Jamie","Jamima","Jammie","Jan","Jana","Janaya","Janaye","Jandy","Jane","Janean","Janeczka","Janeen","Janel","Janela","Janella","Janelle","Janene","Janenna","Janessa","Janet","Janeta","Janetta","Janette","Janeva","Janey","Jania","Janice","Janie","Janifer","Janina","Janine","Janis","Janith","Janka","Janna","Jannel","Jannelle","Janot","Jany","Jaquelin","Jaquelyn","Jaquenetta","Jaquenette","Jaquith","Jasmin","Jasmina","Jasmine","Jayme","Jaymee","Jayne","Jaynell","Jazmin","Jean","Jeana","Jeane","Jeanelle","Jeanette","Jeanie","Jeanine","Jeanna","Jeanne","Jeannette","Jeannie","Jeannine","Jehanna","Jelene","Jemie","Jemima","Jemimah","Jemmie","Jemmy","Jen","Jena","Jenda","Jenelle","Jeni","Jenica","Jeniece","Jenifer","Jeniffer","Jenilee","Jenine","Jenn","Jenna","Jennee","Jennette","Jenni","Jennica","Jennie","Jennifer","Jennilee","Jennine","Jenny","Jeralee","Jere","Jeri","Jermaine","Jerrie","Jerrilee","Jerrilyn","Jerrine","Jerry","Jerrylee","Jess","Jessa","Jessalin","Jessalyn","Jessamine","Jessamyn","Jesse","Jesselyn","Jessi","Jessica","Jessie","Jessika","Jessy","Jewel","Jewell","Jewelle","Jill","Jillana","Jillane","Jillayne","Jilleen","Jillene","Jilli","Jillian","Jillie","Jilly","Jinny","Jo","Jo Ann","Jo-Ann","Jo-Anne","Joan","Joana","Joane","Joanie","Joann","Joanna","Joanne","Joannes","Jobey","Jobi","Jobie","Jobina","Joby","Jobye","Jobyna","Jocelin","Joceline","Jocelyn","Jocelyne","Jodee","Jodi","Jodie","Jody","Joeann","Joela","Joelie","Joell","Joella","Joelle","Joellen","Joelly","Joellyn","Joelynn","Joete","Joey","Johanna","Johannah","Johna","Johnath","Johnette","Johnna","Joice","Jojo","Jolee","Joleen","Jolene","Joletta","Joli","Jolie","Joline","Joly","Jolyn","Jolynn","Jonell","Joni","Jonie","Jonis","Jordain","Jordan","Jordana","Jordanna","Jorey","Jori","Jorie","Jorrie","Jorry","Joscelin","Josee","Josefa","Josefina","Josepha","Josephina","Josephine","Josey","Josi","Josie","Josselyn","Josy","Jourdan","Joy","Joya","Joyan","Joyann","Joyce","Joycelin","Joye","Jsandye","Juana","Juanita","Judi","Judie","Judith","Juditha","Judy","Judye","Juieta","Julee","Juli","Julia","Juliana","Juliane","Juliann","Julianna","Julianne","Julie","Julienne","Juliet","Julieta","Julietta","Juliette","Julina","Juline","Julissa","Julita","June","Junette","Junia","Junie","Junina","Justina","Justine","Justinn","Jyoti","Kacey","Kacie","Kacy","Kaela","Kai","Kaia","Kaila","Kaile","Kailey","Kaitlin","Kaitlyn","Kaitlynn","Kaja","Kakalina","Kala","Kaleena","Kali","Kalie","Kalila","Kalina","Kalinda","Kalindi","Kalli","Kally","Kameko","Kamila","Kamilah","Kamillah","Kandace","Kandy","Kania","Kanya","Kara","Kara-Lynn","Karalee","Karalynn","Kare","Karee","Karel","Karen","Karena","Kari","Karia","Karie","Karil","Karilynn","Karin","Karina","Karine","Kariotta","Karisa","Karissa","Karita","Karla","Karlee","Karleen","Karlen","Karlene","Karlie","Karlotta","Karlotte","Karly","Karlyn","Karmen","Karna","Karol","Karola","Karole","Karolina","Karoline","Karoly","Karon","Karrah","Karrie","Karry","Kary","Karyl","Karylin","Karyn","Kasey","Kass","Kassandra","Kassey","Kassi","Kassia","Kassie","Kat","Kata","Katalin","Kate","Katee","Katerina","Katerine","Katey","Kath","Katha","Katharina","Katharine","Katharyn","Kathe","Katherina","Katherine","Katheryn","Kathi","Kathie","Kathleen","Kathlin","Kathrine","Kathryn","Kathryne","Kathy","Kathye","Kati","Katie","Katina","Katine","Katinka","Katleen","Katlin","Katrina","Katrine","Katrinka","Katti","Kattie","Katuscha","Katusha","Katy","Katya","Kay","Kaycee","Kaye","Kayla","Kayle","Kaylee","Kayley","Kaylil","Kaylyn","Keeley","Keelia","Keely","Kelcey","Kelci","Kelcie","Kelcy","Kelila","Kellen","Kelley","Kelli","Kellia","Kellie","Kellina","Kellsie","Kelly","Kellyann","Kelsey","Kelsi","Kelsy","Kendra","Kendre","Kenna","Keri","Keriann","Kerianne","Kerri","Kerrie","Kerrill","Kerrin","Kerry","Kerstin","Kesley","Keslie","Kessia","Kessiah","Ketti","Kettie","Ketty","Kevina","Kevyn","Ki","Kiah","Kial","Kiele","Kiersten","Kikelia","Kiley","Kim","Kimberlee","Kimberley","Kimberli","Kimberly","Kimberlyn","Kimbra","Kimmi","Kimmie","Kimmy","Kinna","Kip","Kipp","Kippie","Kippy","Kira","Kirbee","Kirbie","Kirby","Kiri","Kirsten","Kirsteni","Kirsti","Kirstin","Kirstyn","Kissee","Kissiah","Kissie","Kit","Kitti","Kittie","Kitty","Kizzee","Kizzie","Klara","Klarika","Klarrisa","Konstance","Konstanze","Koo","Kora","Koral","Koralle","Kordula","Kore","Korella","Koren","Koressa","Kori","Korie","Korney","Korrie","Korry","Kris","Krissie","Krissy","Krista","Kristal","Kristan","Kriste","Kristel","Kristen","Kristi","Kristien","Kristin","Kristina","Kristine","Kristy","Kristyn","Krysta","Krystal","Krystalle","Krystle","Krystyna","Kyla","Kyle","Kylen","Kylie","Kylila","Kylynn","Kym","Kynthia","Kyrstin","La Verne","Lacee","Lacey","Lacie","Lacy","Ladonna","Laetitia","Laina","Lainey","Lana","Lanae","Lane","Lanette","Laney","Lani","Lanie","Lanita","Lanna","Lanni","Lanny","Lara","Laraine","Lari","Larina","Larine","Larisa","Larissa","Lark","Laryssa","Latashia","Latia","Latisha","Latrena","Latrina","Laura","Lauraine","Laural","Lauralee","Laure","Lauree","Laureen","Laurel","Laurella","Lauren","Laurena","Laurene","Lauretta","Laurette","Lauri","Laurianne","Laurice","Laurie","Lauryn","Lavena","Laverna","Laverne","Lavina","Lavinia","Lavinie","Layla","Layne","Layney","Lea","Leah","Leandra","Leann","Leanna","Leanor","Leanora","Lebbie","Leda","Lee","Leeann","Leeanne","Leela","Leelah","Leena","Leesa","Leese","Legra","Leia","Leigh","Leigha","Leila","Leilah","Leisha","Lela","Lelah","Leland","Lelia","Lena","Lenee","Lenette","Lenka","Lenna","Lenora","Lenore","Leodora","Leoine","Leola","Leoline","Leona","Leonanie","Leone","Leonelle","Leonie","Leonora","Leonore","Leontine","Leontyne","Leora","Leshia","Lesley","Lesli","Leslie","Lesly","Lesya","Leta","Lethia","Leticia","Letisha","Letitia","Letizia","Letta","Letti","Lettie","Letty","Lexi","Lexie","Lexine","Lexis","Lexy","Leyla","Lezlie","Lia","Lian","Liana","Liane","Lianna","Lianne","Lib","Libbey","Libbi","Libbie","Libby","Licha","Lida","Lidia","Liesa","Lil","Lila","Lilah","Lilas","Lilia","Lilian","Liliane","Lilias","Lilith","Lilla","Lilli","Lillian","Lillis","Lilllie","Lilly","Lily","Lilyan","Lin","Lina","Lind","Linda","Lindi","Lindie","Lindsay","Lindsey","Lindsy","Lindy","Linea","Linell","Linet","Linette","Linn","Linnea","Linnell","Linnet","Linnie","Linzy","Lira","Lisa","Lisabeth","Lisbeth","Lise","Lisetta","Lisette","Lisha","Lishe","Lissa","Lissi","Lissie","Lissy","Lita","Liuka","Liv","Liva","Livia","Livvie","Livvy","Livvyy","Livy","Liz","Liza","Lizabeth","Lizbeth","Lizette","Lizzie","Lizzy","Loella","Lois","Loise","Lola","Loleta","Lolita","Lolly","Lona","Lonee","Loni","Lonna","Lonni","Lonnie","Lora","Lorain","Loraine","Loralee","Loralie","Loralyn","Loree","Loreen","Lorelei","Lorelle","Loren","Lorena","Lorene","Lorenza","Loretta","Lorette","Lori","Loria","Lorianna","Lorianne","Lorie","Lorilee","Lorilyn","Lorinda","Lorine","Lorita","Lorna","Lorne","Lorraine","Lorrayne","Lorri","Lorrie","Lorrin","Lorry","Lory","Lotta","Lotte","Lotti","Lottie","Lotty","Lou","Louella","Louisa","Louise","Louisette","Loutitia","Lu","Luce","Luci","Lucia","Luciana","Lucie","Lucienne","Lucila","Lucilia","Lucille","Lucina","Lucinda","Lucine","Lucita","Lucky","Lucretia","Lucy","Ludovika","Luella","Luelle","Luisa","Luise","Lula","Lulita","Lulu","Lura","Lurette","Lurleen","Lurlene","Lurline","Lusa","Luz","Lyda","Lydia","Lydie","Lyn","Lynda","Lynde","Lyndel","Lyndell","Lyndsay","Lyndsey","Lyndsie","Lyndy","Lynea","Lynelle","Lynett","Lynette","Lynn","Lynna","Lynne","Lynnea","Lynnell","Lynnelle","Lynnet","Lynnett","Lynnette","Lynsey","Lyssa","Mab","Mabel","Mabelle","Mable","Mada","Madalena","Madalyn","Maddalena","Maddi","Maddie","Maddy","Madel","Madelaine","Madeleine","Madelena","Madelene","Madelin","Madelina","Madeline","Madella","Madelle","Madelon","Madelyn","Madge","Madlen","Madlin","Madonna","Mady","Mae","Maegan","Mag","Magda","Magdaia","Magdalen","Magdalena","Magdalene","Maggee","Maggi","Maggie","Maggy","Mahala","Mahalia","Maia","Maible","Maiga","Maighdiln","Mair","Maire","Maisey","Maisie","Maitilde","Mala","Malanie","Malena","Malia","Malina","Malinda","Malinde","Malissa","Malissia","Mallissa","Mallorie","Mallory","Malorie","Malory","Malva","Malvina","Malynda","Mame","Mamie","Manda","Mandi","Mandie","Mandy","Manon","Manya","Mara","Marabel","Marcela","Marcelia","Marcella","Marcelle","Marcellina","Marcelline","Marchelle","Marci","Marcia","Marcie","Marcile","Marcille","Marcy","Mareah","Maren","Marena","Maressa","Marga","Margalit","Margalo","Margaret","Margareta","Margarete","Margaretha","Margarethe","Margaretta","Margarette","Margarita","Margaux","Marge","Margeaux","Margery","Marget","Margette","Margi","Margie","Margit","Margo","Margot","Margret","Marguerite","Margy","Mari","Maria","Mariam","Marian","Mariana","Mariann","Marianna","Marianne","Maribel","Maribelle","Maribeth","Marice","Maridel","Marie","Marie-Ann","Marie-Jeanne","Marieann","Mariejeanne","Mariel","Mariele","Marielle","Mariellen","Marietta","Mariette","Marigold","Marijo","Marika","Marilee","Marilin","Marillin","Marilyn","Marin","Marina","Marinna","Marion","Mariquilla","Maris","Marisa","Mariska","Marissa","Marita","Maritsa","Mariya","Marj","Marja","Marje","Marji","Marjie","Marjorie","Marjory","Marjy","Marketa","Marla","Marlane","Marleah","Marlee","Marleen","Marlena","Marlene","Marley","Marlie","Marline","Marlo","Marlyn","Marna","Marne","Marney","Marni","Marnia","Marnie","Marquita","Marrilee","Marris","Marrissa","Marsha","Marsiella","Marta","Martelle","Martguerita","Martha","Marthe","Marthena","Marti","Martica","Martie","Martina","Martita","Marty","Martynne","Mary","Marya","Maryann","Maryanna","Maryanne","Marybelle","Marybeth","Maryellen","Maryjane","Maryjo","Maryl","Marylee","Marylin","Marylinda","Marylou","Marylynne","Maryrose","Marys","Marysa","Masha","Matelda","Mathilda","Mathilde","Matilda","Matilde","Matti","Mattie","Matty","Maud","Maude","Maudie","Maura","Maure","Maureen","Maureene","Maurene","Maurine","Maurise","Maurita","Maurizia","Mavis","Mavra","Max","Maxi","Maxie","Maxine","Maxy","May","Maybelle","Maye","Mead","Meade","Meagan","Meaghan","Meara","Mechelle","Meg","Megan","Megen","Meggi","Meggie","Meggy","Meghan","Meghann","Mehetabel","Mei","Mel","Mela","Melamie","Melania","Melanie","Melantha","Melany","Melba","Melesa","Melessa","Melicent","Melina","Melinda","Melinde","Melisa","Melisande","Melisandra","Melisenda","Melisent","Melissa","Melisse","Melita","Melitta","Mella","Melli","Mellicent","Mellie","Mellisa","Mellisent","Melloney","Melly","Melodee","Melodie","Melody","Melonie","Melony","Melosa","Melva","Mercedes","Merci","Mercie","Mercy","Meredith","Meredithe","Meridel","Meridith","Meriel","Merilee","Merilyn","Meris","Merissa","Merl","Merla","Merle","Merlina","Merline","Merna","Merola","Merralee","Merridie","Merrie","Merrielle","Merrile","Merrilee","Merrili","Merrill","Merrily","Merry","Mersey","Meryl","Meta","Mia","Micaela","Michaela","Michaelina","Michaeline","Michaella","Michal","Michel","Michele","Michelina","Micheline","Michell","Michelle","Micki","Mickie","Micky","Midge","Mignon","Mignonne","Miguela","Miguelita","Mikaela","Mil","Mildred","Mildrid","Milena","Milicent","Milissent","Milka","Milli","Millicent","Millie","Millisent","Milly","Milzie","Mimi","Min","Mina","Minda","Mindy","Minerva","Minetta","Minette","Minna","Minnaminnie","Minne","Minni","Minnie","Minnnie","Minny","Minta","Miof Mela","Miquela","Mira","Mirabel","Mirabella","Mirabelle","Miran","Miranda","Mireielle","Mireille","Mirella","Mirelle","Miriam","Mirilla","Mirna","Misha","Missie","Missy","Misti","Misty","Mitzi","Modesta","Modestia","Modestine","Modesty","Moina","Moira","Moll","Mollee","Molli","Mollie","Molly","Mommy","Mona","Monah","Monica","Monika","Monique","Mora","Moreen","Morena","Morgan","Morgana","Morganica","Morganne","Morgen","Moria","Morissa","Morna","Moselle","Moyna","Moyra","Mozelle","Muffin","Mufi","Mufinella","Muire","Mureil","Murial","Muriel","Murielle","Myra","Myrah","Myranda","Myriam","Myrilla","Myrle","Myrlene","Myrna","Myrta","Myrtia","Myrtice","Myrtie","Myrtle","Nada","Nadean","Nadeen","Nadia","Nadine","Nadiya","Nady","Nadya","Nalani","Nan","Nana","Nananne","Nance","Nancee","Nancey","Nanci","Nancie","Nancy","Nanete","Nanette","Nani","Nanice","Nanine","Nannette","Nanni","Nannie","Nanny","Nanon","Naoma","Naomi","Nara","Nari","Nariko","Nat","Nata","Natala","Natalee","Natalie","Natalina","Nataline","Natalya","Natasha","Natassia","Nathalia","Nathalie","Natividad","Natka","Natty","Neala","Neda","Nedda","Nedi","Neely","Neila","Neile","Neilla","Neille","Nelia","Nelie","Nell","Nelle","Nelli","Nellie","Nelly","Nerissa","Nerita","Nert","Nerta","Nerte","Nerti","Nertie","Nerty","Nessa","Nessi","Nessie","Nessy","Nesta","Netta","Netti","Nettie","Nettle","Netty","Nevsa","Neysa","Nichol","Nichole","Nicholle","Nicki","Nickie","Nicky","Nicol","Nicola","Nicole","Nicolea","Nicolette","Nicoli","Nicolina","Nicoline","Nicolle","Nikaniki","Nike","Niki","Nikki","Nikkie","Nikoletta","Nikolia","Nina","Ninetta","Ninette","Ninnetta","Ninnette","Ninon","Nissa","Nisse","Nissie","Nissy","Nita","Nixie","Noami","Noel","Noelani","Noell","Noella","Noelle","Noellyn","Noelyn","Noemi","Nola","Nolana","Nolie","Nollie","Nomi","Nona","Nonah","Noni","Nonie","Nonna","Nonnah","Nora","Norah","Norean","Noreen","Norene","Norina","Norine","Norma","Norri","Norrie","Norry","Novelia","Nydia","Nyssa","Octavia","Odele","Odelia","Odelinda","Odella","Odelle","Odessa","Odetta","Odette","Odilia","Odille","Ofelia","Ofella","Ofilia","Ola","Olenka","Olga","Olia","Olimpia","Olive","Olivette","Olivia","Olivie","Oliy","Ollie","Olly","Olva","Olwen","Olympe","Olympia","Olympie","Ondrea","Oneida","Onida","Oona","Opal","Opalina","Opaline","Ophelia","Ophelie","Ora","Oralee","Oralia","Oralie","Oralla","Oralle","Orel","Orelee","Orelia","Orelie","Orella","Orelle","Oriana","Orly","Orsa","Orsola","Ortensia","Otha","Othelia","Othella","Othilia","Othilie","Ottilie","Page","Paige","Paloma","Pam","Pamela","Pamelina","Pamella","Pammi","Pammie","Pammy","Pandora","Pansie","Pansy","Paola","Paolina","Papagena","Pat","Patience","Patrica","Patrice","Patricia","Patrizia","Patsy","Patti","Pattie","Patty","Paula","Paule","Pauletta","Paulette","Pauli","Paulie","Paulina","Pauline","Paulita","Pauly","Pavia","Pavla","Pearl","Pearla","Pearle","Pearline","Peg","Pegeen","Peggi","Peggie","Peggy","Pen","Penelopa","Penelope","Penni","Pennie","Penny","Pepi","Pepita","Peri","Peria","Perl","Perla","Perle","Perri","Perrine","Perry","Persis","Pet","Peta","Petra","Petrina","Petronella","Petronia","Petronilla","Petronille","Petunia","Phaedra","Phaidra","Phebe","Phedra","Phelia","Phil","Philipa","Philippa","Philippe","Philippine","Philis","Phillida","Phillie","Phillis","Philly","Philomena","Phoebe","Phylis","Phyllida","Phyllis","Phyllys","Phylys","Pia","Pier","Pierette","Pierrette","Pietra","Piper","Pippa","Pippy","Polly","Pollyanna","Pooh","Poppy","Portia","Pris","Prisca","Priscella","Priscilla","Prissie","Pru","Prudence","Prudi","Prudy","Prue","Queenie","Quentin","Querida","Quinn","Quinta","Quintana","Quintilla","Quintina","Rachael","Rachel","Rachele","Rachelle","Rae","Raeann","Raf","Rafa","Rafaela","Rafaelia","Rafaelita","Rahal","Rahel","Raina","Raine","Rakel","Ralina","Ramona","Ramonda","Rana","Randa","Randee","Randene","Randi","Randie","Randy","Ranee","Rani","Rania","Ranice","Ranique","Ranna","Raphaela","Raquel","Raquela","Rasia","Rasla","Raven","Ray","Raychel","Raye","Rayna","Raynell","Rayshell","Rea","Reba","Rebbecca","Rebe","Rebeca","Rebecca","Rebecka","Rebeka","Rebekah","Rebekkah","Ree","Reeba","Reena","Reeta","Reeva","Regan","Reggi","Reggie","Regina","Regine","Reiko","Reina","Reine","Remy","Rena","Renae","Renata","Renate","Rene","Renee","Renell","Renelle","Renie","Rennie","Reta","Retha","Revkah","Rey","Reyna","Rhea","Rheba","Rheta","Rhetta","Rhiamon","Rhianna","Rhianon","Rhoda","Rhodia","Rhodie","Rhody","Rhona","Rhonda","Riane","Riannon","Rianon","Rica","Ricca","Rici","Ricki","Rickie","Ricky","Riki","Rikki","Rina","Risa","Rita","Riva","Rivalee","Rivi","Rivkah","Rivy","Roana","Roanna","Roanne","Robbi","Robbie","Robbin","Robby","Robbyn","Robena","Robenia","Roberta","Robin","Robina","Robinet","Robinett","Robinetta","Robinette","Robinia","Roby","Robyn","Roch","Rochell","Rochella","Rochelle","Rochette","Roda","Rodi","Rodie","Rodina","Rois","Romola","Romona","Romonda","Romy","Rona","Ronalda","Ronda","Ronica","Ronna","Ronni","Ronnica","Ronnie","Ronny","Roobbie","Rora","Rori","Rorie","Rory","Ros","Rosa","Rosabel","Rosabella","Rosabelle","Rosaleen","Rosalia","Rosalie","Rosalind","Rosalinda","Rosalinde","Rosaline","Rosalyn","Rosalynd","Rosamond","Rosamund","Rosana","Rosanna","Rosanne","Rose","Roseann","Roseanna","Roseanne","Roselia","Roselin","Roseline","Rosella","Roselle","Rosemaria","Rosemarie","Rosemary","Rosemonde","Rosene","Rosetta","Rosette","Roshelle","Rosie","Rosina","Rosita","Roslyn","Rosmunda","Rosy","Row","Rowe","Rowena","Roxana","Roxane","Roxanna","Roxanne","Roxi","Roxie","Roxine","Roxy","Roz","Rozalie","Rozalin","Rozamond","Rozanna","Rozanne","Roze","Rozele","Rozella","Rozelle","Rozina","Rubetta","Rubi","Rubia","Rubie","Rubina","Ruby","Ruperta","Ruth","Ruthann","Ruthanne","Ruthe","Ruthi","Ruthie","Ruthy","Ryann","Rycca","Saba","Sabina","Sabine","Sabra","Sabrina","Sacha","Sada","Sadella","Sadie","Sadye","Saidee","Sal","Salaidh","Sallee","Salli","Sallie","Sally","Sallyann","Sallyanne","Saloma","Salome","Salomi","Sam","Samantha","Samara","Samaria","Sammy","Sande","Sandi","Sandie","Sandra","Sandy","Sandye","Sapphira","Sapphire","Sara","Sara-Ann","Saraann","Sarah","Sarajane","Saree","Sarena","Sarene","Sarette","Sari","Sarina","Sarine","Sarita","Sascha","Sasha","Sashenka","Saudra","Saundra","Savina","Sayre","Scarlet","Scarlett","Sean","Seana","Seka","Sela","Selena","Selene","Selestina","Selia","Selie","Selina","Selinda","Seline","Sella","Selle","Selma","Sena","Sephira","Serena","Serene","Shae","Shaina","Shaine","Shalna","Shalne","Shana","Shanda","Shandee","Shandeigh","Shandie","Shandra","Shandy","Shane","Shani","Shanie","Shanna","Shannah","Shannen","Shannon","Shanon","Shanta","Shantee","Shara","Sharai","Shari","Sharia","Sharity","Sharl","Sharla","Sharleen","Sharlene","Sharline","Sharon","Sharona","Sharron","Sharyl","Shaun","Shauna","Shawn","Shawna","Shawnee","Shay","Shayla","Shaylah","Shaylyn","Shaylynn","Shayna","Shayne","Shea","Sheba","Sheela","Sheelagh","Sheelah","Sheena","Sheeree","Sheila","Sheila-Kathryn","Sheilah","Shel","Shela","Shelagh","Shelba","Shelbi","Shelby","Shelia","Shell","Shelley","Shelli","Shellie","Shelly","Shena","Sher","Sheree","Sheri","Sherie","Sherill","Sherilyn","Sherline","Sherri","Sherrie","Sherry","Sherye","Sheryl","Shina","Shir","Shirl","Shirlee","Shirleen","Shirlene","Shirley","Shirline","Shoshana","Shoshanna","Siana","Sianna","Sib","Sibbie","Sibby","Sibeal","Sibel","Sibella","Sibelle","Sibilla","Sibley","Sibyl","Sibylla","Sibylle","Sidoney","Sidonia","Sidonnie","Sigrid","Sile","Sileas","Silva","Silvana","Silvia","Silvie","Simona","Simone","Simonette","Simonne","Sindee","Siobhan","Sioux","Siouxie","Sisely","Sisile","Sissie","Sissy","Siusan","Sofia","Sofie","Sondra","Sonia","Sonja","Sonni","Sonnie","Sonnnie","Sonny","Sonya","Sophey","Sophi","Sophia","Sophie","Sophronia","Sorcha","Sosanna","Stace","Stacee","Stacey","Staci","Stacia","Stacie","Stacy","Stafani","Star","Starla","Starlene","Starlin","Starr","Stefa","Stefania","Stefanie","Steffane","Steffi","Steffie","Stella","Stepha","Stephana","Stephani","Stephanie","Stephannie","Stephenie","Stephi","Stephie","Stephine","Stesha","Stevana","Stevena","Stoddard","Storm","Stormi","Stormie","Stormy","Sue","Suellen","Sukey","Suki","Sula","Sunny","Sunshine","Susan","Susana","Susanetta","Susann","Susanna","Susannah","Susanne","Susette","Susi","Susie","Susy","Suzann","Suzanna","Suzanne","Suzette","Suzi","Suzie","Suzy","Sybil","Sybila","Sybilla","Sybille","Sybyl","Sydel","Sydelle","Sydney","Sylvia","Tabatha","Tabbatha","Tabbi","Tabbie","Tabbitha","Tabby","Tabina","Tabitha","Taffy","Talia","Tallia","Tallie","Tallou","Tallulah","Tally","Talya","Talyah","Tamar","Tamara","Tamarah","Tamarra","Tamera","Tami","Tamiko","Tamma","Tammara","Tammi","Tammie","Tammy","Tamqrah","Tamra","Tana","Tandi","Tandie","Tandy","Tanhya","Tani","Tania","Tanitansy","Tansy","Tanya","Tara","Tarah","Tarra","Tarrah","Taryn","Tasha","Tasia","Tate","Tatiana","Tatiania","Tatum","Tawnya","Tawsha","Ted","Tedda","Teddi","Teddie","Teddy","Tedi","Tedra","Teena","TEirtza","Teodora","Tera","Teresa","Terese","Teresina","Teresita","Teressa","Teri","Teriann","Terra","Terri","Terrie","Terrijo","Terry","Terrye","Tersina","Terza","Tess","Tessa","Tessi","Tessie","Tessy","Thalia","Thea","Theadora","Theda","Thekla","Thelma","Theo","Theodora","Theodosia","Theresa","Therese","Theresina","Theresita","Theressa","Therine","Thia","Thomasa","Thomasin","Thomasina","Thomasine","Tiena","Tierney","Tiertza","Tiff","Tiffani","Tiffanie","Tiffany","Tiffi","Tiffie","Tiffy","Tilda","Tildi","Tildie","Tildy","Tillie","Tilly","Tim","Timi","Timmi","Timmie","Timmy","Timothea","Tina","Tine","Tiphani","Tiphanie","Tiphany","Tish","Tisha","Tobe","Tobey","Tobi","Toby","Tobye","Toinette","Toma","Tomasina","Tomasine","Tomi","Tommi","Tommie","Tommy","Toni","Tonia","Tonie","Tony","Tonya","Tonye","Tootsie","Torey","Tori","Torie","Torrie","Tory","Tova","Tove","Tracee","Tracey","Traci","Tracie","Tracy","Trenna","Tresa","Trescha","Tressa","Tricia","Trina","Trish","Trisha","Trista","Trix","Trixi","Trixie","Trixy","Truda","Trude","Trudey","Trudi","Trudie","Trudy","Trula","Tuesday","Twila","Twyla","Tybi","Tybie","Tyne","Ula","Ulla","Ulrica","Ulrika","Ulrikaumeko","Ulrike","Umeko","Una","Ursa","Ursala","Ursola","Ursula","Ursulina","Ursuline","Uta","Val","Valaree","Valaria","Vale","Valeda","Valencia","Valene","Valenka","Valentia","Valentina","Valentine","Valera","Valeria","Valerie","Valery","Valerye","Valida","Valina","Valli","Vallie","Vally","Valma","Valry","Van","Vanda","Vanessa","Vania","Vanna","Vanni","Vannie","Vanny","Vanya","Veda","Velma","Velvet","Venita","Venus","Vera","Veradis","Vere","Verena","Verene","Veriee","Verile","Verina","Verine","Verla","Verna","Vernice","Veronica","Veronika","Veronike","Veronique","Vevay","Vi","Vicki","Vickie","Vicky","Victoria","Vida","Viki","Vikki","Vikky","Vilhelmina","Vilma","Vin","Vina","Vinita","Vinni","Vinnie","Vinny","Viola","Violante","Viole","Violet","Violetta","Violette","Virgie","Virgina","Virginia","Virginie","Vita","Vitia","Vitoria","Vittoria","Viv","Viva","Vivi","Vivia","Vivian","Viviana","Vivianna","Vivianne","Vivie","Vivien","Viviene","Vivienne","Viviyan","Vivyan","Vivyanne","Vonni","Vonnie","Vonny","Vyky","Wallie","Wallis","Walliw","Wally","Waly","Wanda","Wandie","Wandis","Waneta","Wanids","Wenda","Wendeline","Wendi","Wendie","Wendy","Wendye","Wenona","Wenonah","Whitney","Wileen","Wilhelmina","Wilhelmine","Wilie","Willa","Willabella","Willamina","Willetta","Willette","Willi","Willie","Willow","Willy","Willyt","Wilma","Wilmette","Wilona","Wilone","Wilow","Windy","Wini","Winifred","Winna","Winnah","Winne","Winni","Winnie","Winnifred","Winny","Winona","Winonah","Wren","Wrennie","Wylma","Wynn","Wynne","Wynnie","Wynny","Xaviera","Xena","Xenia","Xylia","Xylina","Yalonda","Yasmeen","Yasmin","Yelena","Yetta","Yettie","Yetty","Yevette","Ynes","Ynez","Yoko","Yolanda","Yolande","Yolane","Yolanthe","Yoshi","Yoshiko","Yovonnda","Ysabel","Yvette","Yvonne","Zabrina","Zahara","Zandra","Zaneta","Zara","Zarah","Zaria","Zarla","Zea","Zelda","Zelma","Zena","Zenia","Zia","Zilvia","Zita","Zitella","Zoe","Zola","Zonda","Zondra","Zonnya","Zora","Zorah","Zorana","Zorina","Zorine","Zsa Zsa","Zsazsa","Zulema","Zuzana"],Wa=[{AllowDeals:!0,WinningMode:"last-standing",Name:"Classic",startingCash:1500,mortageAllowed:!0,turnTimer:void 0},{AllowDeals:!1,WinningMode:"monopols & trains",Name:"Monopol",startingCash:1500,mortageAllowed:!1,turnTimer:void 0},{AllowDeals:!1,WinningMode:"last-standing",Name:"Run-Down",startingCash:1500,mortageAllowed:!1,turnTimer:30}];function Pe(e){const t=new Date().toJSON();return{action:e,time:t}}function vu(){return Ph[Math.floor(Math.random()*Ph.length)]}function zC({socket:e,name:t,server:n}){const[r,i]=L.useState(new Map),a=Array.from(r.values()),[o,s]=L.useState(""),[l,c]=L.useState(!1),[u,m]=L.useState(!1),[f,g]=L.useState(!1),[v,C]=L.useState(Wa[0]),[_,x]=L.useState(),[y,h]=L.useState(new Audio("./main-theme.mp3")),[p,w]=L.useState(new Date),[S,k]=L.useState([]),[A,j]=L.useState(void 0);L.useEffect(()=>{u&&(y.loop=!0,y.play(),y.volume=.25,_!==void 0&&(y.volume=_.audio[0]/100*(_.audio[2]/100)),h(y),w(new Date))},[u]),L.useEffect(()=>{const E=setInterval(()=>{const J=JSON.parse(decodeURIComponent(yt.get("monopolySettings"))).monopolySettings;x(J)},1e3);return()=>{clearInterval(E)}},[document.cookie]),L.useEffect(()=>{_!==void 0&&(y.volume=_.audio[0]/100*(_.audio[2]/100))},[_]);const b=L.useRef(null),P=L.useRef(null),R=L.useRef(null),D=new Map($t.properties.map(E=>[E.posistion??0,E]));return n!==void 0&&n.RenderLogs(E=>{try{const J=document.body.querySelector("#server main div.middle");J.innerHTML="";for(const K of E)J.innerHTML+=`<p> ${K.join("	")} </p>`}catch{}}),L.useEffect(()=>{let E;const J=setInterval(()=>{E=JSON.parse(decodeURIComponent(yt.get("monopolySettings"))).monopolySettings},1e3);function K(N){const q={x:N.clientX,y:N.clientY},se=r.get(e.id);e.emit("mouse",q),se&&(se.positions=q)}function z(N){function q(){r.delete(N),i(new Map(r)),requestAnimationFrame(()=>{r.has(N)&&requestAnimationFrame(q)})}q();function se(){const Z=document.querySelector(`div.player[player-id="${N}"]`);Z!==null&&(Z.parentElement&&Z.parentElement.removeChild(Z),Z.remove(),requestAnimationFrame(()=>{document.querySelector(`div.player[player-id="${N}"]`)!==null&&requestAnimationFrame(se)}))}se()}function F(N,q,se=!0,Z,X=!0){var Ae=(N-q.position)%40;(N<q.position||Ae<0)&&X&&(Ae=40-q.position+N),X||(Ae=q.position-N,Ae<0&&(Ae+=40));const _e=.35*1e3*Ae;console.log(`${new Date().toTimeString()} generator ${Math.random()} target ${N} time ${_e} current ${q.position}`);function Q(){var Ie=0,nt=!1,at=0;const He=document.querySelector(`div.player[player-id="${q.id}"]`);Ie=q.position,q.position+=1;var ot=new Audio("./step2.mp3");ot.volume=.1*(((E==null?void 0:E.audio[1])??100)/100)*(((E==null?void 0:E.audio[0])??100)/100),ot.loop=!1,ot.play(),He.style.animation="jumpstreet 0.35s cubic-bezier(.26,1.5,.65,1.02)";const de=()=>{var De,Me,ke,Le;if(at<Ae){at+=1;var me=new Audio("./step2.mp3");if(me.volume=1*(((E==null?void 0:E.audio[1])??100)/100)*(((E==null?void 0:E.audio[0])??100)/100),me.loop=!1,me.play(),q.position=(q.position+(X?1:-1))%40,q.position==0&&se){q.balance+=200;var me=new Audio("./moneyplus.mp3");me.volume=1*(((E==null?void 0:E.audio[1])??100)/100)*(((E==null?void 0:E.audio[0])??100)/100),me.loop=!1,me.play(),q.id===e.id&&(E!==void 0&&E.notifications===!0&&((De=R.current)==null||De.message("200 of money is added to the account","info",2,()=>{},!1)),(Me=b.current)==null||Me.applyAnimation(2)),nt=!0,i(new Map(r.set(q.id,q)))}if(at==Ae-1){if(q.position=N,He.style.animation="part 0.9s cubic-bezier(0,.7,.57,1)",setTimeout(()=>{He.style.animation=""},900),!nt&&Ie>q.position&&se){var me=new Audio("./moneyplus.mp3");me.volume=1*(((E==null?void 0:E.audio[1])??100)/100)*(((E==null?void 0:E.audio[0])??100)/100),me.loop=!1,me.play(),q.balance+=200,q.id===e.id&&(E!==void 0&&E.notifications===!0&&((ke=R.current)==null||ke.message("200 of money is added to the account","info",2,()=>{},!1)),(Le=b.current)==null||Le.applyAnimation(2)),nt=!0,i(new Map(r.set(q.id,q)))}Z&&Z()}else He.style.animation="jumpstreet 0.35s cubic-bezier(.26,1.5,.65,1.02)",setTimeout(de,.35*1e3)}};setTimeout(de,.35*1e3)}return{func:Q,time:_e}}const H=N=>{s(N.turn_id.toString());for(const q of N.other_players)i(r.set(q.id,new ki(q.id,q.username).recieveJson(q)));C(N.selectedMode)},U=N=>{i(new Map(r.set(N.id,new ki(N.id,N.username).recieveJson(N))))},T=N=>{const q=r.get(N.id);q!==void 0&&(q.ready=N.state,i(new Map(r.set(q.id,q))),C(N.selectedMode))},O=()=>{c(!0);function N(q){const se=document.querySelector("p#floating-clock");se.innerHTML=`${q}`,se.className="clocking"}N(3),setTimeout(()=>{N(2),setTimeout(()=>{N(1),setTimeout(()=>{m(!0)},1e3)},1e3)},1e3)},$=N=>{var q,se,Z;if(s(N.turn),r.size>2){const X=((q=r.get(N.id))==null?void 0:q.username)??"player";(se=R.current)==null||se.message(`${X} disconected`,"error")}else r.has(N.id)&&(y.pause(),(Z=R.current)==null||Z.dialog((X,Ae)=>{var _e;return{innerHTML:`<h3> YOU WON! </h3> <p> your the only left player with the balance of ${((_e=r.get(e.id))==null?void 0:_e.balance)??0} </p>`,buttons:[Ae("PLAY ANOTHER GAME",()=>{X(),document.location.reload()})]}},"winning"));z(N.id)},B=N=>{var Z,X,Ae,_e,Q,Ie,nt,at,He,ot;const q=r.get(N.from);if(q!==void 0&&JSON.stringify(q.properties)!=JSON.stringify(N.pJson.properties)){var se=new Audio("./buying1.mp3");se.volume=.5*(((E==null?void 0:E.audio[1])??100)/100)*(((E==null?void 0:E.audio[0])??100)/100),se.loop=!1,se.play()}if(N.from!==e.id&&q&&(q.recieveJson(N.pJson),i(new Map(r.set(N.from,q)))),N.pJson.balance<0){if(N.pJson.id!==e.id)if(r.size>2){const de=N.pJson.username;(Z=R.current)==null||Z.message(`${de} lost`,"info")}else if(r.has(e.id))y.pause(),(X=R.current)==null||X.dialog((de,me)=>{var De;return{innerHTML:`<h3> YOU WON! </h3> <p> your the only left player with the balance of ${((De=r.get(e.id))==null?void 0:De.balance)??0} </p>`,buttons:[me("PLAY ANOTHER GAME",()=>{de(),document.location.reload()})]}},"winning");else{const me=Array.from(r.values()).filter(De=>De.id!==N.pJson.id)[0].username??0;y.pause(),(Ae=R.current)==null||Ae.dialog((De,Me)=>{var ke;return{innerHTML:`<h3> ${me} WON! </h3> <p> ${me} won with the balance of ${((ke=r.get(e.id))==null?void 0:ke.balance)??0} </p>`,buttons:[Me("PLAY ANOTHER GAME",()=>{De(),document.location.reload()})]}},"winning")}else y.pause(),(_e=R.current)==null||_e.dialog((de,me)=>{var De;return{innerHTML:`<h3> YOU LOST! </h3> <p> you lost your money and lost the monopol with a wanted balance of ${-(((De=r.get(e.id))==null?void 0:De.balance)??0)} </p>`,buttons:[me("CONTINUE WATCHING",()=>{de()}),me("PLAY ANOTHER GAME",()=>{de(),document.location.reload()})]}},"loosing");z(N.pJson.id)}if(N.WinningMode==="monopols"||N.WinningMode==="monopols & trains"){let de=function(me){const De=[];return me.filter(function(Me){return De.includes(Me)||De.push(Me),!1}),De};for(const me of Array.from(r.values())){const De=[];for(const ke of me.properties)["Special","Railroad","Utilities"].includes(ke.group)||De.push(ke.group);let Me=0;for(const ke of de(De)){const Le=De.filter(I=>I===ke).length,M=$t.properties.filter(I=>I.group===ke).length;Le===M&&(Me+=1)}if(Me===3){y.pause(),me.id===e.id?(Q=R.current)==null||Q.dialog((ke,Le)=>({innerHTML:"<h3> YOU WON! </h3> <p> you have 3 sets! </p>",buttons:[Le("PLAY ANOTHER GAME",()=>{ke(),document.location.reload()})]}),"winning"):(Ie=R.current)==null||Ie.dialog((ke,Le)=>({innerHTML:`<h3> ${me.username} WON! </h3> <p> got 3 sets! </p>`,buttons:[Le("PLAY ANOTHER GAME",()=>{ke(),document.location.reload()})]}),"winning");return}}if(N.WinningMode==="monopols & trains"){for(const me of Array.from(r.values()))if(me.properties.filter(Me=>Me.group==="Railroad").length===4){y.pause(),me.id===e.id?(nt=R.current)==null||nt.dialog((Me,ke)=>({innerHTML:"<h3> YOU WON! </h3> <p> you have 4 railroads! </p>",buttons:[ke("PLAY ANOTHER GAME",()=>{Me(),document.location.reload()})]}),"winning"):(at=R.current)==null||at.dialog((Me,ke)=>({innerHTML:`<h3> ${me.username} WON! </h3> <p> got 4 railroads! </p>`,buttons:[ke("PLAY ANOTHER GAME",()=>{Me(),document.location.reload()})]}),"winning");return}}}if(s(N.turnId),N.turnId===e.id){const de=r.get(N.turnId);de&&de.isInJail&&((He=b.current)==null||He.showJailsButtons(((de==null?void 0:de.getoutCards)??-1)>0))}(ot=P.current)==null||ot.reRenderPlayerList()},W=N=>{var q;(q=P.current)==null||q.addMessage(N)},ce=N=>{var Ae;k(_e=>{var Q,Ie;return[..._e,Pe(`${((Q=r.get(N.turnId))==null?void 0:Q.username)??"unknown player"} rolled [${N.listOfNums[0]}, ${N.listOfNums[1]}] moving to "${((Ie=D.get(N.listOfNums[2]))==null?void 0:Ie.name)??""}"`)]});var q=new Audio("./rolling.mp3");q.volume=((E==null?void 0:E.audio[1])??100)/100*(((E==null?void 0:E.audio[0])??100)/100),q.loop=!1,q.play();const se=r.get(e.id),Z=r.get(N.turnId),X=F(N.listOfNums[2],Z,!0,()=>{N.turnId!=e.id&&N.listOfNums[2]===30&&setTimeout(()=>{k(Q=>{var Ie;return[...Q,Pe(`${((Ie=r.get(N.turnId))==null?void 0:Ie.username)??"unknown player"} goes to jail`)]}),F(10,Z,!1,()=>{Z.position=10,Z.isInJail=!0;var Q=new Audio("./jail.mp3");Q.volume=.5*(((E==null?void 0:E.audio[1])??100)/100)*(((E==null?void 0:E.audio[0])??100)/100),Q.loop=!1,Q.play(),Z.jailTurnsRemaining=3}).func()},800)});(Ae=b.current)==null||Ae.diceResults({l:[N.listOfNums[0],N.listOfNums[1]],time:se.isInJail?2e3:X.time+2e3+800,onDone:()=>{var Ie,nt;if(e.id!==N.turnId)return;const _e=((Ie=r.get(e.id))==null?void 0:Ie.position)??-1,Q=D.get(_e);Q!=null&&(Q.id==="communitychest"||Q.id==="chance"?e.emit("chorch_roll",{is_chance:Q.id==="chance",rolls:N.listOfNums[0]+N.listOfNums[1]}):(nt=b.current)==null||nt.setStreet({location:_e,rolls:N.listOfNums[1]+N.listOfNums[0],onResponse:(at,He)=>{var De,Me,ke,Le,M,I,G,ee,Y,te,re,ae,le,ge,Be,ve,we,Ne,It,Pt,Xt,un,$e;var ot=0;if(at==="buy"){E!==void 0&&E.notifications===!0&&((De=R.current)==null||De.message(`${((Q==null?void 0:Q.price)??0)*1} of money is deducted from the account`,"info",2,()=>{},!1)),se.balance-=((Q==null?void 0:Q.price)??0)*1,(Me=b.current)==null||Me.applyAnimation(1),se.properties.push({posistion:se.position,count:0,group:((ke=D.get(se.position))==null?void 0:ke.group)??""});var de=new Audio("./buying1.mp3");de.volume=.5*(((E==null?void 0:E.audio[1])??100)/100)*(((E==null?void 0:E.audio[0])??100)/100),de.loop=!1,de.play(),e.emit("history",Pe(`${((Le=r.get(e.id))==null?void 0:Le.username)??"unknown player"} bought ${Q.name}`))}else if(at==="advance-buy"){var de=new Audio("./buying1.mp3");de.volume=.5*(((E==null?void 0:E.audio[1])??100)/100)*(((E==null?void 0:E.audio[0])??100)/100),de.loop=!1,de.play();const Ye=Array.from(new Map(se.properties.map((Zt,dn)=>[dn,Zt])).entries()).filter(Zt=>Zt[1].posistion===_e)[0][0],Fe=He;se.properties[Ye].count=Fe.state===5?"h":Fe.state,Fe.state===5?(E!==void 0&&E.notifications===!0&&((M=R.current)==null||M.message(`${Q.ohousecost??0} of money is deducted from the account`,"info",2,()=>{},!1)),se.balance-=Q.ohousecost??0,(I=b.current)==null||I.applyAnimation(1)):(E!==void 0&&E.notifications===!0&&((G=R.current)==null||G.message(`${Q.housecost??0} of money is deducted from the account`,"info",2,()=>{},!1)),se.balance-=(Q.housecost??0)*Fe.money,(ee=b.current)==null||ee.applyAnimation(1)),e.emit("history",Pe(`${((Y=r.get(e.id))==null?void 0:Y.username)??"unknown player"} advanced ${Q.name}`))}else if(at==="someones"){const Je=Array.from(r.values());for(const Ye of Je)for(const Fe of Ye.properties)if(Fe.posistion===_e){var me=0;if(Q.group==="Utilities"&&Fe.rent){const dn=Ye.properties.filter(Re=>Re.group==="Utilities").length===2?10:4;me=Fe.rent*dn}else if(Q.group==="Railroad"){const dn=Ye.properties.filter(ct=>ct.group==="Railroad").filter(ct=>ct.morgage===void 0||ct.morgage!==void 0&&ct.morgage===!1).length;me=[0,25,50,100,200][dn]}else Fe.count===0?me=(Q==null?void 0:Q.rent)??0:typeof Fe.count=="number"&&Fe.count>0?me=((Q==null?void 0:Q.multpliedrent)??[0,0,0,0])[Fe.count-1]??0:Fe.count==="h"&&(me=((Q==null?void 0:Q.multpliedrent)??[0,0,0,0,0])[4]??0);E!==void 0&&E.notifications===!0&&((te=R.current)==null||te.message(`${me} of money is deducted from the account`,"info",2,()=>{},!1));var de=new Audio("./moneyminus.mp3");de.volume=((E==null?void 0:E.audio[1])??100)/100*(((E==null?void 0:E.audio[0])??100)/100),de.loop=!1,de.play(),(Fe.morgage===void 0||Fe.morgage!==void 0&&Fe.morgage===!1)&&(se.balance-=me),(re=b.current)==null||re.applyAnimation(1),e.emit("pay",{balance:me,from:e.id,to:Ye.id}),(ae=b.current)==null||ae.applyAnimation(1),e.emit("history",Pe(`
                                                    ${((le=r.get(e.id))==null?void 0:le.username)??"unknown user"} pay ${me} to ${((ge=r.get(Ye.id))==null?void 0:ge.username)??"unknown user"}
                                                    `))}}else if(at==="nothing"){if(((Q==null?void 0:Q.id)??"")=="gotojail"){const Je=F(10,Z,!1,()=>{Z.position=10,Z.isInJail=!0,Z.jailTurnsRemaining=3});ot=Je.time,Je.func()}if((Q==null?void 0:Q.id)==="incometax"){se.balance-=200,E!==void 0&&E.notifications===!0&&((Be=R.current)==null||Be.message("200 of money is deducted from the account","info",2,()=>{},!1));var de=new Audio("./moneyminus.mp3");de.volume=((E==null?void 0:E.audio[1])??100)/100*(((E==null?void 0:E.audio[0])??100)/100),de.loop=!1,de.play(),(ve=b.current)==null||ve.applyAnimation(1),e.emit("history",Pe(`${((we=r.get(e.id))==null?void 0:we.username)??"unknown player"} payed income taxes`))}if((Q==null?void 0:Q.id)==="luxerytax"){se.balance-=100,E!==void 0&&E.notifications===!0&&((Ne=R.current)==null||Ne.message("100 of money is deducted from the account","info",2,()=>{},!1));var de=new Audio("./moneyminus.mp3");de.volume=((E==null?void 0:E.audio[1])??100)/100*(((E==null?void 0:E.audio[0])??100)/100),de.loop=!1,de.play(),(It=b.current)==null||It.applyAnimation(1),e.emit("history",Pe(`${((Pt=r.get(e.id))==null?void 0:Pt.username)??"unknown player"} payed luxery taxes`))}}else if(at==="special_action"){E!==void 0&&E.notifications===!0&&((Xt=R.current)==null||Xt.message(`${((Q==null?void 0:Q.price)??0)*1} of money is deducted from the account`,"info",2,()=>{},!1));var de=new Audio("./buying1.mp3");de.volume=.5*(((E==null?void 0:E.audio[1])??100)/100)*(((E==null?void 0:E.audio[0])??100)/100),de.loop=!1,de.play(),se.balance-=((Q==null?void 0:Q.price)??0)*1,(un=b.current)==null||un.applyAnimation(1);const Ye=He,Fe=D.get(se.position),Zt=Ye.rolls;se.properties.push({posistion:se.position,count:0,rent:Zt,group:(Fe==null?void 0:Fe.group)??""}),e.emit("history",Pe(`${(($e=r.get(e.id))==null?void 0:$e.username)??"unknown player"} bought ${(Fe==null?void 0:Fe.name)??"unkown place"} with rent of ${Zt}`))}setTimeout(()=>{var Ye;i(new Map(r.set(e.id,se))),(Ye=b.current)==null||Ye.freeDice();const Je=r.get(e.id).toJson();e.emit("finish-turn",Je)},ot)}}))}}),Z.isInJail?setTimeout(()=>{N.listOfNums[0]==N.listOfNums[1]?(Z.isInJail=!1,setTimeout(()=>{X.func()},2e3)):Z.jailTurnsRemaining>0&&(Z.jailTurnsRemaining-=1,Z.jailTurnsRemaining===0&&(Z.isInJail=!1)),i(new Map(r.set(N.turnId,Z)))},1500):setTimeout(()=>{X.func()},2e3)},he=N=>{var Z;const q=r.get(N.to);if(q){if(N.option==="card")q.getoutCards-=1;else{q.balance-=50,q.id===e.id&&E!==void 0&&E.notifications===!0&&((Z=R.current)==null||Z.message("50 of money is deducted from the account","info",2,()=>{},!1));var se=new Audio("./moneyminus.mp3");se.volume=((E==null?void 0:E.audio[1])??100)/100*(((E==null?void 0:E.audio[0])??100)/100),se.loop=!1,se.play()}q.isInJail=!1,q.jailTurnsRemaining=0,i(new Map(r.set(N.to,q)))}},ne=N=>{var q;for(const se of N.pJson){const Z=r.get(se.id);se.position=(Z==null?void 0:Z.position)??se.position,Z==null||Z.recieveJson(se)}e.id===N.playerId&&((q=b.current)==null||q.applyAnimation(2))},ye=N=>{var se;k(Z=>{var X;return[...Z,Pe(`${((X=r.get(N.turnId))==null?void 0:X.username)??"unknown player"} got ${N.is_chance?"chance":"community chest "} card that said "${N.element.title}"`)]});const q=3e3;(se=b.current)==null||se.chorch(N.element,N.is_chance,q),setTimeout(()=>{var at,He,ot,de,me,De,Me,ke;const Z=N.element,X=r.get(N.turnId);if(X===void 0)return;function Ae(Le){var G,ee,Y;if(X===void 0)return 0;const M=Array.from(r.values()).filter(te=>te.id!==X.id);X.id===e.id&&(Le>0?e.emit("history",Pe(`${X.username??"unknown user"} gave ${Le} money to [${M.map(te=>te.username).join(", ")}]`)):e.emit("history",Pe(`${X.username??"unknown user"} recieve ${-Le} money from [${M.map(te=>te.username).join(", ")}]`)));for(const te of M){if(te.balance+=Le,te.id===e.id&&E!==void 0&&E.notifications===!0){(G=R.current)==null||G.message(`${Le} of money is added to the account`,"info",2,()=>{},!1);var I=new Audio("./moneyplus.mp3");I.volume=((E==null?void 0:E.audio[1])??100)/100*(((E==null?void 0:E.audio[0])??100)/100),I.loop=!1,I.play()}i(new Map(r.set(te.id,te))),X.id===e.id&&(Le>0?e.emit("pay",{balance:Le,from:e.id,to:te.id}):(e.emit("pay",{balance:Le,from:te.id,to:e.id}),e.emit("history",Pe(`
                                ${((ee=r.get(e.id))==null?void 0:ee.username)??"unknown user"} pay ${nt} to ${((Y=r.get(X.id))==null?void 0:Y.username)??"unknown user"}
                                `))))}return M.length}var _e=0;switch(Z.action){case"move":if(Z.tileid){const te=(at=new Map($t.properties.map(ae=>[ae.id,ae])).get(Z.tileid))==null?void 0:at.posistion;if(te===void 0)break;const re=F(te,X);_e=re.time,re.func()}else if(Z.count){const Y=F((X.position+Z.count)%40,X,!0,()=>{},Z.count>=0);_e=Y.time,Y.func()}break;case"addfunds":if(X.balance+=Z.amount??0,X.id===e.id){E!==void 0&&E.notifications===!0&&((He=R.current)==null||He.message(`${Z.amount??0} of money is added to the account`,"info",2,()=>{},!1));var Q=new Audio("./moneyplus.mp3");Q.volume=((E==null?void 0:E.audio[1])??100)/100*(((E==null?void 0:E.audio[0])??100)/100),Q.loop=!1,Q.play(),(ot=b.current)==null||ot.applyAnimation(2)}break;case"jail":if(Z.subaction!==void 0){switch(Z.subaction){case"getout":X.getoutCards+=1;break;case"goto":const Y=F(10,X,!1,()=>{X.position=10,X.isInJail=!0;var te=new Audio("./jail.mp3");te.volume=.5*(((E==null?void 0:E.audio[1])??100)/100)*(((E==null?void 0:E.audio[0])??100)/100),te.loop=!1,te.play(),X.jailTurnsRemaining=3});_e=Y.time,Y.func();break}i(new Map(r.set(X.id,X)))}break;case"removefunds":if(X.balance-=Z.amount??0,X.id===e.id){(de=b.current)==null||de.applyAnimation(1),E!==void 0&&E.notifications===!0&&((me=R.current)==null||me.message(`${Z.amount??0} of money is deducted from the account`,"info",2,()=>{},!1));var Q=new Audio("./moneyminus.mp3");Q.volume=((E==null?void 0:E.audio[1])??100)/100*(((E==null?void 0:E.audio[0])??100)/100),Q.loop=!1,Q.play()}break;case"removefundstoplayers":Ae(Z.amount??0),X.id===e.id&&((De=b.current)==null||De.applyAnimation(1));break;case"addfundsfromplayers":Ae(-(Z.amount??0));break;case"movenearest":let Le=function(Y,te){Y.sort((re,ae)=>re-ae);for(let re=0;re<Y.length;re++)if(Y[re]>te)return Y[re];return Y[0]};if(!Z.groupid)return;var Ie="";Z.groupid==="utility"?Ie="Utilities":Ie="Railroad";const M=$t.properties.filter(Y=>Y.group===Ie).map(Y=>Y.posistion),I=Le(M,X.position),G=F(I,X);_e=-1,G.func(),setTimeout(()=>{var Y;if(X.id===e.id){const te=(X==null?void 0:X.position)??-1,re=D.get(te);re!==void 0&&((Y=b.current)==null||Y.setStreet({location:te,rolls:N.rolls,onResponse:(ae,le)=>{var ve,we,Ne,It,Pt,Xt,un,$e,Je,Ye,Fe,Zt,dn,Re,ct,Cn;if(ae==="buy"){E!==void 0&&E.notifications===!0&&((ve=R.current)==null||ve.message(`${((re==null?void 0:re.price)??0)*1} of money is deducted from the account`,"info",2,()=>{},!1)),X.balance-=((re==null?void 0:re.price)??0)*1,(we=b.current)==null||we.applyAnimation(1);const Lt=D.get(X.position);X.properties.push({posistion:X.position,count:0,group:(Lt==null?void 0:Lt.group)??""});var ge=new Audio("./buying1.mp3");ge.volume=.5*(((E==null?void 0:E.audio[1])??100)/100)*(((E==null?void 0:E.audio[0])??100)/100),ge.loop=!1,ge.play(),i(new Map(r.set(e.id,X))),(Ne=b.current)==null||Ne.freeDice();const Oe=r.get(e.id).toJson();e.emit("finish-turn",Oe),e.emit("history",Pe(`${((It=r.get(e.id))==null?void 0:It.username)??"unknown player"} bought ${(Lt==null?void 0:Lt.name)??"unkown place"}`))}else if(ae==="special_action"){console.log(le),E!==void 0&&E.notifications===!0&&((Pt=R.current)==null||Pt.message(`${((re==null?void 0:re.price)??0)*1} of money is deducted from the account`,"info",2,()=>{},!1)),X.balance-=((re==null?void 0:re.price)??0)*1;const Oe=le.rolls;(Xt=b.current)==null||Xt.applyAnimation(1);const xt=D.get(X.position);X.properties.push({posistion:X.position,count:0,rent:Oe,group:(xt==null?void 0:xt.group)??""});var ge=new Audio("./buying1.mp3");ge.volume=.5*(((E==null?void 0:E.audio[1])??100)/100)*(((E==null?void 0:E.audio[0])??100)/100),ge.loop=!1,ge.play(),i(new Map(r.set(e.id,X))),(un=b.current)==null||un.freeDice();const Qn=r.get(e.id).toJson();e.emit("finish-turn",Qn),e.emit("history",Pe(`${(($e=r.get(e.id))==null?void 0:$e.username)??"unknown player"} bought ${(xt==null?void 0:xt.name)??"unkown place"} with rent of ${Oe}`))}else if(ae==="someones"){const Lt=Array.from(r.values());for(const Oe of Lt)for(const xt of Oe.properties)if(xt.posistion===te){var Be=0;if(re.group==="Utilities"&&xt.rent){const _n=[Math.floor(Math.random()*6)+1,Math.floor(Math.random()*6)+1];e.emit("history",Pe(`${((Je=r.get(e.id))==null?void 0:Je.username)??"unknown player"} rolled [${_n[0]}, ${_n[1]}]`)),(Ye=b.current)==null||Ye.diceResults({l:[_n[0],_n[1]],time:2e3,onDone:()=>{var ho,Xn,Qd,Xd,Zd;Be=(_n[0]+_n[1])*(Z.rentmultiplier??1),E!==void 0&&E.notifications===!0&&((ho=R.current)==null||ho.message(`${Be} of money is deducted from the account`,"info",2,()=>{},!1));var Qn=new Audio("./moneyminus.mp3");Qn.volume=((E==null?void 0:E.audio[1])??100)/100*(((E==null?void 0:E.audio[0])??100)/100),Qn.loop=!1,Qn.play(),X.balance-=Be,(Xn=b.current)==null||Xn.applyAnimation(1),e.emit("pay",{balance:Be,from:e.id,to:Oe.id}),e.emit("history",Pe(`${((Qd=r.get(e.id))==null?void 0:Qd.username)??"unknown player"} pay ${Be} to ${((Xd=r.get(Oe.id))==null?void 0:Xd.username)??"unknown player"}`)),i(new Map(r.set(e.id,X))),(Zd=b.current)==null||Zd.freeDice();const Fg=r.get(e.id).toJson();e.emit("finish-turn",Fg)}})}else if(re.group==="Railroad"){const _n=Oe.properties.filter(Xn=>Xn.group==="Railroad").filter(Xn=>Xn.morgage===void 0||Xn.morgage!==void 0&&Xn.morgage===!1).length;Be=[0,25,50,100,200][_n]*(Z.rentmultiplier??1),E!==void 0&&E.notifications===!0&&((Fe=R.current)==null||Fe.message(`${Be} of money is deducted from the account`,"info",2,()=>{},!1));var ge=new Audio("./moneyminus.mp3");ge.volume=((E==null?void 0:E.audio[1])??100)/100*(((E==null?void 0:E.audio[0])??100)/100),ge.loop=!1,ge.play(),(xt.morgage===void 0||xt.morgage!==void 0&&xt.morgage===!1)&&(X.balance-=Be),(Zt=b.current)==null||Zt.applyAnimation(1),e.emit("pay",{balance:Be,from:e.id,to:Oe.id}),e.emit("history",Pe(`${((dn=r.get(e.id))==null?void 0:dn.username)??"unknown player"} pay ${Be} to ${((Re=r.get(Oe.id))==null?void 0:Re.username)??"unknown player"}`)),i(new Map(r.set(e.id,X))),(ct=b.current)==null||ct.freeDice();const ho=r.get(e.id).toJson();e.emit("finish-turn",ho)}}}else{(Cn=b.current)==null||Cn.freeDice();const Lt=r.get(e.id).toJson();e.emit("finish-turn",Lt)}}}))}},G.time);break;case"propertycharges":let ee=function(Y){for(const te of Y);return 1};var nt=(Z.buildings??1)*ee(X.properties.filter(Y=>typeof Y.count=="number").map(Y=>Y.count))+(Z.hotels??1)*X.properties.filter(Y=>Y.count==="h").length;if(console.log(`
${(Z.buildings??1)*ee(X.properties.filter(Y=>typeof Y.count=="number").map(Y=>Y.count))} + 
${(Z.hotels??1)*X.properties.filter(Y=>Y.count==="h").length} 
which is ${nt}
                        `),X.id===e.id&&nt>0){E!==void 0&&E.notifications===!0&&((Me=R.current)==null||Me.message(`${nt} of money is deducted from the account`,"info",2,()=>{},!1));var Q=new Audio("./moneyminus.mp3");Q.volume=((E==null?void 0:E.audio[1])??100)/100*(((E==null?void 0:E.audio[0])??100)/100),Q.loop=!1,Q.play(),(ke=b.current)==null||ke.applyAnimation(1)}X.balance-=nt,i(new Map(r.set(X.id,X)));break}_e>=0&&setTimeout(()=>{var Le;i(new Map(r.set(X.id,X))),X.id===e.id&&((Le=b.current)==null||Le.freeDice(),e.emit("finish-turn",r.get(e.id).toJson()))},_e)},q)};function be(N){const q=r.get(N.id);q!==void 0&&(q.positions={x:N.x,y:N.y},r.set(N.id,q))}function Ot(){var N;y.pause(),(N=R.current)==null||N.dialog((q,se)=>({innerHTML:"<h3> LOST CONNECTION </h3> <p> you were disconnected from the game </p>",buttons:[se("PLAY ANOTHER GAME",()=>{q(),document.location.reload()})]}),"loosing")}function Ht(N){k(q=>[...q,N])}function Ve(N){const q=r.get(N.playerId);q!==void 0&&q.recieveJson(N.pJson)}document.addEventListener("mousemove",K),e.on("initials",H),e.on("new-player",U),e.on("ready",T),e.on("start-game",O),e.on("disconnected-player",$),e.on("turn-finished",B),e.on("message",W),e.on("dice_roll_result",ce),e.on("unjail",he),e.on("member_updating",ne),e.on("chorch_result",ye),e.on("mouse",be),e.on("disconnect",Ot),e.on("player_update",Ve),e.on("history",Ht),e.on("trade",()=>{v.AllowDeals&&j(!0)}),e.on("cancel-trade",()=>{v.AllowDeals&&j(void 0)}),e.on("trade-update",N=>{v.AllowDeals&&j(N)}),e.on("submit-trade",N=>{if(v.AllowDeals){j(void 0);for(const q of N.pJsons){const se=r.get(q.id);se!==void 0&&se.recieveJson(q)}k(q=>[...q,Pe(N.action)])}}),e.on("player-rejoined",N=>{var q;r.has(N.oldPeerId)&&r.delete(N.oldPeerId),i(new Map(r.set(N.newPeerId,new ki(N.newPeerId,N.player.username).recieveJson(N.player)))),(q=R.current)==null||q.message(`${N.player.username} has rejoined the game!`,"info",2)}),e.on("rejoin-success",N=>{console.log("Rejoin success received in game:",N),s(N.turn_id);for(const q of N.other_players)i(r.set(q.id,new ki(q.id,q.username).recieveJson(q)));C(N.selectedMode),N.gameStarted&&(c(!0),m(!0))});var vt=!0;return vt&&e.emit("name",t),()=>{vt=!1,clearInterval(J),document.removeEventListener("mousemove",K)}},[]),L.useEffect(()=>{var E;(E=P.current)==null||E.reRenderPlayerList()},[r]),u?d.jsxs(d.Fragment,{children:[_!==void 0&&_.accessibility[3]?d.jsx("div",{className:"cursors",children:Array.from(r.values()).filter(E=>E.id!==e.id).map((E,J)=>d.jsx("img",{src:"./cursor.png",style:{translate:`${E.positions.x}px ${E.positions.y}px`},className:"cursor"},J))}):d.jsx(d.Fragment,{}),d.jsxs("main",{children:[d.jsx(NC,{currentTurn:o,ref:P,name:t,socket:e,players:a,server:n,Morgage:{onCanc:(E,J)=>{var H,U,T;var K=JSON.parse(decodeURIComponent(yt.get("monopolySettings"))).monopolySettings;const z=r.get(e.id);if(z!==void 0){K!==void 0&&K.notifications===!0&&((H=R.current)==null||H.message(`${E} of money is deducted from the account for canceling mortgage`,"info",2,()=>{},!1)),z.balance-=E,(U=b.current)==null||U.applyAnimation(1);var F=new Audio("./buying1.mp3");F.volume=.5*(((K==null?void 0:K.audio[1])??100)/100)*(((K==null?void 0:K.audio[0])??100)/100),F.loop=!1,F.play(),e.emit("history",Pe(`${((T=r.get(e.id))==null?void 0:T.username)??"unknown player"} cancel mortgage on ${J}`)),i(new Map(r.set(e.id,z)))}},onMort:(E,J)=>{var H,U,T;var K=JSON.parse(decodeURIComponent(yt.get("monopolySettings"))).monopolySettings;const z=r.get(e.id);if(z!==void 0){K!==void 0&&K.notifications===!0&&((H=R.current)==null||H.message(`${E} of money is deducted from the account for mortgage`,"info",2,()=>{},!1)),z.balance-=E,(U=b.current)==null||U.applyAnimation(1);var F=new Audio("./buying1.mp3");F.volume=.5*(((K==null?void 0:K.audio[1])??100)/100)*(((K==null?void 0:K.audio[0])??100)/100),F.loop=!1,F.play(),e.emit("history",Pe(`${((T=r.get(e.id))==null?void 0:T.username)??"unknown player"} mortgaged ${J}`)),i(new Map(r.set(e.id,z)))}}},callServer:()=>{const E=document.body.querySelector("#root");E.style.transform="translateX(100%)"},history:S,time:p,selectedMode:v}),d.jsx(JC,{clickedOnBoard:E=>{var J;(J=P.current)==null||J.clickedOnBoard(E)},ref:b,socket:e,players:Array.from(r.values()),myTurn:o===e.id,tradeObj:A,tradeApi:{onSelectPlayer(E){const J=r.get(E),K=r.get(e.id);if(J===void 0||K===void 0)return;const z={turnPlayer:{id:K.id,balance:0,prop:[]},againstPlayer:{id:J.id,balance:0,prop:[]}};e.emit("trade-update",z)}},selectedMode:v})]}),d.jsx(_y,{ref:R}),d.jsxs("div",{id:"server",children:[d.jsxs("main",{children:[d.jsx("div",{className:"upper",onClick:()=>{const E=document.body.querySelector("#root");E.style.transform=""},children:"Server.exe"}),d.jsx("div",{className:"middle"}),d.jsx("div",{className:"lower",children:d.jsx("input",{type:"text"})})]}),d.jsx("footer",{onClick:()=>{const E=document.body.querySelector("#root");E.style.transform=""},children:d.jsx("img",{src:"icon.png",alt:""})})]})]}):d.jsxs("div",{className:"lobby",children:[d.jsxs("main",{children:[d.jsx("section",{children:d.jsxs("div",{children:[d.jsxs("h3",{children:["Hello there ",t]}),"the players that are currently in the lobby are",d.jsxs("div",{children:[Array.from(r.values()).map((E,J)=>d.jsx("p",{style:E.ready?{backgroundColor:"#32a852"}:{},className:"lobby-players",children:E.username},J)),d.jsx("center",{children:d.jsx("button",{disabled:l,onClick:()=>{e.emit("ready",{ready:!f}),g(!f)},children:f?"Not Ready":"Ready"})})]}),d.jsx("br",{})]})}),d.jsxs("div",{children:[n===void 0?d.jsx(d.Fragment,{children:d.jsxs("p",{style:{opacity:.5,margin:0,textAlign:"center",fontWeight:"100"},children:["the server-admin is ",d.jsx("br",{})," choosing the gamemode"]})}):d.jsx(d.Fragment,{}),d.jsxs("div",{className:"modes",children:[d.jsxs("main",{children:[d.jsx("h3",{children:v.Name}),d.jsxs("table",{children:[d.jsxs("tr",{children:[d.jsx("td",{children:" Winning State:"})," ",d.jsx("td",{children:v.WinningMode.toUpperCase()})]}),d.jsxs("tr",{children:[d.jsx("td",{children:"Trades: "}),d.jsx("td",{children:v.AllowDeals?"ALLOWED":"NOT-ALLOWED"})]}),d.jsxs("tr",{children:[d.jsx("td",{children:"Mortgage: "}),d.jsx("td",{children:v.mortageAllowed?"ALLOWED":"NOT-ALLOWED"})]}),d.jsxs("tr",{children:[d.jsx("td",{children:"Starting Cash: "}),d.jsxs("td",{children:[v.startingCash," M"]})]}),d.jsxs("tr",{children:[d.jsx("td",{children:"Turn Timer: "}),d.jsx("td",{children:v.turnTimer===void 0||typeof v.turnTimer=="number"&&v.turnTimer===0?"No Timer":JSON.stringify(v.turnTimer)+" Sec"})]})]})]}),d.jsxs("div",{className:"selecting-mde",children:[Wa.map((E,J)=>d.jsx("p",{"data-select":JSON.stringify(E)===JSON.stringify(v),onClick:()=>{n!==void 0&&e.emit("ready",{mode:E})},"data-disabled":n===void 0,children:E.Name},J)),d.jsx("p",{"data-select":v.Name==="Custom Mode","data-disabled":n===void 0,onClick:()=>{const E=window.prompt(`Winning State
1=last-standing
2=monopols
3=monopols & trains`,"3"),J=window.confirm("Allow Trades"),K=window.confirm("Allow Mortgage"),z=window.prompt("Starting Cash","1500"),F=window.prompt("Turn Timer","0"),H={AllowDeals:J,WinningMode:E==="2"?"monopols":E==="3"?"monopols & trains":"last-standing",Name:"Custom Mode",mortageAllowed:K,startingCash:z===null?1500:parseInt(z)??1500,turnTimer:F===null?void 0:parseInt(F)??void 0};n!==void 0&&e.emit("ready",{mode:H})},children:"Custom Mode"})]})]})]})]}),d.jsx("p",{id:"floating-clock"})]})}class KC{constructor(){this.encoder=new TextEncoder,this._pieces=[],this._parts=[]}append_buffer(t){this.flush(),this._parts.push(t)}append(t){this._pieces.push(t)}flush(){if(this._pieces.length>0){const t=new Uint8Array(this._pieces);this._parts.push(t),this._pieces=[]}}toArrayBuffer(){const t=[];for(const n of this._parts)t.push(n);return HC(t).buffer}}function HC(e){let t=0;for(const i of e)t+=i.byteLength;const n=new Uint8Array(t);let r=0;for(const i of e){const a=new Uint8Array(i.buffer,i.byteOffset,i.byteLength);n.set(a,r),r+=i.byteLength}return n}function by(e){return new GC(e).unpack()}function wy(e){const t=new qC,n=t.pack(e);return n instanceof Promise?n.then(()=>t.getBuffer()):t.getBuffer()}class GC{constructor(t){this.index=0,this.dataBuffer=t,this.dataView=new Uint8Array(this.dataBuffer),this.length=this.dataBuffer.byteLength}unpack(){const t=this.unpack_uint8();if(t<128)return t;if((t^224)<32)return(t^224)-32;let n;if((n=t^160)<=15)return this.unpack_raw(n);if((n=t^176)<=15)return this.unpack_string(n);if((n=t^144)<=15)return this.unpack_array(n);if((n=t^128)<=15)return this.unpack_map(n);switch(t){case 192:return null;case 193:return;case 194:return!1;case 195:return!0;case 202:return this.unpack_float();case 203:return this.unpack_double();case 204:return this.unpack_uint8();case 205:return this.unpack_uint16();case 206:return this.unpack_uint32();case 207:return this.unpack_uint64();case 208:return this.unpack_int8();case 209:return this.unpack_int16();case 210:return this.unpack_int32();case 211:return this.unpack_int64();case 212:return;case 213:return;case 214:return;case 215:return;case 216:return n=this.unpack_uint16(),this.unpack_string(n);case 217:return n=this.unpack_uint32(),this.unpack_string(n);case 218:return n=this.unpack_uint16(),this.unpack_raw(n);case 219:return n=this.unpack_uint32(),this.unpack_raw(n);case 220:return n=this.unpack_uint16(),this.unpack_array(n);case 221:return n=this.unpack_uint32(),this.unpack_array(n);case 222:return n=this.unpack_uint16(),this.unpack_map(n);case 223:return n=this.unpack_uint32(),this.unpack_map(n)}}unpack_uint8(){const t=this.dataView[this.index]&255;return this.index++,t}unpack_uint16(){const t=this.read(2),n=(t[0]&255)*256+(t[1]&255);return this.index+=2,n}unpack_uint32(){const t=this.read(4),n=((t[0]*256+t[1])*256+t[2])*256+t[3];return this.index+=4,n}unpack_uint64(){const t=this.read(8),n=((((((t[0]*256+t[1])*256+t[2])*256+t[3])*256+t[4])*256+t[5])*256+t[6])*256+t[7];return this.index+=8,n}unpack_int8(){const t=this.unpack_uint8();return t<128?t:t-256}unpack_int16(){const t=this.unpack_uint16();return t<32768?t:t-65536}unpack_int32(){const t=this.unpack_uint32();return t<2**31?t:t-2**32}unpack_int64(){const t=this.unpack_uint64();return t<2**63?t:t-2**64}unpack_raw(t){if(this.length<this.index+t)throw new Error(`BinaryPackFailure: index is out of range ${this.index} ${t} ${this.length}`);const n=this.dataBuffer.slice(this.index,this.index+t);return this.index+=t,n}unpack_string(t){const n=this.read(t);let r=0,i="",a,o;for(;r<t;)a=n[r],a<160?(o=a,r++):(a^192)<32?(o=(a&31)<<6|n[r+1]&63,r+=2):(a^224)<16?(o=(a&15)<<12|(n[r+1]&63)<<6|n[r+2]&63,r+=3):(o=(a&7)<<18|(n[r+1]&63)<<12|(n[r+2]&63)<<6|n[r+3]&63,r+=4),i+=String.fromCodePoint(o);return this.index+=t,i}unpack_array(t){const n=new Array(t);for(let r=0;r<t;r++)n[r]=this.unpack();return n}unpack_map(t){const n={};for(let r=0;r<t;r++){const i=this.unpack();n[i]=this.unpack()}return n}unpack_float(){const t=this.unpack_uint32(),n=t>>31,r=(t>>23&255)-127,i=t&8388607|8388608;return(n===0?1:-1)*i*2**(r-23)}unpack_double(){const t=this.unpack_uint32(),n=this.unpack_uint32(),r=t>>31,i=(t>>20&2047)-1023,o=(t&1048575|1048576)*2**(i-20)+n*2**(i-52);return(r===0?1:-1)*o}read(t){const n=this.index;if(n+t<=this.length)return this.dataView.subarray(n,n+t);throw new Error("BinaryPackFailure: read index out of range")}}class qC{getBuffer(){return this._bufferBuilder.toArrayBuffer()}pack(t){if(typeof t=="string")this.pack_string(t);else if(typeof t=="number")Math.floor(t)===t?this.pack_integer(t):this.pack_double(t);else if(typeof t=="boolean")t===!0?this._bufferBuilder.append(195):t===!1&&this._bufferBuilder.append(194);else if(t===void 0)this._bufferBuilder.append(192);else if(typeof t=="object")if(t===null)this._bufferBuilder.append(192);else{const n=t.constructor;if(t instanceof Array){const r=this.pack_array(t);if(r instanceof Promise)return r.then(()=>this._bufferBuilder.flush())}else if(t instanceof ArrayBuffer)this.pack_bin(new Uint8Array(t));else if("BYTES_PER_ELEMENT"in t){const r=t;this.pack_bin(new Uint8Array(r.buffer,r.byteOffset,r.byteLength))}else if(t instanceof Date)this.pack_string(t.toString());else{if(t instanceof Blob)return t.arrayBuffer().then(r=>{this.pack_bin(new Uint8Array(r)),this._bufferBuilder.flush()});if(n==Object||n.toString().startsWith("class")){const r=this.pack_object(t);if(r instanceof Promise)return r.then(()=>this._bufferBuilder.flush())}else throw new Error(`Type "${n.toString()}" not yet supported`)}}else throw new Error(`Type "${typeof t}" not yet supported`);this._bufferBuilder.flush()}pack_bin(t){const n=t.length;if(n<=15)this.pack_uint8(160+n);else if(n<=65535)this._bufferBuilder.append(218),this.pack_uint16(n);else if(n<=4294967295)this._bufferBuilder.append(219),this.pack_uint32(n);else throw new Error("Invalid length");this._bufferBuilder.append_buffer(t)}pack_string(t){const n=this._textEncoder.encode(t),r=n.length;if(r<=15)this.pack_uint8(176+r);else if(r<=65535)this._bufferBuilder.append(216),this.pack_uint16(r);else if(r<=4294967295)this._bufferBuilder.append(217),this.pack_uint32(r);else throw new Error("Invalid length");this._bufferBuilder.append_buffer(n)}pack_array(t){const n=t.length;if(n<=15)this.pack_uint8(144+n);else if(n<=65535)this._bufferBuilder.append(220),this.pack_uint16(n);else if(n<=4294967295)this._bufferBuilder.append(221),this.pack_uint32(n);else throw new Error("Invalid length");const r=i=>{if(i<n){const a=this.pack(t[i]);return a instanceof Promise?a.then(()=>r(i+1)):r(i+1)}};return r(0)}pack_integer(t){if(t>=-32&&t<=127)this._bufferBuilder.append(t&255);else if(t>=0&&t<=255)this._bufferBuilder.append(204),this.pack_uint8(t);else if(t>=-128&&t<=127)this._bufferBuilder.append(208),this.pack_int8(t);else if(t>=0&&t<=65535)this._bufferBuilder.append(205),this.pack_uint16(t);else if(t>=-32768&&t<=32767)this._bufferBuilder.append(209),this.pack_int16(t);else if(t>=0&&t<=4294967295)this._bufferBuilder.append(206),this.pack_uint32(t);else if(t>=-2147483648&&t<=2147483647)this._bufferBuilder.append(210),this.pack_int32(t);else if(t>=-9223372036854776e3&&t<=9223372036854776e3)this._bufferBuilder.append(211),this.pack_int64(t);else if(t>=0&&t<=18446744073709552e3)this._bufferBuilder.append(207),this.pack_uint64(t);else throw new Error("Invalid integer")}pack_double(t){let n=0;t<0&&(n=1,t=-t);const r=Math.floor(Math.log(t)/Math.LN2),i=t/2**r-1,a=Math.floor(i*2**52),o=2**32,s=n<<31|r+1023<<20|a/o&1048575,l=a%o;this._bufferBuilder.append(203),this.pack_int32(s),this.pack_int32(l)}pack_object(t){const n=Object.keys(t),r=n.length;if(r<=15)this.pack_uint8(128+r);else if(r<=65535)this._bufferBuilder.append(222),this.pack_uint16(r);else if(r<=4294967295)this._bufferBuilder.append(223),this.pack_uint32(r);else throw new Error("Invalid length");const i=a=>{if(a<n.length){const o=n[a];if(t.hasOwnProperty(o)){this.pack(o);const s=this.pack(t[o]);if(s instanceof Promise)return s.then(()=>i(a+1))}return i(a+1)}};return i(0)}pack_uint8(t){this._bufferBuilder.append(t)}pack_uint16(t){this._bufferBuilder.append(t>>8),this._bufferBuilder.append(t&255)}pack_uint32(t){const n=t&4294967295;this._bufferBuilder.append((n&4278190080)>>>24),this._bufferBuilder.append((n&16711680)>>>16),this._bufferBuilder.append((n&65280)>>>8),this._bufferBuilder.append(n&255)}pack_uint64(t){const n=t/4294967296,r=t%2**32;this._bufferBuilder.append((n&4278190080)>>>24),this._bufferBuilder.append((n&16711680)>>>16),this._bufferBuilder.append((n&65280)>>>8),this._bufferBuilder.append(n&255),this._bufferBuilder.append((r&4278190080)>>>24),this._bufferBuilder.append((r&16711680)>>>16),this._bufferBuilder.append((r&65280)>>>8),this._bufferBuilder.append(r&255)}pack_int8(t){this._bufferBuilder.append(t&255)}pack_int16(t){this._bufferBuilder.append((t&65280)>>8),this._bufferBuilder.append(t&255)}pack_int32(t){this._bufferBuilder.append(t>>>24&255),this._bufferBuilder.append((t&16711680)>>>16),this._bufferBuilder.append((t&65280)>>>8),this._bufferBuilder.append(t&255)}pack_int64(t){const n=Math.floor(t/4294967296),r=t%2**32;this._bufferBuilder.append((n&4278190080)>>>24),this._bufferBuilder.append((n&16711680)>>>16),this._bufferBuilder.append((n&65280)>>>8),this._bufferBuilder.append(n&255),this._bufferBuilder.append((r&4278190080)>>>24),this._bufferBuilder.append((r&16711680)>>>16),this._bufferBuilder.append((r&65280)>>>8),this._bufferBuilder.append(r&255)}constructor(){this._bufferBuilder=new KC,this._textEncoder=new TextEncoder}}let Sy=!0,Ey=!0;function pa(e,t,n){const r=e.match(t);return r&&r.length>=n&&parseFloat(r[n],10)}function Qr(e,t,n){if(!e.RTCPeerConnection)return;const r=e.RTCPeerConnection.prototype,i=r.addEventListener;r.addEventListener=function(o,s){if(o!==t)return i.apply(this,arguments);const l=c=>{const u=n(c);u&&(s.handleEvent?s.handleEvent(u):s(u))};return this._eventMap=this._eventMap||{},this._eventMap[t]||(this._eventMap[t]=new Map),this._eventMap[t].set(s,l),i.apply(this,[o,l])};const a=r.removeEventListener;r.removeEventListener=function(o,s){if(o!==t||!this._eventMap||!this._eventMap[t])return a.apply(this,arguments);if(!this._eventMap[t].has(s))return a.apply(this,arguments);const l=this._eventMap[t].get(s);return this._eventMap[t].delete(s),this._eventMap[t].size===0&&delete this._eventMap[t],Object.keys(this._eventMap).length===0&&delete this._eventMap,a.apply(this,[o,l])},Object.defineProperty(r,"on"+t,{get(){return this["_on"+t]},set(o){this["_on"+t]&&(this.removeEventListener(t,this["_on"+t]),delete this["_on"+t]),o&&this.addEventListener(t,this["_on"+t]=o)},enumerable:!0,configurable:!0})}function VC(e){return typeof e!="boolean"?new Error("Argument type: "+typeof e+". Please use a boolean."):(Sy=e,e?"adapter.js logging disabled":"adapter.js logging enabled")}function WC(e){return typeof e!="boolean"?new Error("Argument type: "+typeof e+". Please use a boolean."):(Ey=!e,"adapter.js deprecation warnings "+(e?"disabled":"enabled"))}function Ay(){if(typeof window=="object"){if(Sy)return;typeof console<"u"&&typeof console.log=="function"&&console.log.apply(console,arguments)}}function $d(e,t){Ey&&console.warn(e+" is deprecated, please use "+t+" instead.")}function YC(e){const t={browser:null,version:null};if(typeof e>"u"||!e.navigator||!e.navigator.userAgent)return t.browser="Not a browser.",t;const{navigator:n}=e;if(n.userAgentData&&n.userAgentData.brands){const r=n.userAgentData.brands.find(i=>i.brand==="Chromium");if(r)return{browser:"chrome",version:parseInt(r.version,10)}}if(n.mozGetUserMedia)t.browser="firefox",t.version=parseInt(pa(n.userAgent,/Firefox\/(\d+)\./,1));else if(n.webkitGetUserMedia||e.isSecureContext===!1&&e.webkitRTCPeerConnection)t.browser="chrome",t.version=parseInt(pa(n.userAgent,/Chrom(e|ium)\/(\d+)\./,2));else if(e.RTCPeerConnection&&n.userAgent.match(/AppleWebKit\/(\d+)\./))t.browser="safari",t.version=parseInt(pa(n.userAgent,/AppleWebKit\/(\d+)\./,1)),t.supportsUnifiedPlan=e.RTCRtpTransceiver&&"currentDirection"in e.RTCRtpTransceiver.prototype,t._safariVersion=pa(n.userAgent,/Version\/(\d+(\.?\d+))/,1);else return t.browser="Not a supported browser.",t;return t}function Th(e){return Object.prototype.toString.call(e)==="[object Object]"}function ky(e){return Th(e)?Object.keys(e).reduce(function(t,n){const r=Th(e[n]),i=r?ky(e[n]):e[n],a=r&&!Object.keys(i).length;return i===void 0||a?t:Object.assign(t,{[n]:i})},{}):e}function xu(e,t,n){!t||n.has(t.id)||(n.set(t.id,t),Object.keys(t).forEach(r=>{r.endsWith("Id")?xu(e,e.get(t[r]),n):r.endsWith("Ids")&&t[r].forEach(i=>{xu(e,e.get(i),n)})}))}function Dh(e,t,n){const r=n?"outbound-rtp":"inbound-rtp",i=new Map;if(t===null)return i;const a=[];return e.forEach(o=>{o.type==="track"&&o.trackIdentifier===t.id&&a.push(o)}),a.forEach(o=>{e.forEach(s=>{s.type===r&&s.trackId===o.id&&xu(e,s,i)})}),i}const jh=Ay;function Ry(e,t){const n=e&&e.navigator;if(!n.mediaDevices)return;const r=function(s){if(typeof s!="object"||s.mandatory||s.optional)return s;const l={};return Object.keys(s).forEach(c=>{if(c==="require"||c==="advanced"||c==="mediaSource")return;const u=typeof s[c]=="object"?s[c]:{ideal:s[c]};u.exact!==void 0&&typeof u.exact=="number"&&(u.min=u.max=u.exact);const m=function(f,g){return f?f+g.charAt(0).toUpperCase()+g.slice(1):g==="deviceId"?"sourceId":g};if(u.ideal!==void 0){l.optional=l.optional||[];let f={};typeof u.ideal=="number"?(f[m("min",c)]=u.ideal,l.optional.push(f),f={},f[m("max",c)]=u.ideal,l.optional.push(f)):(f[m("",c)]=u.ideal,l.optional.push(f))}u.exact!==void 0&&typeof u.exact!="number"?(l.mandatory=l.mandatory||{},l.mandatory[m("",c)]=u.exact):["min","max"].forEach(f=>{u[f]!==void 0&&(l.mandatory=l.mandatory||{},l.mandatory[m(f,c)]=u[f])})}),s.advanced&&(l.optional=(l.optional||[]).concat(s.advanced)),l},i=function(s,l){if(t.version>=61)return l(s);if(s=JSON.parse(JSON.stringify(s)),s&&typeof s.audio=="object"){const c=function(u,m,f){m in u&&!(f in u)&&(u[f]=u[m],delete u[m])};s=JSON.parse(JSON.stringify(s)),c(s.audio,"autoGainControl","googAutoGainControl"),c(s.audio,"noiseSuppression","googNoiseSuppression"),s.audio=r(s.audio)}if(s&&typeof s.video=="object"){let c=s.video.facingMode;c=c&&(typeof c=="object"?c:{ideal:c});const u=t.version<66;if(c&&(c.exact==="user"||c.exact==="environment"||c.ideal==="user"||c.ideal==="environment")&&!(n.mediaDevices.getSupportedConstraints&&n.mediaDevices.getSupportedConstraints().facingMode&&!u)){delete s.video.facingMode;let m;if(c.exact==="environment"||c.ideal==="environment"?m=["back","rear"]:(c.exact==="user"||c.ideal==="user")&&(m=["front"]),m)return n.mediaDevices.enumerateDevices().then(f=>{f=f.filter(v=>v.kind==="videoinput");let g=f.find(v=>m.some(C=>v.label.toLowerCase().includes(C)));return!g&&f.length&&m.includes("back")&&(g=f[f.length-1]),g&&(s.video.deviceId=c.exact?{exact:g.deviceId}:{ideal:g.deviceId}),s.video=r(s.video),jh("chrome: "+JSON.stringify(s)),l(s)})}s.video=r(s.video)}return jh("chrome: "+JSON.stringify(s)),l(s)},a=function(s){return t.version>=64?s:{name:{PermissionDeniedError:"NotAllowedError",PermissionDismissedError:"NotAllowedError",InvalidStateError:"NotAllowedError",DevicesNotFoundError:"NotFoundError",ConstraintNotSatisfiedError:"OverconstrainedError",TrackStartError:"NotReadableError",MediaDeviceFailedDueToShutdown:"NotAllowedError",MediaDeviceKillSwitchOn:"NotAllowedError",TabCaptureError:"AbortError",ScreenCaptureError:"AbortError",DeviceCaptureError:"AbortError"}[s.name]||s.name,message:s.message,constraint:s.constraint||s.constraintName,toString(){return this.name+(this.message&&": ")+this.message}}},o=function(s,l,c){i(s,u=>{n.webkitGetUserMedia(u,l,m=>{c&&c(a(m))})})};if(n.getUserMedia=o.bind(n),n.mediaDevices.getUserMedia){const s=n.mediaDevices.getUserMedia.bind(n.mediaDevices);n.mediaDevices.getUserMedia=function(l){return i(l,c=>s(c).then(u=>{if(c.audio&&!u.getAudioTracks().length||c.video&&!u.getVideoTracks().length)throw u.getTracks().forEach(m=>{m.stop()}),new DOMException("","NotFoundError");return u},u=>Promise.reject(a(u))))}}}function Py(e){e.MediaStream=e.MediaStream||e.webkitMediaStream}function Ty(e){if(typeof e=="object"&&e.RTCPeerConnection&&!("ontrack"in e.RTCPeerConnection.prototype)){Object.defineProperty(e.RTCPeerConnection.prototype,"ontrack",{get(){return this._ontrack},set(n){this._ontrack&&this.removeEventListener("track",this._ontrack),this.addEventListener("track",this._ontrack=n)},enumerable:!0,configurable:!0});const t=e.RTCPeerConnection.prototype.setRemoteDescription;e.RTCPeerConnection.prototype.setRemoteDescription=function(){return this._ontrackpoly||(this._ontrackpoly=r=>{r.stream.addEventListener("addtrack",i=>{let a;e.RTCPeerConnection.prototype.getReceivers?a=this.getReceivers().find(s=>s.track&&s.track.id===i.track.id):a={track:i.track};const o=new Event("track");o.track=i.track,o.receiver=a,o.transceiver={receiver:a},o.streams=[r.stream],this.dispatchEvent(o)}),r.stream.getTracks().forEach(i=>{let a;e.RTCPeerConnection.prototype.getReceivers?a=this.getReceivers().find(s=>s.track&&s.track.id===i.id):a={track:i};const o=new Event("track");o.track=i,o.receiver=a,o.transceiver={receiver:a},o.streams=[r.stream],this.dispatchEvent(o)})},this.addEventListener("addstream",this._ontrackpoly)),t.apply(this,arguments)}}else Qr(e,"track",t=>(t.transceiver||Object.defineProperty(t,"transceiver",{value:{receiver:t.receiver}}),t))}function Dy(e){if(typeof e=="object"&&e.RTCPeerConnection&&!("getSenders"in e.RTCPeerConnection.prototype)&&"createDTMFSender"in e.RTCPeerConnection.prototype){const t=function(i,a){return{track:a,get dtmf(){return this._dtmf===void 0&&(a.kind==="audio"?this._dtmf=i.createDTMFSender(a):this._dtmf=null),this._dtmf},_pc:i}};if(!e.RTCPeerConnection.prototype.getSenders){e.RTCPeerConnection.prototype.getSenders=function(){return this._senders=this._senders||[],this._senders.slice()};const i=e.RTCPeerConnection.prototype.addTrack;e.RTCPeerConnection.prototype.addTrack=function(s,l){let c=i.apply(this,arguments);return c||(c=t(this,s),this._senders.push(c)),c};const a=e.RTCPeerConnection.prototype.removeTrack;e.RTCPeerConnection.prototype.removeTrack=function(s){a.apply(this,arguments);const l=this._senders.indexOf(s);l!==-1&&this._senders.splice(l,1)}}const n=e.RTCPeerConnection.prototype.addStream;e.RTCPeerConnection.prototype.addStream=function(a){this._senders=this._senders||[],n.apply(this,[a]),a.getTracks().forEach(o=>{this._senders.push(t(this,o))})};const r=e.RTCPeerConnection.prototype.removeStream;e.RTCPeerConnection.prototype.removeStream=function(a){this._senders=this._senders||[],r.apply(this,[a]),a.getTracks().forEach(o=>{const s=this._senders.find(l=>l.track===o);s&&this._senders.splice(this._senders.indexOf(s),1)})}}else if(typeof e=="object"&&e.RTCPeerConnection&&"getSenders"in e.RTCPeerConnection.prototype&&"createDTMFSender"in e.RTCPeerConnection.prototype&&e.RTCRtpSender&&!("dtmf"in e.RTCRtpSender.prototype)){const t=e.RTCPeerConnection.prototype.getSenders;e.RTCPeerConnection.prototype.getSenders=function(){const r=t.apply(this,[]);return r.forEach(i=>i._pc=this),r},Object.defineProperty(e.RTCRtpSender.prototype,"dtmf",{get(){return this._dtmf===void 0&&(this.track.kind==="audio"?this._dtmf=this._pc.createDTMFSender(this.track):this._dtmf=null),this._dtmf}})}}function jy(e){if(!(typeof e=="object"&&e.RTCPeerConnection&&e.RTCRtpSender&&e.RTCRtpReceiver))return;if(!("getStats"in e.RTCRtpSender.prototype)){const n=e.RTCPeerConnection.prototype.getSenders;n&&(e.RTCPeerConnection.prototype.getSenders=function(){const a=n.apply(this,[]);return a.forEach(o=>o._pc=this),a});const r=e.RTCPeerConnection.prototype.addTrack;r&&(e.RTCPeerConnection.prototype.addTrack=function(){const a=r.apply(this,arguments);return a._pc=this,a}),e.RTCRtpSender.prototype.getStats=function(){const a=this;return this._pc.getStats().then(o=>Dh(o,a.track,!0))}}if(!("getStats"in e.RTCRtpReceiver.prototype)){const n=e.RTCPeerConnection.prototype.getReceivers;n&&(e.RTCPeerConnection.prototype.getReceivers=function(){const i=n.apply(this,[]);return i.forEach(a=>a._pc=this),i}),Qr(e,"track",r=>(r.receiver._pc=r.srcElement,r)),e.RTCRtpReceiver.prototype.getStats=function(){const i=this;return this._pc.getStats().then(a=>Dh(a,i.track,!1))}}if(!("getStats"in e.RTCRtpSender.prototype&&"getStats"in e.RTCRtpReceiver.prototype))return;const t=e.RTCPeerConnection.prototype.getStats;e.RTCPeerConnection.prototype.getStats=function(){if(arguments.length>0&&arguments[0]instanceof e.MediaStreamTrack){const r=arguments[0];let i,a,o;return this.getSenders().forEach(s=>{s.track===r&&(i?o=!0:i=s)}),this.getReceivers().forEach(s=>(s.track===r&&(a?o=!0:a=s),s.track===r)),o||i&&a?Promise.reject(new DOMException("There are more than one sender or receiver for the track.","InvalidAccessError")):i?i.getStats():a?a.getStats():Promise.reject(new DOMException("There is no sender or receiver for the track.","InvalidAccessError"))}return t.apply(this,arguments)}}function By(e){e.RTCPeerConnection.prototype.getLocalStreams=function(){return this._shimmedLocalStreams=this._shimmedLocalStreams||{},Object.keys(this._shimmedLocalStreams).map(o=>this._shimmedLocalStreams[o][0])};const t=e.RTCPeerConnection.prototype.addTrack;e.RTCPeerConnection.prototype.addTrack=function(o,s){if(!s)return t.apply(this,arguments);this._shimmedLocalStreams=this._shimmedLocalStreams||{};const l=t.apply(this,arguments);return this._shimmedLocalStreams[s.id]?this._shimmedLocalStreams[s.id].indexOf(l)===-1&&this._shimmedLocalStreams[s.id].push(l):this._shimmedLocalStreams[s.id]=[s,l],l};const n=e.RTCPeerConnection.prototype.addStream;e.RTCPeerConnection.prototype.addStream=function(o){this._shimmedLocalStreams=this._shimmedLocalStreams||{},o.getTracks().forEach(c=>{if(this.getSenders().find(m=>m.track===c))throw new DOMException("Track already exists.","InvalidAccessError")});const s=this.getSenders();n.apply(this,arguments);const l=this.getSenders().filter(c=>s.indexOf(c)===-1);this._shimmedLocalStreams[o.id]=[o].concat(l)};const r=e.RTCPeerConnection.prototype.removeStream;e.RTCPeerConnection.prototype.removeStream=function(o){return this._shimmedLocalStreams=this._shimmedLocalStreams||{},delete this._shimmedLocalStreams[o.id],r.apply(this,arguments)};const i=e.RTCPeerConnection.prototype.removeTrack;e.RTCPeerConnection.prototype.removeTrack=function(o){return this._shimmedLocalStreams=this._shimmedLocalStreams||{},o&&Object.keys(this._shimmedLocalStreams).forEach(s=>{const l=this._shimmedLocalStreams[s].indexOf(o);l!==-1&&this._shimmedLocalStreams[s].splice(l,1),this._shimmedLocalStreams[s].length===1&&delete this._shimmedLocalStreams[s]}),i.apply(this,arguments)}}function Fy(e,t){if(!e.RTCPeerConnection)return;if(e.RTCPeerConnection.prototype.addTrack&&t.version>=65)return By(e);const n=e.RTCPeerConnection.prototype.getLocalStreams;e.RTCPeerConnection.prototype.getLocalStreams=function(){const u=n.apply(this);return this._reverseStreams=this._reverseStreams||{},u.map(m=>this._reverseStreams[m.id])};const r=e.RTCPeerConnection.prototype.addStream;e.RTCPeerConnection.prototype.addStream=function(u){if(this._streams=this._streams||{},this._reverseStreams=this._reverseStreams||{},u.getTracks().forEach(m=>{if(this.getSenders().find(g=>g.track===m))throw new DOMException("Track already exists.","InvalidAccessError")}),!this._reverseStreams[u.id]){const m=new e.MediaStream(u.getTracks());this._streams[u.id]=m,this._reverseStreams[m.id]=u,u=m}r.apply(this,[u])};const i=e.RTCPeerConnection.prototype.removeStream;e.RTCPeerConnection.prototype.removeStream=function(u){this._streams=this._streams||{},this._reverseStreams=this._reverseStreams||{},i.apply(this,[this._streams[u.id]||u]),delete this._reverseStreams[this._streams[u.id]?this._streams[u.id].id:u.id],delete this._streams[u.id]},e.RTCPeerConnection.prototype.addTrack=function(u,m){if(this.signalingState==="closed")throw new DOMException("The RTCPeerConnection's signalingState is 'closed'.","InvalidStateError");const f=[].slice.call(arguments,1);if(f.length!==1||!f[0].getTracks().find(C=>C===u))throw new DOMException("The adapter.js addTrack polyfill only supports a single  stream which is associated with the specified track.","NotSupportedError");if(this.getSenders().find(C=>C.track===u))throw new DOMException("Track already exists.","InvalidAccessError");this._streams=this._streams||{},this._reverseStreams=this._reverseStreams||{};const v=this._streams[m.id];if(v)v.addTrack(u),Promise.resolve().then(()=>{this.dispatchEvent(new Event("negotiationneeded"))});else{const C=new e.MediaStream([u]);this._streams[m.id]=C,this._reverseStreams[C.id]=m,this.addStream(C)}return this.getSenders().find(C=>C.track===u)};function a(c,u){let m=u.sdp;return Object.keys(c._reverseStreams||[]).forEach(f=>{const g=c._reverseStreams[f],v=c._streams[g.id];m=m.replace(new RegExp(v.id,"g"),g.id)}),new RTCSessionDescription({type:u.type,sdp:m})}function o(c,u){let m=u.sdp;return Object.keys(c._reverseStreams||[]).forEach(f=>{const g=c._reverseStreams[f],v=c._streams[g.id];m=m.replace(new RegExp(g.id,"g"),v.id)}),new RTCSessionDescription({type:u.type,sdp:m})}["createOffer","createAnswer"].forEach(function(c){const u=e.RTCPeerConnection.prototype[c],m={[c](){const f=arguments;return arguments.length&&typeof arguments[0]=="function"?u.apply(this,[v=>{const C=a(this,v);f[0].apply(null,[C])},v=>{f[1]&&f[1].apply(null,v)},arguments[2]]):u.apply(this,arguments).then(v=>a(this,v))}};e.RTCPeerConnection.prototype[c]=m[c]});const s=e.RTCPeerConnection.prototype.setLocalDescription;e.RTCPeerConnection.prototype.setLocalDescription=function(){return!arguments.length||!arguments[0].type?s.apply(this,arguments):(arguments[0]=o(this,arguments[0]),s.apply(this,arguments))};const l=Object.getOwnPropertyDescriptor(e.RTCPeerConnection.prototype,"localDescription");Object.defineProperty(e.RTCPeerConnection.prototype,"localDescription",{get(){const c=l.get.apply(this);return c.type===""?c:a(this,c)}}),e.RTCPeerConnection.prototype.removeTrack=function(u){if(this.signalingState==="closed")throw new DOMException("The RTCPeerConnection's signalingState is 'closed'.","InvalidStateError");if(!u._pc)throw new DOMException("Argument 1 of RTCPeerConnection.removeTrack does not implement interface RTCRtpSender.","TypeError");if(!(u._pc===this))throw new DOMException("Sender was not created by this connection.","InvalidAccessError");this._streams=this._streams||{};let f;Object.keys(this._streams).forEach(g=>{this._streams[g].getTracks().find(C=>u.track===C)&&(f=this._streams[g])}),f&&(f.getTracks().length===1?this.removeStream(this._reverseStreams[f.id]):f.removeTrack(u.track),this.dispatchEvent(new Event("negotiationneeded")))}}function Cu(e,t){!e.RTCPeerConnection&&e.webkitRTCPeerConnection&&(e.RTCPeerConnection=e.webkitRTCPeerConnection),e.RTCPeerConnection&&t.version<53&&["setLocalDescription","setRemoteDescription","addIceCandidate"].forEach(function(n){const r=e.RTCPeerConnection.prototype[n],i={[n](){return arguments[0]=new(n==="addIceCandidate"?e.RTCIceCandidate:e.RTCSessionDescription)(arguments[0]),r.apply(this,arguments)}};e.RTCPeerConnection.prototype[n]=i[n]})}function My(e,t){Qr(e,"negotiationneeded",n=>{const r=n.target;if(!((t.version<72||r.getConfiguration&&r.getConfiguration().sdpSemantics==="plan-b")&&r.signalingState!=="stable"))return n})}const Bh=Object.freeze(Object.defineProperty({__proto__:null,fixNegotiationNeeded:My,shimAddTrackRemoveTrack:Fy,shimAddTrackRemoveTrackWithNative:By,shimGetSendersWithDtmf:Dy,shimGetUserMedia:Ry,shimMediaStream:Py,shimOnTrack:Ty,shimPeerConnection:Cu,shimSenderReceiverGetStats:jy},Symbol.toStringTag,{value:"Module"}));function Oy(e,t){const n=e&&e.navigator,r=e&&e.MediaStreamTrack;if(n.getUserMedia=function(i,a,o){$d("navigator.getUserMedia","navigator.mediaDevices.getUserMedia"),n.mediaDevices.getUserMedia(i).then(a,o)},!(t.version>55&&"autoGainControl"in n.mediaDevices.getSupportedConstraints())){const i=function(o,s,l){s in o&&!(l in o)&&(o[l]=o[s],delete o[s])},a=n.mediaDevices.getUserMedia.bind(n.mediaDevices);if(n.mediaDevices.getUserMedia=function(o){return typeof o=="object"&&typeof o.audio=="object"&&(o=JSON.parse(JSON.stringify(o)),i(o.audio,"autoGainControl","mozAutoGainControl"),i(o.audio,"noiseSuppression","mozNoiseSuppression")),a(o)},r&&r.prototype.getSettings){const o=r.prototype.getSettings;r.prototype.getSettings=function(){const s=o.apply(this,arguments);return i(s,"mozAutoGainControl","autoGainControl"),i(s,"mozNoiseSuppression","noiseSuppression"),s}}if(r&&r.prototype.applyConstraints){const o=r.prototype.applyConstraints;r.prototype.applyConstraints=function(s){return this.kind==="audio"&&typeof s=="object"&&(s=JSON.parse(JSON.stringify(s)),i(s,"autoGainControl","mozAutoGainControl"),i(s,"noiseSuppression","mozNoiseSuppression")),o.apply(this,[s])}}}}function QC(e,t){e.navigator.mediaDevices&&"getDisplayMedia"in e.navigator.mediaDevices||e.navigator.mediaDevices&&(e.navigator.mediaDevices.getDisplayMedia=function(r){if(!(r&&r.video)){const i=new DOMException("getDisplayMedia without video constraints is undefined");return i.name="NotFoundError",i.code=8,Promise.reject(i)}return r.video===!0?r.video={mediaSource:t}:r.video.mediaSource=t,e.navigator.mediaDevices.getUserMedia(r)})}function Iy(e){typeof e=="object"&&e.RTCTrackEvent&&"receiver"in e.RTCTrackEvent.prototype&&!("transceiver"in e.RTCTrackEvent.prototype)&&Object.defineProperty(e.RTCTrackEvent.prototype,"transceiver",{get(){return{receiver:this.receiver}}})}function _u(e,t){if(typeof e!="object"||!(e.RTCPeerConnection||e.mozRTCPeerConnection))return;!e.RTCPeerConnection&&e.mozRTCPeerConnection&&(e.RTCPeerConnection=e.mozRTCPeerConnection),t.version<53&&["setLocalDescription","setRemoteDescription","addIceCandidate"].forEach(function(i){const a=e.RTCPeerConnection.prototype[i],o={[i](){return arguments[0]=new(i==="addIceCandidate"?e.RTCIceCandidate:e.RTCSessionDescription)(arguments[0]),a.apply(this,arguments)}};e.RTCPeerConnection.prototype[i]=o[i]});const n={inboundrtp:"inbound-rtp",outboundrtp:"outbound-rtp",candidatepair:"candidate-pair",localcandidate:"local-candidate",remotecandidate:"remote-candidate"},r=e.RTCPeerConnection.prototype.getStats;e.RTCPeerConnection.prototype.getStats=function(){const[a,o,s]=arguments;return r.apply(this,[a||null]).then(l=>{if(t.version<53&&!o)try{l.forEach(c=>{c.type=n[c.type]||c.type})}catch(c){if(c.name!=="TypeError")throw c;l.forEach((u,m)=>{l.set(m,Object.assign({},u,{type:n[u.type]||u.type}))})}return l}).then(o,s)}}function Ly(e){if(!(typeof e=="object"&&e.RTCPeerConnection&&e.RTCRtpSender)||e.RTCRtpSender&&"getStats"in e.RTCRtpSender.prototype)return;const t=e.RTCPeerConnection.prototype.getSenders;t&&(e.RTCPeerConnection.prototype.getSenders=function(){const i=t.apply(this,[]);return i.forEach(a=>a._pc=this),i});const n=e.RTCPeerConnection.prototype.addTrack;n&&(e.RTCPeerConnection.prototype.addTrack=function(){const i=n.apply(this,arguments);return i._pc=this,i}),e.RTCRtpSender.prototype.getStats=function(){return this.track?this._pc.getStats(this.track):Promise.resolve(new Map)}}function Ny(e){if(!(typeof e=="object"&&e.RTCPeerConnection&&e.RTCRtpSender)||e.RTCRtpSender&&"getStats"in e.RTCRtpReceiver.prototype)return;const t=e.RTCPeerConnection.prototype.getReceivers;t&&(e.RTCPeerConnection.prototype.getReceivers=function(){const r=t.apply(this,[]);return r.forEach(i=>i._pc=this),r}),Qr(e,"track",n=>(n.receiver._pc=n.srcElement,n)),e.RTCRtpReceiver.prototype.getStats=function(){return this._pc.getStats(this.track)}}function $y(e){!e.RTCPeerConnection||"removeStream"in e.RTCPeerConnection.prototype||(e.RTCPeerConnection.prototype.removeStream=function(n){$d("removeStream","removeTrack"),this.getSenders().forEach(r=>{r.track&&n.getTracks().includes(r.track)&&this.removeTrack(r)})})}function Uy(e){e.DataChannel&&!e.RTCDataChannel&&(e.RTCDataChannel=e.DataChannel)}function Jy(e){if(!(typeof e=="object"&&e.RTCPeerConnection))return;const t=e.RTCPeerConnection.prototype.addTransceiver;t&&(e.RTCPeerConnection.prototype.addTransceiver=function(){this.setParametersPromises=[];let r=arguments[1]&&arguments[1].sendEncodings;r===void 0&&(r=[]),r=[...r];const i=r.length>0;i&&r.forEach(o=>{if("rid"in o&&!/^[a-z0-9]{0,16}$/i.test(o.rid))throw new TypeError("Invalid RID value provided.");if("scaleResolutionDownBy"in o&&!(parseFloat(o.scaleResolutionDownBy)>=1))throw new RangeError("scale_resolution_down_by must be >= 1.0");if("maxFramerate"in o&&!(parseFloat(o.maxFramerate)>=0))throw new RangeError("max_framerate must be >= 0.0")});const a=t.apply(this,arguments);if(i){const{sender:o}=a,s=o.getParameters();(!("encodings"in s)||s.encodings.length===1&&Object.keys(s.encodings[0]).length===0)&&(s.encodings=r,o.sendEncodings=r,this.setParametersPromises.push(o.setParameters(s).then(()=>{delete o.sendEncodings}).catch(()=>{delete o.sendEncodings})))}return a})}function zy(e){if(!(typeof e=="object"&&e.RTCRtpSender))return;const t=e.RTCRtpSender.prototype.getParameters;t&&(e.RTCRtpSender.prototype.getParameters=function(){const r=t.apply(this,arguments);return"encodings"in r||(r.encodings=[].concat(this.sendEncodings||[{}])),r})}function Ky(e){if(!(typeof e=="object"&&e.RTCPeerConnection))return;const t=e.RTCPeerConnection.prototype.createOffer;e.RTCPeerConnection.prototype.createOffer=function(){return this.setParametersPromises&&this.setParametersPromises.length?Promise.all(this.setParametersPromises).then(()=>t.apply(this,arguments)).finally(()=>{this.setParametersPromises=[]}):t.apply(this,arguments)}}function Hy(e){if(!(typeof e=="object"&&e.RTCPeerConnection))return;const t=e.RTCPeerConnection.prototype.createAnswer;e.RTCPeerConnection.prototype.createAnswer=function(){return this.setParametersPromises&&this.setParametersPromises.length?Promise.all(this.setParametersPromises).then(()=>t.apply(this,arguments)).finally(()=>{this.setParametersPromises=[]}):t.apply(this,arguments)}}const Fh=Object.freeze(Object.defineProperty({__proto__:null,shimAddTransceiver:Jy,shimCreateAnswer:Hy,shimCreateOffer:Ky,shimGetDisplayMedia:QC,shimGetParameters:zy,shimGetUserMedia:Oy,shimOnTrack:Iy,shimPeerConnection:_u,shimRTCDataChannel:Uy,shimReceiverGetStats:Ny,shimRemoveStream:$y,shimSenderGetStats:Ly},Symbol.toStringTag,{value:"Module"}));function Gy(e){if(!(typeof e!="object"||!e.RTCPeerConnection)){if("getLocalStreams"in e.RTCPeerConnection.prototype||(e.RTCPeerConnection.prototype.getLocalStreams=function(){return this._localStreams||(this._localStreams=[]),this._localStreams}),!("addStream"in e.RTCPeerConnection.prototype)){const t=e.RTCPeerConnection.prototype.addTrack;e.RTCPeerConnection.prototype.addStream=function(r){this._localStreams||(this._localStreams=[]),this._localStreams.includes(r)||this._localStreams.push(r),r.getAudioTracks().forEach(i=>t.call(this,i,r)),r.getVideoTracks().forEach(i=>t.call(this,i,r))},e.RTCPeerConnection.prototype.addTrack=function(r,...i){return i&&i.forEach(a=>{this._localStreams?this._localStreams.includes(a)||this._localStreams.push(a):this._localStreams=[a]}),t.apply(this,arguments)}}"removeStream"in e.RTCPeerConnection.prototype||(e.RTCPeerConnection.prototype.removeStream=function(n){this._localStreams||(this._localStreams=[]);const r=this._localStreams.indexOf(n);if(r===-1)return;this._localStreams.splice(r,1);const i=n.getTracks();this.getSenders().forEach(a=>{i.includes(a.track)&&this.removeTrack(a)})})}}function qy(e){if(!(typeof e!="object"||!e.RTCPeerConnection)&&("getRemoteStreams"in e.RTCPeerConnection.prototype||(e.RTCPeerConnection.prototype.getRemoteStreams=function(){return this._remoteStreams?this._remoteStreams:[]}),!("onaddstream"in e.RTCPeerConnection.prototype))){Object.defineProperty(e.RTCPeerConnection.prototype,"onaddstream",{get(){return this._onaddstream},set(n){this._onaddstream&&(this.removeEventListener("addstream",this._onaddstream),this.removeEventListener("track",this._onaddstreampoly)),this.addEventListener("addstream",this._onaddstream=n),this.addEventListener("track",this._onaddstreampoly=r=>{r.streams.forEach(i=>{if(this._remoteStreams||(this._remoteStreams=[]),this._remoteStreams.includes(i))return;this._remoteStreams.push(i);const a=new Event("addstream");a.stream=i,this.dispatchEvent(a)})})}});const t=e.RTCPeerConnection.prototype.setRemoteDescription;e.RTCPeerConnection.prototype.setRemoteDescription=function(){const r=this;return this._onaddstreampoly||this.addEventListener("track",this._onaddstreampoly=function(i){i.streams.forEach(a=>{if(r._remoteStreams||(r._remoteStreams=[]),r._remoteStreams.indexOf(a)>=0)return;r._remoteStreams.push(a);const o=new Event("addstream");o.stream=a,r.dispatchEvent(o)})}),t.apply(r,arguments)}}}function Vy(e){if(typeof e!="object"||!e.RTCPeerConnection)return;const t=e.RTCPeerConnection.prototype,n=t.createOffer,r=t.createAnswer,i=t.setLocalDescription,a=t.setRemoteDescription,o=t.addIceCandidate;t.createOffer=function(c,u){const m=arguments.length>=2?arguments[2]:arguments[0],f=n.apply(this,[m]);return u?(f.then(c,u),Promise.resolve()):f},t.createAnswer=function(c,u){const m=arguments.length>=2?arguments[2]:arguments[0],f=r.apply(this,[m]);return u?(f.then(c,u),Promise.resolve()):f};let s=function(l,c,u){const m=i.apply(this,[l]);return u?(m.then(c,u),Promise.resolve()):m};t.setLocalDescription=s,s=function(l,c,u){const m=a.apply(this,[l]);return u?(m.then(c,u),Promise.resolve()):m},t.setRemoteDescription=s,s=function(l,c,u){const m=o.apply(this,[l]);return u?(m.then(c,u),Promise.resolve()):m},t.addIceCandidate=s}function Wy(e){const t=e&&e.navigator;if(t.mediaDevices&&t.mediaDevices.getUserMedia){const n=t.mediaDevices,r=n.getUserMedia.bind(n);t.mediaDevices.getUserMedia=i=>r(Yy(i))}!t.getUserMedia&&t.mediaDevices&&t.mediaDevices.getUserMedia&&(t.getUserMedia=(function(r,i,a){t.mediaDevices.getUserMedia(r).then(i,a)}).bind(t))}function Yy(e){return e&&e.video!==void 0?Object.assign({},e,{video:ky(e.video)}):e}function Qy(e){if(!e.RTCPeerConnection)return;const t=e.RTCPeerConnection;e.RTCPeerConnection=function(r,i){if(r&&r.iceServers){const a=[];for(let o=0;o<r.iceServers.length;o++){let s=r.iceServers[o];s.urls===void 0&&s.url?($d("RTCIceServer.url","RTCIceServer.urls"),s=JSON.parse(JSON.stringify(s)),s.urls=s.url,delete s.url,a.push(s)):a.push(r.iceServers[o])}r.iceServers=a}return new t(r,i)},e.RTCPeerConnection.prototype=t.prototype,"generateCertificate"in t&&Object.defineProperty(e.RTCPeerConnection,"generateCertificate",{get(){return t.generateCertificate}})}function Xy(e){typeof e=="object"&&e.RTCTrackEvent&&"receiver"in e.RTCTrackEvent.prototype&&!("transceiver"in e.RTCTrackEvent.prototype)&&Object.defineProperty(e.RTCTrackEvent.prototype,"transceiver",{get(){return{receiver:this.receiver}}})}function Zy(e){const t=e.RTCPeerConnection.prototype.createOffer;e.RTCPeerConnection.prototype.createOffer=function(r){if(r){typeof r.offerToReceiveAudio<"u"&&(r.offerToReceiveAudio=!!r.offerToReceiveAudio);const i=this.getTransceivers().find(o=>o.receiver.track.kind==="audio");r.offerToReceiveAudio===!1&&i?i.direction==="sendrecv"?i.setDirection?i.setDirection("sendonly"):i.direction="sendonly":i.direction==="recvonly"&&(i.setDirection?i.setDirection("inactive"):i.direction="inactive"):r.offerToReceiveAudio===!0&&!i&&this.addTransceiver("audio",{direction:"recvonly"}),typeof r.offerToReceiveVideo<"u"&&(r.offerToReceiveVideo=!!r.offerToReceiveVideo);const a=this.getTransceivers().find(o=>o.receiver.track.kind==="video");r.offerToReceiveVideo===!1&&a?a.direction==="sendrecv"?a.setDirection?a.setDirection("sendonly"):a.direction="sendonly":a.direction==="recvonly"&&(a.setDirection?a.setDirection("inactive"):a.direction="inactive"):r.offerToReceiveVideo===!0&&!a&&this.addTransceiver("video",{direction:"recvonly"})}return t.apply(this,arguments)}}function eg(e){typeof e!="object"||e.AudioContext||(e.AudioContext=e.webkitAudioContext)}const Mh=Object.freeze(Object.defineProperty({__proto__:null,shimAudioContext:eg,shimCallbacksAPI:Vy,shimConstraints:Yy,shimCreateOfferLegacy:Zy,shimGetUserMedia:Wy,shimLocalStreamsAPI:Gy,shimRTCIceServerUrls:Qy,shimRemoteStreamsAPI:qy,shimTrackEventTransceiver:Xy},Symbol.toStringTag,{value:"Module"}));var tg={exports:{}};(function(e){const t={};t.generateIdentifier=function(){return Math.random().toString(36).substring(2,12)},t.localCName=t.generateIdentifier(),t.splitLines=function(n){return n.trim().split(`
`).map(r=>r.trim())},t.splitSections=function(n){return n.split(`
m=`).map((i,a)=>(a>0?"m="+i:i).trim()+`\r
`)},t.getDescription=function(n){const r=t.splitSections(n);return r&&r[0]},t.getMediaSections=function(n){const r=t.splitSections(n);return r.shift(),r},t.matchPrefix=function(n,r){return t.splitLines(n).filter(i=>i.indexOf(r)===0)},t.parseCandidate=function(n){let r;n.indexOf("a=candidate:")===0?r=n.substring(12).split(" "):r=n.substring(10).split(" ");const i={foundation:r[0],component:{1:"rtp",2:"rtcp"}[r[1]]||r[1],protocol:r[2].toLowerCase(),priority:parseInt(r[3],10),ip:r[4],address:r[4],port:parseInt(r[5],10),type:r[7]};for(let a=8;a<r.length;a+=2)switch(r[a]){case"raddr":i.relatedAddress=r[a+1];break;case"rport":i.relatedPort=parseInt(r[a+1],10);break;case"tcptype":i.tcpType=r[a+1];break;case"ufrag":i.ufrag=r[a+1],i.usernameFragment=r[a+1];break;default:i[r[a]]===void 0&&(i[r[a]]=r[a+1]);break}return i},t.writeCandidate=function(n){const r=[];r.push(n.foundation);const i=n.component;i==="rtp"?r.push(1):i==="rtcp"?r.push(2):r.push(i),r.push(n.protocol.toUpperCase()),r.push(n.priority),r.push(n.address||n.ip),r.push(n.port);const a=n.type;return r.push("typ"),r.push(a),a!=="host"&&n.relatedAddress&&n.relatedPort&&(r.push("raddr"),r.push(n.relatedAddress),r.push("rport"),r.push(n.relatedPort)),n.tcpType&&n.protocol.toLowerCase()==="tcp"&&(r.push("tcptype"),r.push(n.tcpType)),(n.usernameFragment||n.ufrag)&&(r.push("ufrag"),r.push(n.usernameFragment||n.ufrag)),"candidate:"+r.join(" ")},t.parseIceOptions=function(n){return n.substring(14).split(" ")},t.parseRtpMap=function(n){let r=n.substring(9).split(" ");const i={payloadType:parseInt(r.shift(),10)};return r=r[0].split("/"),i.name=r[0],i.clockRate=parseInt(r[1],10),i.channels=r.length===3?parseInt(r[2],10):1,i.numChannels=i.channels,i},t.writeRtpMap=function(n){let r=n.payloadType;n.preferredPayloadType!==void 0&&(r=n.preferredPayloadType);const i=n.channels||n.numChannels||1;return"a=rtpmap:"+r+" "+n.name+"/"+n.clockRate+(i!==1?"/"+i:"")+`\r
`},t.parseExtmap=function(n){const r=n.substring(9).split(" ");return{id:parseInt(r[0],10),direction:r[0].indexOf("/")>0?r[0].split("/")[1]:"sendrecv",uri:r[1],attributes:r.slice(2).join(" ")}},t.writeExtmap=function(n){return"a=extmap:"+(n.id||n.preferredId)+(n.direction&&n.direction!=="sendrecv"?"/"+n.direction:"")+" "+n.uri+(n.attributes?" "+n.attributes:"")+`\r
`},t.parseFmtp=function(n){const r={};let i;const a=n.substring(n.indexOf(" ")+1).split(";");for(let o=0;o<a.length;o++)i=a[o].trim().split("="),r[i[0].trim()]=i[1];return r},t.writeFmtp=function(n){let r="",i=n.payloadType;if(n.preferredPayloadType!==void 0&&(i=n.preferredPayloadType),n.parameters&&Object.keys(n.parameters).length){const a=[];Object.keys(n.parameters).forEach(o=>{n.parameters[o]!==void 0?a.push(o+"="+n.parameters[o]):a.push(o)}),r+="a=fmtp:"+i+" "+a.join(";")+`\r
`}return r},t.parseRtcpFb=function(n){const r=n.substring(n.indexOf(" ")+1).split(" ");return{type:r.shift(),parameter:r.join(" ")}},t.writeRtcpFb=function(n){let r="",i=n.payloadType;return n.preferredPayloadType!==void 0&&(i=n.preferredPayloadType),n.rtcpFeedback&&n.rtcpFeedback.length&&n.rtcpFeedback.forEach(a=>{r+="a=rtcp-fb:"+i+" "+a.type+(a.parameter&&a.parameter.length?" "+a.parameter:"")+`\r
`}),r},t.parseSsrcMedia=function(n){const r=n.indexOf(" "),i={ssrc:parseInt(n.substring(7,r),10)},a=n.indexOf(":",r);return a>-1?(i.attribute=n.substring(r+1,a),i.value=n.substring(a+1)):i.attribute=n.substring(r+1),i},t.parseSsrcGroup=function(n){const r=n.substring(13).split(" ");return{semantics:r.shift(),ssrcs:r.map(i=>parseInt(i,10))}},t.getMid=function(n){const r=t.matchPrefix(n,"a=mid:")[0];if(r)return r.substring(6)},t.parseFingerprint=function(n){const r=n.substring(14).split(" ");return{algorithm:r[0].toLowerCase(),value:r[1].toUpperCase()}},t.getDtlsParameters=function(n,r){return{role:"auto",fingerprints:t.matchPrefix(n+r,"a=fingerprint:").map(t.parseFingerprint)}},t.writeDtlsParameters=function(n,r){let i="a=setup:"+r+`\r
`;return n.fingerprints.forEach(a=>{i+="a=fingerprint:"+a.algorithm+" "+a.value+`\r
`}),i},t.parseCryptoLine=function(n){const r=n.substring(9).split(" ");return{tag:parseInt(r[0],10),cryptoSuite:r[1],keyParams:r[2],sessionParams:r.slice(3)}},t.writeCryptoLine=function(n){return"a=crypto:"+n.tag+" "+n.cryptoSuite+" "+(typeof n.keyParams=="object"?t.writeCryptoKeyParams(n.keyParams):n.keyParams)+(n.sessionParams?" "+n.sessionParams.join(" "):"")+`\r
`},t.parseCryptoKeyParams=function(n){if(n.indexOf("inline:")!==0)return null;const r=n.substring(7).split("|");return{keyMethod:"inline",keySalt:r[0],lifeTime:r[1],mkiValue:r[2]?r[2].split(":")[0]:void 0,mkiLength:r[2]?r[2].split(":")[1]:void 0}},t.writeCryptoKeyParams=function(n){return n.keyMethod+":"+n.keySalt+(n.lifeTime?"|"+n.lifeTime:"")+(n.mkiValue&&n.mkiLength?"|"+n.mkiValue+":"+n.mkiLength:"")},t.getCryptoParameters=function(n,r){return t.matchPrefix(n+r,"a=crypto:").map(t.parseCryptoLine)},t.getIceParameters=function(n,r){const i=t.matchPrefix(n+r,"a=ice-ufrag:")[0],a=t.matchPrefix(n+r,"a=ice-pwd:")[0];return i&&a?{usernameFragment:i.substring(12),password:a.substring(10)}:null},t.writeIceParameters=function(n){let r="a=ice-ufrag:"+n.usernameFragment+`\r
a=ice-pwd:`+n.password+`\r
`;return n.iceLite&&(r+=`a=ice-lite\r
`),r},t.parseRtpParameters=function(n){const r={codecs:[],headerExtensions:[],fecMechanisms:[],rtcp:[]},a=t.splitLines(n)[0].split(" ");r.profile=a[2];for(let s=3;s<a.length;s++){const l=a[s],c=t.matchPrefix(n,"a=rtpmap:"+l+" ")[0];if(c){const u=t.parseRtpMap(c),m=t.matchPrefix(n,"a=fmtp:"+l+" ");switch(u.parameters=m.length?t.parseFmtp(m[0]):{},u.rtcpFeedback=t.matchPrefix(n,"a=rtcp-fb:"+l+" ").map(t.parseRtcpFb),r.codecs.push(u),u.name.toUpperCase()){case"RED":case"ULPFEC":r.fecMechanisms.push(u.name.toUpperCase());break}}}t.matchPrefix(n,"a=extmap:").forEach(s=>{r.headerExtensions.push(t.parseExtmap(s))});const o=t.matchPrefix(n,"a=rtcp-fb:* ").map(t.parseRtcpFb);return r.codecs.forEach(s=>{o.forEach(l=>{s.rtcpFeedback.find(u=>u.type===l.type&&u.parameter===l.parameter)||s.rtcpFeedback.push(l)})}),r},t.writeRtpDescription=function(n,r){let i="";i+="m="+n+" ",i+=r.codecs.length>0?"9":"0",i+=" "+(r.profile||"UDP/TLS/RTP/SAVPF")+" ",i+=r.codecs.map(o=>o.preferredPayloadType!==void 0?o.preferredPayloadType:o.payloadType).join(" ")+`\r
`,i+=`c=IN IP4 0.0.0.0\r
`,i+=`a=rtcp:9 IN IP4 0.0.0.0\r
`,r.codecs.forEach(o=>{i+=t.writeRtpMap(o),i+=t.writeFmtp(o),i+=t.writeRtcpFb(o)});let a=0;return r.codecs.forEach(o=>{o.maxptime>a&&(a=o.maxptime)}),a>0&&(i+="a=maxptime:"+a+`\r
`),r.headerExtensions&&r.headerExtensions.forEach(o=>{i+=t.writeExtmap(o)}),i},t.parseRtpEncodingParameters=function(n){const r=[],i=t.parseRtpParameters(n),a=i.fecMechanisms.indexOf("RED")!==-1,o=i.fecMechanisms.indexOf("ULPFEC")!==-1,s=t.matchPrefix(n,"a=ssrc:").map(f=>t.parseSsrcMedia(f)).filter(f=>f.attribute==="cname"),l=s.length>0&&s[0].ssrc;let c;const u=t.matchPrefix(n,"a=ssrc-group:FID").map(f=>f.substring(17).split(" ").map(v=>parseInt(v,10)));u.length>0&&u[0].length>1&&u[0][0]===l&&(c=u[0][1]),i.codecs.forEach(f=>{if(f.name.toUpperCase()==="RTX"&&f.parameters.apt){let g={ssrc:l,codecPayloadType:parseInt(f.parameters.apt,10)};l&&c&&(g.rtx={ssrc:c}),r.push(g),a&&(g=JSON.parse(JSON.stringify(g)),g.fec={ssrc:l,mechanism:o?"red+ulpfec":"red"},r.push(g))}}),r.length===0&&l&&r.push({ssrc:l});let m=t.matchPrefix(n,"b=");return m.length&&(m[0].indexOf("b=TIAS:")===0?m=parseInt(m[0].substring(7),10):m[0].indexOf("b=AS:")===0?m=parseInt(m[0].substring(5),10)*1e3*.95-50*40*8:m=void 0,r.forEach(f=>{f.maxBitrate=m})),r},t.parseRtcpParameters=function(n){const r={},i=t.matchPrefix(n,"a=ssrc:").map(s=>t.parseSsrcMedia(s)).filter(s=>s.attribute==="cname")[0];i&&(r.cname=i.value,r.ssrc=i.ssrc);const a=t.matchPrefix(n,"a=rtcp-rsize");r.reducedSize=a.length>0,r.compound=a.length===0;const o=t.matchPrefix(n,"a=rtcp-mux");return r.mux=o.length>0,r},t.writeRtcpParameters=function(n){let r="";return n.reducedSize&&(r+=`a=rtcp-rsize\r
`),n.mux&&(r+=`a=rtcp-mux\r
`),n.ssrc!==void 0&&n.cname&&(r+="a=ssrc:"+n.ssrc+" cname:"+n.cname+`\r
`),r},t.parseMsid=function(n){let r;const i=t.matchPrefix(n,"a=msid:");if(i.length===1)return r=i[0].substring(7).split(" "),{stream:r[0],track:r[1]};const a=t.matchPrefix(n,"a=ssrc:").map(o=>t.parseSsrcMedia(o)).filter(o=>o.attribute==="msid");if(a.length>0)return r=a[0].value.split(" "),{stream:r[0],track:r[1]}},t.parseSctpDescription=function(n){const r=t.parseMLine(n),i=t.matchPrefix(n,"a=max-message-size:");let a;i.length>0&&(a=parseInt(i[0].substring(19),10)),isNaN(a)&&(a=65536);const o=t.matchPrefix(n,"a=sctp-port:");if(o.length>0)return{port:parseInt(o[0].substring(12),10),protocol:r.fmt,maxMessageSize:a};const s=t.matchPrefix(n,"a=sctpmap:");if(s.length>0){const l=s[0].substring(10).split(" ");return{port:parseInt(l[0],10),protocol:l[1],maxMessageSize:a}}},t.writeSctpDescription=function(n,r){let i=[];return n.protocol!=="DTLS/SCTP"?i=["m="+n.kind+" 9 "+n.protocol+" "+r.protocol+`\r
`,`c=IN IP4 0.0.0.0\r
`,"a=sctp-port:"+r.port+`\r
`]:i=["m="+n.kind+" 9 "+n.protocol+" "+r.port+`\r
`,`c=IN IP4 0.0.0.0\r
`,"a=sctpmap:"+r.port+" "+r.protocol+` 65535\r
`],r.maxMessageSize!==void 0&&i.push("a=max-message-size:"+r.maxMessageSize+`\r
`),i.join("")},t.generateSessionId=function(){return Math.random().toString().substr(2,22)},t.writeSessionBoilerplate=function(n,r,i){let a;const o=r!==void 0?r:2;return n?a=n:a=t.generateSessionId(),`v=0\r
o=`+(i||"thisisadapterortc")+" "+a+" "+o+` IN IP4 127.0.0.1\r
s=-\r
t=0 0\r
`},t.getDirection=function(n,r){const i=t.splitLines(n);for(let a=0;a<i.length;a++)switch(i[a]){case"a=sendrecv":case"a=sendonly":case"a=recvonly":case"a=inactive":return i[a].substring(2)}return r?t.getDirection(r):"sendrecv"},t.getKind=function(n){return t.splitLines(n)[0].split(" ")[0].substring(2)},t.isRejected=function(n){return n.split(" ",2)[1]==="0"},t.parseMLine=function(n){const i=t.splitLines(n)[0].substring(2).split(" ");return{kind:i[0],port:parseInt(i[1],10),protocol:i[2],fmt:i.slice(3).join(" ")}},t.parseOLine=function(n){const i=t.matchPrefix(n,"o=")[0].substring(2).split(" ");return{username:i[0],sessionId:i[1],sessionVersion:parseInt(i[2],10),netType:i[3],addressType:i[4],address:i[5]}},t.isValidSDP=function(n){if(typeof n!="string"||n.length===0)return!1;const r=t.splitLines(n);for(let i=0;i<r.length;i++)if(r[i].length<2||r[i].charAt(1)!=="=")return!1;return!0},e.exports=t})(tg);var ng=tg.exports;const Ii=Gf(ng),XC=Hf({__proto__:null,default:Ii},[ng]);function Go(e){if(!e.RTCIceCandidate||e.RTCIceCandidate&&"foundation"in e.RTCIceCandidate.prototype)return;const t=e.RTCIceCandidate;e.RTCIceCandidate=function(r){if(typeof r=="object"&&r.candidate&&r.candidate.indexOf("a=")===0&&(r=JSON.parse(JSON.stringify(r)),r.candidate=r.candidate.substring(2)),r.candidate&&r.candidate.length){const i=new t(r),a=Ii.parseCandidate(r.candidate);for(const o in a)o in i||Object.defineProperty(i,o,{value:a[o]});return i.toJSON=function(){return{candidate:i.candidate,sdpMid:i.sdpMid,sdpMLineIndex:i.sdpMLineIndex,usernameFragment:i.usernameFragment}},i}return new t(r)},e.RTCIceCandidate.prototype=t.prototype,Qr(e,"icecandidate",n=>(n.candidate&&Object.defineProperty(n,"candidate",{value:new e.RTCIceCandidate(n.candidate),writable:"false"}),n))}function bu(e){!e.RTCIceCandidate||e.RTCIceCandidate&&"relayProtocol"in e.RTCIceCandidate.prototype||Qr(e,"icecandidate",t=>{if(t.candidate){const n=Ii.parseCandidate(t.candidate.candidate);n.type==="relay"&&(t.candidate.relayProtocol={0:"tls",1:"tcp",2:"udp"}[n.priority>>24])}return t})}function qo(e,t){if(!e.RTCPeerConnection)return;"sctp"in e.RTCPeerConnection.prototype||Object.defineProperty(e.RTCPeerConnection.prototype,"sctp",{get(){return typeof this._sctp>"u"?null:this._sctp}});const n=function(s){if(!s||!s.sdp)return!1;const l=Ii.splitSections(s.sdp);return l.shift(),l.some(c=>{const u=Ii.parseMLine(c);return u&&u.kind==="application"&&u.protocol.indexOf("SCTP")!==-1})},r=function(s){const l=s.sdp.match(/mozilla...THIS_IS_SDPARTA-(\d+)/);if(l===null||l.length<2)return-1;const c=parseInt(l[1],10);return c!==c?-1:c},i=function(s){let l=65536;return t.browser==="firefox"&&(t.version<57?s===-1?l=16384:l=2147483637:t.version<60?l=t.version===57?65535:65536:l=2147483637),l},a=function(s,l){let c=65536;t.browser==="firefox"&&t.version===57&&(c=65535);const u=Ii.matchPrefix(s.sdp,"a=max-message-size:");return u.length>0?c=parseInt(u[0].substring(19),10):t.browser==="firefox"&&l!==-1&&(c=2147483637),c},o=e.RTCPeerConnection.prototype.setRemoteDescription;e.RTCPeerConnection.prototype.setRemoteDescription=function(){if(this._sctp=null,t.browser==="chrome"&&t.version>=76){const{sdpSemantics:l}=this.getConfiguration();l==="plan-b"&&Object.defineProperty(this,"sctp",{get(){return typeof this._sctp>"u"?null:this._sctp},enumerable:!0,configurable:!0})}if(n(arguments[0])){const l=r(arguments[0]),c=i(l),u=a(arguments[0],l);let m;c===0&&u===0?m=Number.POSITIVE_INFINITY:c===0||u===0?m=Math.max(c,u):m=Math.min(c,u);const f={};Object.defineProperty(f,"maxMessageSize",{get(){return m}}),this._sctp=f}return o.apply(this,arguments)}}function Vo(e){if(!(e.RTCPeerConnection&&"createDataChannel"in e.RTCPeerConnection.prototype))return;function t(r,i){const a=r.send;r.send=function(){const s=arguments[0],l=s.length||s.size||s.byteLength;if(r.readyState==="open"&&i.sctp&&l>i.sctp.maxMessageSize)throw new TypeError("Message too large (can send a maximum of "+i.sctp.maxMessageSize+" bytes)");return a.apply(r,arguments)}}const n=e.RTCPeerConnection.prototype.createDataChannel;e.RTCPeerConnection.prototype.createDataChannel=function(){const i=n.apply(this,arguments);return t(i,this),i},Qr(e,"datachannel",r=>(t(r.channel,r.target),r))}function wu(e){if(!e.RTCPeerConnection||"connectionState"in e.RTCPeerConnection.prototype)return;const t=e.RTCPeerConnection.prototype;Object.defineProperty(t,"connectionState",{get(){return{completed:"connected",checking:"connecting"}[this.iceConnectionState]||this.iceConnectionState},enumerable:!0,configurable:!0}),Object.defineProperty(t,"onconnectionstatechange",{get(){return this._onconnectionstatechange||null},set(n){this._onconnectionstatechange&&(this.removeEventListener("connectionstatechange",this._onconnectionstatechange),delete this._onconnectionstatechange),n&&this.addEventListener("connectionstatechange",this._onconnectionstatechange=n)},enumerable:!0,configurable:!0}),["setLocalDescription","setRemoteDescription"].forEach(n=>{const r=t[n];t[n]=function(){return this._connectionstatechangepoly||(this._connectionstatechangepoly=i=>{const a=i.target;if(a._lastConnectionState!==a.connectionState){a._lastConnectionState=a.connectionState;const o=new Event("connectionstatechange",i);a.dispatchEvent(o)}return i},this.addEventListener("iceconnectionstatechange",this._connectionstatechangepoly)),r.apply(this,arguments)}})}function Su(e,t){if(!e.RTCPeerConnection||t.browser==="chrome"&&t.version>=71||t.browser==="safari"&&t._safariVersion>=13.1)return;const n=e.RTCPeerConnection.prototype.setRemoteDescription;e.RTCPeerConnection.prototype.setRemoteDescription=function(i){if(i&&i.sdp&&i.sdp.indexOf(`
a=extmap-allow-mixed`)!==-1){const a=i.sdp.split(`
`).filter(o=>o.trim()!=="a=extmap-allow-mixed").join(`
`);e.RTCSessionDescription&&i instanceof e.RTCSessionDescription?arguments[0]=new e.RTCSessionDescription({type:i.type,sdp:a}):i.sdp=a}return n.apply(this,arguments)}}function Wo(e,t){if(!(e.RTCPeerConnection&&e.RTCPeerConnection.prototype))return;const n=e.RTCPeerConnection.prototype.addIceCandidate;!n||n.length===0||(e.RTCPeerConnection.prototype.addIceCandidate=function(){return arguments[0]?(t.browser==="chrome"&&t.version<78||t.browser==="firefox"&&t.version<68||t.browser==="safari")&&arguments[0]&&arguments[0].candidate===""?Promise.resolve():n.apply(this,arguments):(arguments[1]&&arguments[1].apply(null),Promise.resolve())})}function Yo(e,t){if(!(e.RTCPeerConnection&&e.RTCPeerConnection.prototype))return;const n=e.RTCPeerConnection.prototype.setLocalDescription;!n||n.length===0||(e.RTCPeerConnection.prototype.setLocalDescription=function(){let i=arguments[0]||{};if(typeof i!="object"||i.type&&i.sdp)return n.apply(this,arguments);if(i={type:i.type,sdp:i.sdp},!i.type)switch(this.signalingState){case"stable":case"have-local-offer":case"have-remote-pranswer":i.type="offer";break;default:i.type="answer";break}return i.sdp||i.type!=="offer"&&i.type!=="answer"?n.apply(this,[i]):(i.type==="offer"?this.createOffer:this.createAnswer).apply(this).then(o=>n.apply(this,[o]))})}const ZC=Object.freeze(Object.defineProperty({__proto__:null,removeExtmapAllowMixed:Su,shimAddIceCandidateNullOrEmpty:Wo,shimConnectionState:wu,shimMaxMessageSize:qo,shimParameterlessSetLocalDescription:Yo,shimRTCIceCandidate:Go,shimRTCIceCandidateRelayProtocol:bu,shimSendThrowTypeError:Vo},Symbol.toStringTag,{value:"Module"}));function e_({window:e}={},t={shimChrome:!0,shimFirefox:!0,shimSafari:!0}){const n=Ay,r=YC(e),i={browserDetails:r,commonShim:ZC,extractVersion:pa,disableLog:VC,disableWarnings:WC,sdp:XC};switch(r.browser){case"chrome":if(!Bh||!Cu||!t.shimChrome)return n("Chrome shim is not included in this adapter release."),i;if(r.version===null)return n("Chrome shim can not determine version, not shimming."),i;n("adapter.js shimming chrome."),i.browserShim=Bh,Wo(e,r),Yo(e),Ry(e,r),Py(e),Cu(e,r),Ty(e),Fy(e,r),Dy(e),jy(e),My(e,r),Go(e),bu(e),wu(e),qo(e,r),Vo(e),Su(e,r);break;case"firefox":if(!Fh||!_u||!t.shimFirefox)return n("Firefox shim is not included in this adapter release."),i;n("adapter.js shimming firefox."),i.browserShim=Fh,Wo(e,r),Yo(e),Oy(e,r),_u(e,r),Iy(e),$y(e),Ly(e),Ny(e),Uy(e),Jy(e),zy(e),Ky(e),Hy(e),Go(e),wu(e),qo(e,r),Vo(e);break;case"safari":if(!Mh||!t.shimSafari)return n("Safari shim is not included in this adapter release."),i;n("adapter.js shimming safari."),i.browserShim=Mh,Wo(e,r),Yo(e),Qy(e),Zy(e),Vy(e),Gy(e),qy(e),Xy(e),Wy(e),eg(e),Go(e),bu(e),qo(e,r),Vo(e),Su(e,r);break;default:n("Unsupported browser!");break}return i}const Oh=e_({window:typeof window>"u"?void 0:window});function Xr(e,t,n,r){Object.defineProperty(e,t,{get:n,set:r,enumerable:!0,configurable:!0})}class rg{constructor(){this.chunkedMTU=16300,this._dataCount=1,this.chunk=t=>{const n=[],r=t.byteLength,i=Math.ceil(r/this.chunkedMTU);let a=0,o=0;for(;o<r;){const s=Math.min(r,o+this.chunkedMTU),l=t.slice(o,s),c={__peerData:this._dataCount,n:a,data:l,total:i};n.push(c),o=s,a++}return this._dataCount++,n}}}function t_(e){let t=0;for(const i of e)t+=i.byteLength;const n=new Uint8Array(t);let r=0;for(const i of e)n.set(i,r),r+=i.byteLength;return n}const kl=Oh.default||Oh,ca=new class{isWebRTCSupported(){return typeof RTCPeerConnection<"u"}isBrowserSupported(){const e=this.getBrowser(),t=this.getVersion();return this.supportedBrowsers.includes(e)?e==="chrome"?t>=this.minChromeVersion:e==="firefox"?t>=this.minFirefoxVersion:e==="safari"?!this.isIOS&&t>=this.minSafariVersion:!1:!1}getBrowser(){return kl.browserDetails.browser}getVersion(){return kl.browserDetails.version||0}isUnifiedPlanSupported(){const e=this.getBrowser(),t=kl.browserDetails.version||0;if(e==="chrome"&&t<this.minChromeVersion)return!1;if(e==="firefox"&&t>=this.minFirefoxVersion)return!0;if(!window.RTCRtpTransceiver||!("currentDirection"in RTCRtpTransceiver.prototype))return!1;let n,r=!1;try{n=new RTCPeerConnection,n.addTransceiver("audio"),r=!0}catch{}finally{n&&n.close()}return r}toString(){return`Supports:
    browser:${this.getBrowser()}
    version:${this.getVersion()}
    isIOS:${this.isIOS}
    isWebRTCSupported:${this.isWebRTCSupported()}
    isBrowserSupported:${this.isBrowserSupported()}
    isUnifiedPlanSupported:${this.isUnifiedPlanSupported()}`}constructor(){this.isIOS=typeof navigator<"u"?["iPad","iPhone","iPod"].includes(navigator.platform):!1,this.supportedBrowsers=["firefox","chrome","safari"],this.minFirefoxVersion=59,this.minChromeVersion=72,this.minSafariVersion=605}},n_=e=>!e||/^[A-Za-z0-9]+(?:[ _-][A-Za-z0-9]+)*$/.test(e),ig=()=>Math.random().toString(36).slice(2),Ih={iceServers:[{urls:"stun:stun.l.google.com:19302"},{urls:["turn:eu-0.turn.peerjs.com:3478","turn:us-0.turn.peerjs.com:3478"],username:"peerjs",credential:"peerjsp"}],sdpSemantics:"unified-plan"};class r_ extends rg{noop(){}blobToArrayBuffer(t,n){const r=new FileReader;return r.onload=function(i){i.target&&n(i.target.result)},r.readAsArrayBuffer(t),r}binaryStringToArrayBuffer(t){const n=new Uint8Array(t.length);for(let r=0;r<t.length;r++)n[r]=t.charCodeAt(r)&255;return n.buffer}isSecure(){return location.protocol==="https:"}constructor(...t){super(...t),this.CLOUD_HOST="0.peerjs.com",this.CLOUD_PORT=443,this.chunkedBrowsers={Chrome:1,chrome:1},this.defaultConfig=Ih,this.browser=ca.getBrowser(),this.browserVersion=ca.getVersion(),this.pack=wy,this.unpack=by,this.supports=function(){const n={browser:ca.isBrowserSupported(),webRTC:ca.isWebRTCSupported(),audioVideo:!1,data:!1,binaryBlob:!1,reliable:!1};if(!n.webRTC)return n;let r;try{r=new RTCPeerConnection(Ih),n.audioVideo=!0;let i;try{i=r.createDataChannel("_PEERJSTEST",{ordered:!0}),n.data=!0,n.reliable=!!i.ordered;try{i.binaryType="blob",n.binaryBlob=!ca.isIOS}catch{}}catch{}finally{i&&i.close()}}catch{}finally{r&&r.close()}return n}(),this.validateId=n_,this.randomToken=ig}}const Gt=new r_,i_="PeerJS: ";class a_{get logLevel(){return this._logLevel}set logLevel(t){this._logLevel=t}log(...t){this._logLevel>=3&&this._print(3,...t)}warn(...t){this._logLevel>=2&&this._print(2,...t)}error(...t){this._logLevel>=1&&this._print(1,...t)}setLogFunction(t){this._print=t}_print(t,...n){const r=[i_,...n];for(const i in r)r[i]instanceof Error&&(r[i]="("+r[i].name+") "+r[i].message);t>=3?console.log(...r):t>=2?console.warn("WARNING",...r):t>=1&&console.error("ERROR",...r)}constructor(){this._logLevel=0}}var oe=new a_,Ud={},o_=Object.prototype.hasOwnProperty,Jt="~";function Ya(){}Object.create&&(Ya.prototype=Object.create(null),new Ya().__proto__||(Jt=!1));function s_(e,t,n){this.fn=e,this.context=t,this.once=n||!1}function ag(e,t,n,r,i){if(typeof n!="function")throw new TypeError("The listener must be a function");var a=new s_(n,r||e,i),o=Jt?Jt+t:t;return e._events[o]?e._events[o].fn?e._events[o]=[e._events[o],a]:e._events[o].push(a):(e._events[o]=a,e._eventsCount++),e}function Qo(e,t){--e._eventsCount===0?e._events=new Ya:delete e._events[t]}function Mt(){this._events=new Ya,this._eventsCount=0}Mt.prototype.eventNames=function(){var t=[],n,r;if(this._eventsCount===0)return t;for(r in n=this._events)o_.call(n,r)&&t.push(Jt?r.slice(1):r);return Object.getOwnPropertySymbols?t.concat(Object.getOwnPropertySymbols(n)):t};Mt.prototype.listeners=function(t){var n=Jt?Jt+t:t,r=this._events[n];if(!r)return[];if(r.fn)return[r.fn];for(var i=0,a=r.length,o=new Array(a);i<a;i++)o[i]=r[i].fn;return o};Mt.prototype.listenerCount=function(t){var n=Jt?Jt+t:t,r=this._events[n];return r?r.fn?1:r.length:0};Mt.prototype.emit=function(t,n,r,i,a,o){var s=Jt?Jt+t:t;if(!this._events[s])return!1;var l=this._events[s],c=arguments.length,u,m;if(l.fn){switch(l.once&&this.removeListener(t,l.fn,void 0,!0),c){case 1:return l.fn.call(l.context),!0;case 2:return l.fn.call(l.context,n),!0;case 3:return l.fn.call(l.context,n,r),!0;case 4:return l.fn.call(l.context,n,r,i),!0;case 5:return l.fn.call(l.context,n,r,i,a),!0;case 6:return l.fn.call(l.context,n,r,i,a,o),!0}for(m=1,u=new Array(c-1);m<c;m++)u[m-1]=arguments[m];l.fn.apply(l.context,u)}else{var f=l.length,g;for(m=0;m<f;m++)switch(l[m].once&&this.removeListener(t,l[m].fn,void 0,!0),c){case 1:l[m].fn.call(l[m].context);break;case 2:l[m].fn.call(l[m].context,n);break;case 3:l[m].fn.call(l[m].context,n,r);break;case 4:l[m].fn.call(l[m].context,n,r,i);break;default:if(!u)for(g=1,u=new Array(c-1);g<c;g++)u[g-1]=arguments[g];l[m].fn.apply(l[m].context,u)}}return!0};Mt.prototype.on=function(t,n,r){return ag(this,t,n,r,!1)};Mt.prototype.once=function(t,n,r){return ag(this,t,n,r,!0)};Mt.prototype.removeListener=function(t,n,r,i){var a=Jt?Jt+t:t;if(!this._events[a])return this;if(!n)return Qo(this,a),this;var o=this._events[a];if(o.fn)o.fn===n&&(!i||o.once)&&(!r||o.context===r)&&Qo(this,a);else{for(var s=0,l=[],c=o.length;s<c;s++)(o[s].fn!==n||i&&!o[s].once||r&&o[s].context!==r)&&l.push(o[s]);l.length?this._events[a]=l.length===1?l[0]:l:Qo(this,a)}return this};Mt.prototype.removeAllListeners=function(t){var n;return t?(n=Jt?Jt+t:t,this._events[n]&&Qo(this,n)):(this._events=new Ya,this._eventsCount=0),this};Mt.prototype.off=Mt.prototype.removeListener;Mt.prototype.addListener=Mt.prototype.on;Mt.prefixed=Jt;Mt.EventEmitter=Mt;Ud=Mt;var Zr={};Xr(Zr,"ConnectionType",()=>vr);Xr(Zr,"PeerErrorType",()=>ut);Xr(Zr,"BaseConnectionErrorType",()=>Eu);Xr(Zr,"DataConnectionErrorType",()=>Jd);Xr(Zr,"SerializationType",()=>qs);Xr(Zr,"SocketEventType",()=>cr);Xr(Zr,"ServerMessageType",()=>jt);var vr=function(e){return e.Data="data",e.Media="media",e}({}),ut=function(e){return e.BrowserIncompatible="browser-incompatible",e.Disconnected="disconnected",e.InvalidID="invalid-id",e.InvalidKey="invalid-key",e.Network="network",e.PeerUnavailable="peer-unavailable",e.SslUnavailable="ssl-unavailable",e.ServerError="server-error",e.SocketError="socket-error",e.SocketClosed="socket-closed",e.UnavailableID="unavailable-id",e.WebRTC="webrtc",e}({}),Eu=function(e){return e.NegotiationFailed="negotiation-failed",e.ConnectionClosed="connection-closed",e}({}),Jd=function(e){return e.NotOpenYet="not-open-yet",e.MessageToBig="message-too-big",e}({}),qs=function(e){return e.Binary="binary",e.BinaryUTF8="binary-utf8",e.JSON="json",e.None="raw",e}({}),cr=function(e){return e.Message="message",e.Disconnected="disconnected",e.Error="error",e.Close="close",e}({}),jt=function(e){return e.Heartbeat="HEARTBEAT",e.Candidate="CANDIDATE",e.Offer="OFFER",e.Answer="ANSWER",e.Open="OPEN",e.Error="ERROR",e.IdTaken="ID-TAKEN",e.InvalidKey="INVALID-KEY",e.Leave="LEAVE",e.Expire="EXPIRE",e}({});const og="1.5.5";class l_ extends Ud.EventEmitter{constructor(t,n,r,i,a,o=5e3){super(),this.pingInterval=o,this._disconnected=!0,this._messagesQueue=[];const s=t?"wss://":"ws://";this._baseUrl=s+n+":"+r+i+"peerjs?key="+a}start(t,n){this._id=t;const r=`${this._baseUrl}&id=${t}&token=${n}`;this._socket||!this._disconnected||(this._socket=new WebSocket(r+"&version="+og),this._disconnected=!1,this._socket.onmessage=i=>{let a;try{a=JSON.parse(i.data),oe.log("Server message received:",a)}catch{oe.log("Invalid server message",i.data);return}this.emit(cr.Message,a)},this._socket.onclose=i=>{this._disconnected||(oe.log("Socket closed.",i),this._cleanup(),this._disconnected=!0,this.emit(cr.Disconnected))},this._socket.onopen=()=>{this._disconnected||(this._sendQueuedMessages(),oe.log("Socket open"),this._scheduleHeartbeat())})}_scheduleHeartbeat(){this._wsPingTimer=setTimeout(()=>{this._sendHeartbeat()},this.pingInterval)}_sendHeartbeat(){if(!this._wsOpen()){oe.log("Cannot send heartbeat, because socket closed");return}const t=JSON.stringify({type:jt.Heartbeat});this._socket.send(t),this._scheduleHeartbeat()}_wsOpen(){return!!this._socket&&this._socket.readyState===1}_sendQueuedMessages(){const t=[...this._messagesQueue];this._messagesQueue=[];for(const n of t)this.send(n)}send(t){if(this._disconnected)return;if(!this._id){this._messagesQueue.push(t);return}if(!t.type){this.emit(cr.Error,"Invalid message");return}if(!this._wsOpen())return;const n=JSON.stringify(t);this._socket.send(n)}close(){this._disconnected||(this._cleanup(),this._disconnected=!0)}_cleanup(){this._socket&&(this._socket.onopen=this._socket.onmessage=this._socket.onclose=null,this._socket.close(),this._socket=void 0),clearTimeout(this._wsPingTimer)}}class sg{constructor(t){this.connection=t}startConnection(t){const n=this._startPeerConnection();if(this.connection.peerConnection=n,this.connection.type===vr.Media&&t._stream&&this._addTracksToConnection(t._stream,n),t.originator){const r=this.connection,i={ordered:!!t.reliable},a=n.createDataChannel(r.label,i);r._initializeDataChannel(a),this._makeOffer()}else this.handleSDP("OFFER",t.sdp)}_startPeerConnection(){oe.log("Creating RTCPeerConnection.");const t=new RTCPeerConnection(this.connection.provider.options.config);return this._setupListeners(t),t}_setupListeners(t){const n=this.connection.peer,r=this.connection.connectionId,i=this.connection.type,a=this.connection.provider;oe.log("Listening for ICE candidates."),t.onicecandidate=o=>{!o.candidate||!o.candidate.candidate||(oe.log(`Received ICE candidates for ${n}:`,o.candidate),a.socket.send({type:jt.Candidate,payload:{candidate:o.candidate,type:i,connectionId:r},dst:n}))},t.oniceconnectionstatechange=()=>{switch(t.iceConnectionState){case"failed":oe.log("iceConnectionState is failed, closing connections to "+n),this.connection.emitError(Eu.NegotiationFailed,"Negotiation of connection to "+n+" failed."),this.connection.close();break;case"closed":oe.log("iceConnectionState is closed, closing connections to "+n),this.connection.emitError(Eu.ConnectionClosed,"Connection to "+n+" closed."),this.connection.close();break;case"disconnected":oe.log("iceConnectionState changed to disconnected on the connection with "+n);break;case"completed":t.onicecandidate=()=>{};break}this.connection.emit("iceStateChanged",t.iceConnectionState)},oe.log("Listening for data channel"),t.ondatachannel=o=>{oe.log("Received data channel");const s=o.channel;a.getConnection(n,r)._initializeDataChannel(s)},oe.log("Listening for remote stream"),t.ontrack=o=>{oe.log("Received remote stream");const s=o.streams[0],l=a.getConnection(n,r);if(l.type===vr.Media){const c=l;this._addStreamToMediaConnection(s,c)}}}cleanup(){oe.log("Cleaning up PeerConnection to "+this.connection.peer);const t=this.connection.peerConnection;if(!t)return;this.connection.peerConnection=null,t.onicecandidate=t.oniceconnectionstatechange=t.ondatachannel=t.ontrack=()=>{};const n=t.signalingState!=="closed";let r=!1;const i=this.connection.dataChannel;i&&(r=!!i.readyState&&i.readyState!=="closed"),(n||r)&&t.close()}async _makeOffer(){const t=this.connection.peerConnection,n=this.connection.provider;try{const r=await t.createOffer(this.connection.options.constraints);oe.log("Created offer."),this.connection.options.sdpTransform&&typeof this.connection.options.sdpTransform=="function"&&(r.sdp=this.connection.options.sdpTransform(r.sdp)||r.sdp);try{await t.setLocalDescription(r),oe.log("Set localDescription:",r,`for:${this.connection.peer}`);let i={sdp:r,type:this.connection.type,connectionId:this.connection.connectionId,metadata:this.connection.metadata};if(this.connection.type===vr.Data){const a=this.connection;i={...i,label:a.label,reliable:a.reliable,serialization:a.serialization}}n.socket.send({type:jt.Offer,payload:i,dst:this.connection.peer})}catch(i){i!="OperationError: Failed to set local offer sdp: Called in wrong state: kHaveRemoteOffer"&&(n.emitError(ut.WebRTC,i),oe.log("Failed to setLocalDescription, ",i))}}catch(r){n.emitError(ut.WebRTC,r),oe.log("Failed to createOffer, ",r)}}async _makeAnswer(){const t=this.connection.peerConnection,n=this.connection.provider;try{const r=await t.createAnswer();oe.log("Created answer."),this.connection.options.sdpTransform&&typeof this.connection.options.sdpTransform=="function"&&(r.sdp=this.connection.options.sdpTransform(r.sdp)||r.sdp);try{await t.setLocalDescription(r),oe.log("Set localDescription:",r,`for:${this.connection.peer}`),n.socket.send({type:jt.Answer,payload:{sdp:r,type:this.connection.type,connectionId:this.connection.connectionId},dst:this.connection.peer})}catch(i){n.emitError(ut.WebRTC,i),oe.log("Failed to setLocalDescription, ",i)}}catch(r){n.emitError(ut.WebRTC,r),oe.log("Failed to create answer, ",r)}}async handleSDP(t,n){n=new RTCSessionDescription(n);const r=this.connection.peerConnection,i=this.connection.provider;oe.log("Setting remote description",n);const a=this;try{await r.setRemoteDescription(n),oe.log(`Set remoteDescription:${t} for:${this.connection.peer}`),t==="OFFER"&&await a._makeAnswer()}catch(o){i.emitError(ut.WebRTC,o),oe.log("Failed to setRemoteDescription, ",o)}}async handleCandidate(t){oe.log("handleCandidate:",t);try{await this.connection.peerConnection.addIceCandidate(t),oe.log(`Added ICE candidate for:${this.connection.peer}`)}catch(n){this.connection.provider.emitError(ut.WebRTC,n),oe.log("Failed to handleCandidate, ",n)}}_addTracksToConnection(t,n){if(oe.log(`add tracks from stream ${t.id} to peer connection`),!n.addTrack)return oe.error("Your browser does't support RTCPeerConnection#addTrack. Ignored.");t.getTracks().forEach(r=>{n.addTrack(r,t)})}_addStreamToMediaConnection(t,n){oe.log(`add stream ${t.id} to media connection ${n.connectionId}`),n.addStream(t)}}class lg extends Ud.EventEmitter{emitError(t,n){oe.error("Error:",n),this.emit("error",new c_(`${t}`,n))}}class c_ extends Error{constructor(t,n){typeof n=="string"?super(n):(super(),Object.assign(this,n)),this.type=t}}class cg extends lg{get open(){return this._open}constructor(t,n,r){super(),this.peer=t,this.provider=n,this.options=r,this._open=!1,this.metadata=r.metadata}}var Nu;const Pa=class Pa extends cg{get type(){return vr.Media}get localStream(){return this._localStream}get remoteStream(){return this._remoteStream}constructor(t,n,r){super(t,n,r),this._localStream=this.options._stream,this.connectionId=this.options.connectionId||Pa.ID_PREFIX+Gt.randomToken(),this._negotiator=new sg(this),this._localStream&&this._negotiator.startConnection({_stream:this._localStream,originator:!0})}_initializeDataChannel(t){this.dataChannel=t,this.dataChannel.onopen=()=>{oe.log(`DC#${this.connectionId} dc connection success`),this.emit("willCloseOnRemote")},this.dataChannel.onclose=()=>{oe.log(`DC#${this.connectionId} dc closed for:`,this.peer),this.close()}}addStream(t){oe.log("Receiving stream",t),this._remoteStream=t,super.emit("stream",t)}handleMessage(t){const n=t.type,r=t.payload;switch(t.type){case jt.Answer:this._negotiator.handleSDP(n,r.sdp),this._open=!0;break;case jt.Candidate:this._negotiator.handleCandidate(r.candidate);break;default:oe.warn(`Unrecognized message type:${n} from peer:${this.peer}`);break}}answer(t,n={}){if(this._localStream){oe.warn("Local stream already exists on this MediaConnection. Are you answering a call twice?");return}this._localStream=t,n&&n.sdpTransform&&(this.options.sdpTransform=n.sdpTransform),this._negotiator.startConnection({...this.options._payload,_stream:t});const r=this.provider._getMessages(this.connectionId);for(const i of r)this.handleMessage(i);this._open=!0}close(){this._negotiator&&(this._negotiator.cleanup(),this._negotiator=null),this._localStream=null,this._remoteStream=null,this.provider&&(this.provider._removeConnection(this),this.provider=null),this.options&&this.options._stream&&(this.options._stream=null),this.open&&(this._open=!1,super.emit("close"))}};Nu=new WeakMap,Yi(Pa,Nu,Pa.ID_PREFIX="mc_");let Ss=Pa;class u_{constructor(t){this._options=t}_buildRequest(t){const n=this._options.secure?"https":"http",{host:r,port:i,path:a,key:o}=this._options,s=new URL(`${n}://${r}:${i}${a}${o}/${t}`);return s.searchParams.set("ts",`${Date.now()}${Math.random()}`),s.searchParams.set("version",og),fetch(s.href,{referrerPolicy:this._options.referrerPolicy})}async retrieveId(){try{const t=await this._buildRequest("id");if(t.status!==200)throw new Error(`Error. Status:${t.status}`);return t.text()}catch(t){oe.error("Error retrieving ID",t);let n="";throw this._options.path==="/"&&this._options.host!==Gt.CLOUD_HOST&&(n=" If you passed in a `path` to your self-hosted PeerServer, you'll also need to pass in that same path when creating a new Peer."),new Error("Could not get an ID from the server."+n)}}async listAllPeers(){try{const t=await this._buildRequest("peers");if(t.status!==200){if(t.status===401){let n="";throw this._options.host===Gt.CLOUD_HOST?n="It looks like you're using the cloud server. You can email team@peerjs.com to enable peer listing for your API key.":n="You need to enable `allow_discovery` on your self-hosted PeerServer to use this feature.",new Error("It doesn't look like you have permission to list peers IDs. "+n)}throw new Error(`Error. Status:${t.status}`)}return t.json()}catch(t){throw oe.error("Error retrieving list peers",t),new Error("Could not get list peers from the server."+t)}}}var $u,Uu;const Mr=class Mr extends cg{get type(){return vr.Data}constructor(t,n,r){super(t,n,r),this.connectionId=this.options.connectionId||Mr.ID_PREFIX+ig(),this.label=this.options.label||this.connectionId,this.reliable=!!this.options.reliable,this._negotiator=new sg(this),this._negotiator.startConnection(this.options._payload||{originator:!0,reliable:this.reliable})}_initializeDataChannel(t){this.dataChannel=t,this.dataChannel.onopen=()=>{oe.log(`DC#${this.connectionId} dc connection success`),this._open=!0,this.emit("open")},this.dataChannel.onmessage=n=>{oe.log(`DC#${this.connectionId} dc onmessage:`,n.data)},this.dataChannel.onclose=()=>{oe.log(`DC#${this.connectionId} dc closed for:`,this.peer),this.close()}}close(t){if(t!=null&&t.flush){this.send({__peerData:{type:"close"}});return}this._negotiator&&(this._negotiator.cleanup(),this._negotiator=null),this.provider&&(this.provider._removeConnection(this),this.provider=null),this.dataChannel&&(this.dataChannel.onopen=null,this.dataChannel.onmessage=null,this.dataChannel.onclose=null,this.dataChannel=null),this.open&&(this._open=!1,super.emit("close"))}send(t,n=!1){if(!this.open){this.emitError(Jd.NotOpenYet,"Connection is not open. You should listen for the `open` event before sending messages.");return}return this._send(t,n)}async handleMessage(t){const n=t.payload;switch(t.type){case jt.Answer:await this._negotiator.handleSDP(t.type,n.sdp);break;case jt.Candidate:await this._negotiator.handleCandidate(n.candidate);break;default:oe.warn("Unrecognized message type:",t.type,"from peer:",this.peer);break}}};$u=new WeakMap,Uu=new WeakMap,Yi(Mr,$u,Mr.ID_PREFIX="dc_"),Yi(Mr,Uu,Mr.MAX_BUFFERED_AMOUNT=8388608);let Es=Mr;class zd extends Es{get bufferSize(){return this._bufferSize}_initializeDataChannel(t){super._initializeDataChannel(t),this.dataChannel.binaryType="arraybuffer",this.dataChannel.addEventListener("message",n=>this._handleDataMessage(n))}_bufferedSend(t){(this._buffering||!this._trySend(t))&&(this._buffer.push(t),this._bufferSize=this._buffer.length)}_trySend(t){if(!this.open)return!1;if(this.dataChannel.bufferedAmount>Es.MAX_BUFFERED_AMOUNT)return this._buffering=!0,setTimeout(()=>{this._buffering=!1,this._tryBuffer()},50),!1;try{this.dataChannel.send(t)}catch(n){return oe.error(`DC#:${this.connectionId} Error when sending:`,n),this._buffering=!0,this.close(),!1}return!0}_tryBuffer(){if(!this.open||this._buffer.length===0)return;const t=this._buffer[0];this._trySend(t)&&(this._buffer.shift(),this._bufferSize=this._buffer.length,this._tryBuffer())}close(t){if(t!=null&&t.flush){this.send({__peerData:{type:"close"}});return}this._buffer=[],this._bufferSize=0,super.close()}constructor(...t){super(...t),this._buffer=[],this._bufferSize=0,this._buffering=!1}}class Rl extends zd{close(t){super.close(t),this._chunkedData={}}constructor(t,n,r){super(t,n,r),this.chunker=new rg,this.serialization=qs.Binary,this._chunkedData={}}_handleDataMessage({data:t}){const n=by(t),r=n.__peerData;if(r){if(r.type==="close"){this.close();return}this._handleChunk(n);return}this.emit("data",n)}_handleChunk(t){const n=t.__peerData,r=this._chunkedData[n]||{data:[],count:0,total:t.total};if(r.data[t.n]=new Uint8Array(t.data),r.count++,this._chunkedData[n]=r,r.total===r.count){delete this._chunkedData[n];const i=t_(r.data);this._handleDataMessage({data:i})}}_send(t,n){const r=wy(t);if(r instanceof Promise)return this._send_blob(r);if(!n&&r.byteLength>this.chunker.chunkedMTU){this._sendChunks(r);return}this._bufferedSend(r)}async _send_blob(t){const n=await t;if(n.byteLength>this.chunker.chunkedMTU){this._sendChunks(n);return}this._bufferedSend(n)}_sendChunks(t){const n=this.chunker.chunk(t);oe.log(`DC#${this.connectionId} Try to send ${n.length} chunks...`);for(const r of n)this.send(r,!0)}}class d_ extends zd{_handleDataMessage({data:t}){super.emit("data",t)}_send(t,n){this._bufferedSend(t)}constructor(...t){super(...t),this.serialization=qs.None}}class h_ extends zd{_handleDataMessage({data:t}){const n=this.parse(this.decoder.decode(t)),r=n.__peerData;if(r&&r.type==="close"){this.close();return}this.emit("data",n)}_send(t,n){const r=this.encoder.encode(this.stringify(t));if(r.byteLength>=Gt.chunkedMTU){this.emitError(Jd.MessageToBig,"Message too big for JSON channel");return}this._bufferedSend(r)}constructor(...t){super(...t),this.serialization=qs.JSON,this.encoder=new TextEncoder,this.decoder=new TextDecoder,this.stringify=JSON.stringify,this.parse=JSON.parse}}var Ju;const Ta=class Ta extends lg{get id(){return this._id}get options(){return this._options}get open(){return this._open}get socket(){return this._socket}get connections(){const t=Object.create(null);for(const[n,r]of this._connections)t[n]=r;return t}get destroyed(){return this._destroyed}get disconnected(){return this._disconnected}constructor(t,n){super(),this._serializers={raw:d_,json:h_,binary:Rl,"binary-utf8":Rl,default:Rl},this._id=null,this._lastServerId=null,this._destroyed=!1,this._disconnected=!1,this._open=!1,this._connections=new Map,this._lostMessages=new Map;let r;if(t&&t.constructor==Object?n=t:t&&(r=t.toString()),n={debug:0,host:Gt.CLOUD_HOST,port:Gt.CLOUD_PORT,path:"/",key:Ta.DEFAULT_KEY,token:Gt.randomToken(),config:Gt.defaultConfig,referrerPolicy:"strict-origin-when-cross-origin",serializers:{},...n},this._options=n,this._serializers={...this._serializers,...this.options.serializers},this._options.host==="/"&&(this._options.host=window.location.hostname),this._options.path&&(this._options.path[0]!=="/"&&(this._options.path="/"+this._options.path),this._options.path[this._options.path.length-1]!=="/"&&(this._options.path+="/")),this._options.secure===void 0&&this._options.host!==Gt.CLOUD_HOST?this._options.secure=Gt.isSecure():this._options.host==Gt.CLOUD_HOST&&(this._options.secure=!0),this._options.logFunction&&oe.setLogFunction(this._options.logFunction),oe.logLevel=this._options.debug||0,this._api=new u_(n),this._socket=this._createServerConnection(),!Gt.supports.audioVideo&&!Gt.supports.data){this._delayedAbort(ut.BrowserIncompatible,"The current browser does not support WebRTC");return}if(r&&!Gt.validateId(r)){this._delayedAbort(ut.InvalidID,`ID "${r}" is invalid`);return}r?this._initialize(r):this._api.retrieveId().then(i=>this._initialize(i)).catch(i=>this._abort(ut.ServerError,i))}_createServerConnection(){const t=new l_(this._options.secure,this._options.host,this._options.port,this._options.path,this._options.key,this._options.pingInterval);return t.on(cr.Message,n=>{this._handleMessage(n)}),t.on(cr.Error,n=>{this._abort(ut.SocketError,n)}),t.on(cr.Disconnected,()=>{this.disconnected||(this.emitError(ut.Network,"Lost connection to server."),this.disconnect())}),t.on(cr.Close,()=>{this.disconnected||this._abort(ut.SocketClosed,"Underlying socket is already closed.")}),t}_initialize(t){this._id=t,this.socket.start(t,this._options.token)}_handleMessage(t){const n=t.type,r=t.payload,i=t.src;switch(n){case jt.Open:this._lastServerId=this.id,this._open=!0,this.emit("open",this.id);break;case jt.Error:this._abort(ut.ServerError,r.msg);break;case jt.IdTaken:this._abort(ut.UnavailableID,`ID "${this.id}" is taken`);break;case jt.InvalidKey:this._abort(ut.InvalidKey,`API KEY "${this._options.key}" is invalid`);break;case jt.Leave:oe.log(`Received leave message from ${i}`),this._cleanupPeer(i),this._connections.delete(i);break;case jt.Expire:this.emitError(ut.PeerUnavailable,`Could not connect to peer ${i}`);break;case jt.Offer:{const a=r.connectionId;let o=this.getConnection(i,a);if(o&&(o.close(),oe.warn(`Offer received for existing Connection ID:${a}`)),r.type===vr.Media){const l=new Ss(i,this,{connectionId:a,_payload:r,metadata:r.metadata});o=l,this._addConnection(i,o),this.emit("call",l)}else if(r.type===vr.Data){const l=new this._serializers[r.serialization](i,this,{connectionId:a,_payload:r,metadata:r.metadata,label:r.label,serialization:r.serialization,reliable:r.reliable});o=l,this._addConnection(i,o),this.emit("connection",l)}else{oe.warn(`Received malformed connection type:${r.type}`);return}const s=this._getMessages(a);for(const l of s)o.handleMessage(l);break}default:{if(!r){oe.warn(`You received a malformed message from ${i} of type ${n}`);return}const a=r.connectionId,o=this.getConnection(i,a);o&&o.peerConnection?o.handleMessage(t):a?this._storeMessage(a,t):oe.warn("You received an unrecognized message:",t);break}}}_storeMessage(t,n){this._lostMessages.has(t)||this._lostMessages.set(t,[]),this._lostMessages.get(t).push(n)}_getMessages(t){const n=this._lostMessages.get(t);return n?(this._lostMessages.delete(t),n):[]}connect(t,n={}){if(n={serialization:"default",...n},this.disconnected){oe.warn("You cannot connect to a new Peer because you called .disconnect() on this Peer and ended your connection with the server. You can create a new Peer to reconnect, or call reconnect on this peer if you believe its ID to still be available."),this.emitError(ut.Disconnected,"Cannot connect to new Peer after disconnecting from server.");return}const r=new this._serializers[n.serialization](t,this,n);return this._addConnection(t,r),r}call(t,n,r={}){if(this.disconnected){oe.warn("You cannot connect to a new Peer because you called .disconnect() on this Peer and ended your connection with the server. You can create a new Peer to reconnect."),this.emitError(ut.Disconnected,"Cannot connect to new Peer after disconnecting from server.");return}if(!n){oe.error("To call a peer, you must provide a stream from your browser's `getUserMedia`.");return}const i=new Ss(t,this,{...r,_stream:n});return this._addConnection(t,i),i}_addConnection(t,n){oe.log(`add connection ${n.type}:${n.connectionId} to peerId:${t}`),this._connections.has(t)||this._connections.set(t,[]),this._connections.get(t).push(n)}_removeConnection(t){const n=this._connections.get(t.peer);if(n){const r=n.indexOf(t);r!==-1&&n.splice(r,1)}this._lostMessages.delete(t.connectionId)}getConnection(t,n){const r=this._connections.get(t);if(!r)return null;for(const i of r)if(i.connectionId===n)return i;return null}_delayedAbort(t,n){setTimeout(()=>{this._abort(t,n)},0)}_abort(t,n){oe.error("Aborting!"),this.emitError(t,n),this._lastServerId?this.disconnect():this.destroy()}destroy(){this.destroyed||(oe.log(`Destroy peer with ID:${this.id}`),this.disconnect(),this._cleanup(),this._destroyed=!0,this.emit("close"))}_cleanup(){for(const t of this._connections.keys())this._cleanupPeer(t),this._connections.delete(t);this.socket.removeAllListeners()}_cleanupPeer(t){const n=this._connections.get(t);if(n)for(const r of n)r.close()}disconnect(){if(this.disconnected)return;const t=this.id;oe.log(`Disconnect peer with ID:${t}`),this._disconnected=!0,this._open=!1,this.socket.close(),this._lastServerId=t,this._id=null,this.emit("disconnected",t)}reconnect(){if(this.disconnected&&!this.destroyed)oe.log(`Attempting reconnection to server with ID ${this._lastServerId}`),this._disconnected=!1,this._initialize(this._lastServerId);else{if(this.destroyed)throw new Error("This peer cannot reconnect to the server. It has already been destroyed.");if(!this.disconnected&&!this.open)oe.error("In a hurry? We're still trying to make the initial connection!");else throw new Error(`Peer ${this.id} cannot reconnect because it is not disconnected from the server!`)}}listAllPeers(t=n=>{}){this._api.listAllPeers().then(n=>t(n)).catch(n=>this._abort(ut.ServerError,n))}};Ju=new WeakMap,Yi(Ta,Ju,Ta.DEFAULT_KEY="peerjs");let Au=Ta;var ug=Au,dg={exports:{}};function f_(e){throw new Error('Could not dynamically require "'+e+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var Pl={exports:{}};const p_={},m_=Object.freeze(Object.defineProperty({__proto__:null,default:p_},Symbol.toStringTag,{value:"Module"})),y_=Ig(m_);var Lh;function Ee(){return Lh||(Lh=1,function(e,t){(function(n,r){e.exports=r()})(Ce,function(){var n=n||function(r,i){var a;if(typeof window<"u"&&window.crypto&&(a=window.crypto),typeof self<"u"&&self.crypto&&(a=self.crypto),typeof globalThis<"u"&&globalThis.crypto&&(a=globalThis.crypto),!a&&typeof window<"u"&&window.msCrypto&&(a=window.msCrypto),!a&&typeof Ce<"u"&&Ce.crypto&&(a=Ce.crypto),!a&&typeof f_=="function")try{a=y_}catch{}var o=function(){if(a){if(typeof a.getRandomValues=="function")try{return a.getRandomValues(new Uint32Array(1))[0]}catch{}if(typeof a.randomBytes=="function")try{return a.randomBytes(4).readInt32LE()}catch{}}throw new Error("Native crypto module could not be used to get secure random number.")},s=Object.create||function(){function y(){}return function(h){var p;return y.prototype=h,p=new y,y.prototype=null,p}}(),l={},c=l.lib={},u=c.Base=function(){return{extend:function(y){var h=s(this);return y&&h.mixIn(y),(!h.hasOwnProperty("init")||this.init===h.init)&&(h.init=function(){h.$super.init.apply(this,arguments)}),h.init.prototype=h,h.$super=this,h},create:function(){var y=this.extend();return y.init.apply(y,arguments),y},init:function(){},mixIn:function(y){for(var h in y)y.hasOwnProperty(h)&&(this[h]=y[h]);y.hasOwnProperty("toString")&&(this.toString=y.toString)},clone:function(){return this.init.prototype.extend(this)}}}(),m=c.WordArray=u.extend({init:function(y,h){y=this.words=y||[],h!=i?this.sigBytes=h:this.sigBytes=y.length*4},toString:function(y){return(y||g).stringify(this)},concat:function(y){var h=this.words,p=y.words,w=this.sigBytes,S=y.sigBytes;if(this.clamp(),w%4)for(var k=0;k<S;k++){var A=p[k>>>2]>>>24-k%4*8&255;h[w+k>>>2]|=A<<24-(w+k)%4*8}else for(var j=0;j<S;j+=4)h[w+j>>>2]=p[j>>>2];return this.sigBytes+=S,this},clamp:function(){var y=this.words,h=this.sigBytes;y[h>>>2]&=4294967295<<32-h%4*8,y.length=r.ceil(h/4)},clone:function(){var y=u.clone.call(this);return y.words=this.words.slice(0),y},random:function(y){for(var h=[],p=0;p<y;p+=4)h.push(o());return new m.init(h,y)}}),f=l.enc={},g=f.Hex={stringify:function(y){for(var h=y.words,p=y.sigBytes,w=[],S=0;S<p;S++){var k=h[S>>>2]>>>24-S%4*8&255;w.push((k>>>4).toString(16)),w.push((k&15).toString(16))}return w.join("")},parse:function(y){for(var h=y.length,p=[],w=0;w<h;w+=2)p[w>>>3]|=parseInt(y.substr(w,2),16)<<24-w%8*4;return new m.init(p,h/2)}},v=f.Latin1={stringify:function(y){for(var h=y.words,p=y.sigBytes,w=[],S=0;S<p;S++){var k=h[S>>>2]>>>24-S%4*8&255;w.push(String.fromCharCode(k))}return w.join("")},parse:function(y){for(var h=y.length,p=[],w=0;w<h;w++)p[w>>>2]|=(y.charCodeAt(w)&255)<<24-w%4*8;return new m.init(p,h)}},C=f.Utf8={stringify:function(y){try{return decodeURIComponent(escape(v.stringify(y)))}catch{throw new Error("Malformed UTF-8 data")}},parse:function(y){return v.parse(unescape(encodeURIComponent(y)))}},_=c.BufferedBlockAlgorithm=u.extend({reset:function(){this._data=new m.init,this._nDataBytes=0},_append:function(y){typeof y=="string"&&(y=C.parse(y)),this._data.concat(y),this._nDataBytes+=y.sigBytes},_process:function(y){var h,p=this._data,w=p.words,S=p.sigBytes,k=this.blockSize,A=k*4,j=S/A;y?j=r.ceil(j):j=r.max((j|0)-this._minBufferSize,0);var b=j*k,P=r.min(b*4,S);if(b){for(var R=0;R<b;R+=k)this._doProcessBlock(w,R);h=w.splice(0,b),p.sigBytes-=P}return new m.init(h,P)},clone:function(){var y=u.clone.call(this);return y._data=this._data.clone(),y},_minBufferSize:0});c.Hasher=_.extend({cfg:u.extend(),init:function(y){this.cfg=this.cfg.extend(y),this.reset()},reset:function(){_.reset.call(this),this._doReset()},update:function(y){return this._append(y),this._process(),this},finalize:function(y){y&&this._append(y);var h=this._doFinalize();return h},blockSize:16,_createHelper:function(y){return function(h,p){return new y.init(p).finalize(h)}},_createHmacHelper:function(y){return function(h,p){return new x.HMAC.init(y,p).finalize(h)}}});var x=l.algo={};return l}(Math);return n})}(Pl)),Pl.exports}var Tl={exports:{}},Nh;function Vs(){return Nh||(Nh=1,function(e,t){(function(n,r){e.exports=r(Ee())})(Ce,function(n){return function(r){var i=n,a=i.lib,o=a.Base,s=a.WordArray,l=i.x64={};l.Word=o.extend({init:function(c,u){this.high=c,this.low=u}}),l.WordArray=o.extend({init:function(c,u){c=this.words=c||[],u!=r?this.sigBytes=u:this.sigBytes=c.length*8},toX32:function(){for(var c=this.words,u=c.length,m=[],f=0;f<u;f++){var g=c[f];m.push(g.high),m.push(g.low)}return s.create(m,this.sigBytes)},clone:function(){for(var c=o.clone.call(this),u=c.words=this.words.slice(0),m=u.length,f=0;f<m;f++)u[f]=u[f].clone();return c}})}(),n})}(Tl)),Tl.exports}var Dl={exports:{}},$h;function g_(){return $h||($h=1,function(e,t){(function(n,r){e.exports=r(Ee())})(Ce,function(n){return function(){if(typeof ArrayBuffer=="function"){var r=n,i=r.lib,a=i.WordArray,o=a.init,s=a.init=function(l){if(l instanceof ArrayBuffer&&(l=new Uint8Array(l)),(l instanceof Int8Array||typeof Uint8ClampedArray<"u"&&l instanceof Uint8ClampedArray||l instanceof Int16Array||l instanceof Uint16Array||l instanceof Int32Array||l instanceof Uint32Array||l instanceof Float32Array||l instanceof Float64Array)&&(l=new Uint8Array(l.buffer,l.byteOffset,l.byteLength)),l instanceof Uint8Array){for(var c=l.byteLength,u=[],m=0;m<c;m++)u[m>>>2]|=l[m]<<24-m%4*8;o.call(this,u,c)}else o.apply(this,arguments)};s.prototype=a}}(),n.lib.WordArray})}(Dl)),Dl.exports}var jl={exports:{}},Uh;function v_(){return Uh||(Uh=1,function(e,t){(function(n,r){e.exports=r(Ee())})(Ce,function(n){return function(){var r=n,i=r.lib,a=i.WordArray,o=r.enc;o.Utf16=o.Utf16BE={stringify:function(l){for(var c=l.words,u=l.sigBytes,m=[],f=0;f<u;f+=2){var g=c[f>>>2]>>>16-f%4*8&65535;m.push(String.fromCharCode(g))}return m.join("")},parse:function(l){for(var c=l.length,u=[],m=0;m<c;m++)u[m>>>1]|=l.charCodeAt(m)<<16-m%2*16;return a.create(u,c*2)}},o.Utf16LE={stringify:function(l){for(var c=l.words,u=l.sigBytes,m=[],f=0;f<u;f+=2){var g=s(c[f>>>2]>>>16-f%4*8&65535);m.push(String.fromCharCode(g))}return m.join("")},parse:function(l){for(var c=l.length,u=[],m=0;m<c;m++)u[m>>>1]|=s(l.charCodeAt(m)<<16-m%2*16);return a.create(u,c*2)}};function s(l){return l<<8&4278255360|l>>>8&16711935}}(),n.enc.Utf16})}(jl)),jl.exports}var Bl={exports:{}},Jh;function ei(){return Jh||(Jh=1,function(e,t){(function(n,r){e.exports=r(Ee())})(Ce,function(n){return function(){var r=n,i=r.lib,a=i.WordArray,o=r.enc;o.Base64={stringify:function(l){var c=l.words,u=l.sigBytes,m=this._map;l.clamp();for(var f=[],g=0;g<u;g+=3)for(var v=c[g>>>2]>>>24-g%4*8&255,C=c[g+1>>>2]>>>24-(g+1)%4*8&255,_=c[g+2>>>2]>>>24-(g+2)%4*8&255,x=v<<16|C<<8|_,y=0;y<4&&g+y*.75<u;y++)f.push(m.charAt(x>>>6*(3-y)&63));var h=m.charAt(64);if(h)for(;f.length%4;)f.push(h);return f.join("")},parse:function(l){var c=l.length,u=this._map,m=this._reverseMap;if(!m){m=this._reverseMap=[];for(var f=0;f<u.length;f++)m[u.charCodeAt(f)]=f}var g=u.charAt(64);if(g){var v=l.indexOf(g);v!==-1&&(c=v)}return s(l,c,m)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="};function s(l,c,u){for(var m=[],f=0,g=0;g<c;g++)if(g%4){var v=u[l.charCodeAt(g-1)]<<g%4*2,C=u[l.charCodeAt(g)]>>>6-g%4*2,_=v|C;m[f>>>2]|=_<<24-f%4*8,f++}return a.create(m,f)}}(),n.enc.Base64})}(Bl)),Bl.exports}var Fl={exports:{}},zh;function x_(){return zh||(zh=1,function(e,t){(function(n,r){e.exports=r(Ee())})(Ce,function(n){return function(){var r=n,i=r.lib,a=i.WordArray,o=r.enc;o.Base64url={stringify:function(l,c){c===void 0&&(c=!0);var u=l.words,m=l.sigBytes,f=c?this._safe_map:this._map;l.clamp();for(var g=[],v=0;v<m;v+=3)for(var C=u[v>>>2]>>>24-v%4*8&255,_=u[v+1>>>2]>>>24-(v+1)%4*8&255,x=u[v+2>>>2]>>>24-(v+2)%4*8&255,y=C<<16|_<<8|x,h=0;h<4&&v+h*.75<m;h++)g.push(f.charAt(y>>>6*(3-h)&63));var p=f.charAt(64);if(p)for(;g.length%4;)g.push(p);return g.join("")},parse:function(l,c){c===void 0&&(c=!0);var u=l.length,m=c?this._safe_map:this._map,f=this._reverseMap;if(!f){f=this._reverseMap=[];for(var g=0;g<m.length;g++)f[m.charCodeAt(g)]=g}var v=m.charAt(64);if(v){var C=l.indexOf(v);C!==-1&&(u=C)}return s(l,u,f)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",_safe_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"};function s(l,c,u){for(var m=[],f=0,g=0;g<c;g++)if(g%4){var v=u[l.charCodeAt(g-1)]<<g%4*2,C=u[l.charCodeAt(g)]>>>6-g%4*2,_=v|C;m[f>>>2]|=_<<24-f%4*8,f++}return a.create(m,f)}}(),n.enc.Base64url})}(Fl)),Fl.exports}var Ml={exports:{}},Kh;function ti(){return Kh||(Kh=1,function(e,t){(function(n,r){e.exports=r(Ee())})(Ce,function(n){return function(r){var i=n,a=i.lib,o=a.WordArray,s=a.Hasher,l=i.algo,c=[];(function(){for(var C=0;C<64;C++)c[C]=r.abs(r.sin(C+1))*4294967296|0})();var u=l.MD5=s.extend({_doReset:function(){this._hash=new o.init([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function(C,_){for(var x=0;x<16;x++){var y=_+x,h=C[y];C[y]=(h<<8|h>>>24)&16711935|(h<<24|h>>>8)&4278255360}var p=this._hash.words,w=C[_+0],S=C[_+1],k=C[_+2],A=C[_+3],j=C[_+4],b=C[_+5],P=C[_+6],R=C[_+7],D=C[_+8],E=C[_+9],J=C[_+10],K=C[_+11],z=C[_+12],F=C[_+13],H=C[_+14],U=C[_+15],T=p[0],O=p[1],$=p[2],B=p[3];T=m(T,O,$,B,w,7,c[0]),B=m(B,T,O,$,S,12,c[1]),$=m($,B,T,O,k,17,c[2]),O=m(O,$,B,T,A,22,c[3]),T=m(T,O,$,B,j,7,c[4]),B=m(B,T,O,$,b,12,c[5]),$=m($,B,T,O,P,17,c[6]),O=m(O,$,B,T,R,22,c[7]),T=m(T,O,$,B,D,7,c[8]),B=m(B,T,O,$,E,12,c[9]),$=m($,B,T,O,J,17,c[10]),O=m(O,$,B,T,K,22,c[11]),T=m(T,O,$,B,z,7,c[12]),B=m(B,T,O,$,F,12,c[13]),$=m($,B,T,O,H,17,c[14]),O=m(O,$,B,T,U,22,c[15]),T=f(T,O,$,B,S,5,c[16]),B=f(B,T,O,$,P,9,c[17]),$=f($,B,T,O,K,14,c[18]),O=f(O,$,B,T,w,20,c[19]),T=f(T,O,$,B,b,5,c[20]),B=f(B,T,O,$,J,9,c[21]),$=f($,B,T,O,U,14,c[22]),O=f(O,$,B,T,j,20,c[23]),T=f(T,O,$,B,E,5,c[24]),B=f(B,T,O,$,H,9,c[25]),$=f($,B,T,O,A,14,c[26]),O=f(O,$,B,T,D,20,c[27]),T=f(T,O,$,B,F,5,c[28]),B=f(B,T,O,$,k,9,c[29]),$=f($,B,T,O,R,14,c[30]),O=f(O,$,B,T,z,20,c[31]),T=g(T,O,$,B,b,4,c[32]),B=g(B,T,O,$,D,11,c[33]),$=g($,B,T,O,K,16,c[34]),O=g(O,$,B,T,H,23,c[35]),T=g(T,O,$,B,S,4,c[36]),B=g(B,T,O,$,j,11,c[37]),$=g($,B,T,O,R,16,c[38]),O=g(O,$,B,T,J,23,c[39]),T=g(T,O,$,B,F,4,c[40]),B=g(B,T,O,$,w,11,c[41]),$=g($,B,T,O,A,16,c[42]),O=g(O,$,B,T,P,23,c[43]),T=g(T,O,$,B,E,4,c[44]),B=g(B,T,O,$,z,11,c[45]),$=g($,B,T,O,U,16,c[46]),O=g(O,$,B,T,k,23,c[47]),T=v(T,O,$,B,w,6,c[48]),B=v(B,T,O,$,R,10,c[49]),$=v($,B,T,O,H,15,c[50]),O=v(O,$,B,T,b,21,c[51]),T=v(T,O,$,B,z,6,c[52]),B=v(B,T,O,$,A,10,c[53]),$=v($,B,T,O,J,15,c[54]),O=v(O,$,B,T,S,21,c[55]),T=v(T,O,$,B,D,6,c[56]),B=v(B,T,O,$,U,10,c[57]),$=v($,B,T,O,P,15,c[58]),O=v(O,$,B,T,F,21,c[59]),T=v(T,O,$,B,j,6,c[60]),B=v(B,T,O,$,K,10,c[61]),$=v($,B,T,O,k,15,c[62]),O=v(O,$,B,T,E,21,c[63]),p[0]=p[0]+T|0,p[1]=p[1]+O|0,p[2]=p[2]+$|0,p[3]=p[3]+B|0},_doFinalize:function(){var C=this._data,_=C.words,x=this._nDataBytes*8,y=C.sigBytes*8;_[y>>>5]|=128<<24-y%32;var h=r.floor(x/4294967296),p=x;_[(y+64>>>9<<4)+15]=(h<<8|h>>>24)&16711935|(h<<24|h>>>8)&4278255360,_[(y+64>>>9<<4)+14]=(p<<8|p>>>24)&16711935|(p<<24|p>>>8)&4278255360,C.sigBytes=(_.length+1)*4,this._process();for(var w=this._hash,S=w.words,k=0;k<4;k++){var A=S[k];S[k]=(A<<8|A>>>24)&16711935|(A<<24|A>>>8)&4278255360}return w},clone:function(){var C=s.clone.call(this);return C._hash=this._hash.clone(),C}});function m(C,_,x,y,h,p,w){var S=C+(_&x|~_&y)+h+w;return(S<<p|S>>>32-p)+_}function f(C,_,x,y,h,p,w){var S=C+(_&y|x&~y)+h+w;return(S<<p|S>>>32-p)+_}function g(C,_,x,y,h,p,w){var S=C+(_^x^y)+h+w;return(S<<p|S>>>32-p)+_}function v(C,_,x,y,h,p,w){var S=C+(x^(_|~y))+h+w;return(S<<p|S>>>32-p)+_}i.MD5=s._createHelper(u),i.HmacMD5=s._createHmacHelper(u)}(Math),n.MD5})}(Ml)),Ml.exports}var Ol={exports:{}},Hh;function hg(){return Hh||(Hh=1,function(e,t){(function(n,r){e.exports=r(Ee())})(Ce,function(n){return function(){var r=n,i=r.lib,a=i.WordArray,o=i.Hasher,s=r.algo,l=[],c=s.SHA1=o.extend({_doReset:function(){this._hash=new a.init([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(u,m){for(var f=this._hash.words,g=f[0],v=f[1],C=f[2],_=f[3],x=f[4],y=0;y<80;y++){if(y<16)l[y]=u[m+y]|0;else{var h=l[y-3]^l[y-8]^l[y-14]^l[y-16];l[y]=h<<1|h>>>31}var p=(g<<5|g>>>27)+x+l[y];y<20?p+=(v&C|~v&_)+1518500249:y<40?p+=(v^C^_)+1859775393:y<60?p+=(v&C|v&_|C&_)-1894007588:p+=(v^C^_)-899497514,x=_,_=C,C=v<<30|v>>>2,v=g,g=p}f[0]=f[0]+g|0,f[1]=f[1]+v|0,f[2]=f[2]+C|0,f[3]=f[3]+_|0,f[4]=f[4]+x|0},_doFinalize:function(){var u=this._data,m=u.words,f=this._nDataBytes*8,g=u.sigBytes*8;return m[g>>>5]|=128<<24-g%32,m[(g+64>>>9<<4)+14]=Math.floor(f/4294967296),m[(g+64>>>9<<4)+15]=f,u.sigBytes=m.length*4,this._process(),this._hash},clone:function(){var u=o.clone.call(this);return u._hash=this._hash.clone(),u}});r.SHA1=o._createHelper(c),r.HmacSHA1=o._createHmacHelper(c)}(),n.SHA1})}(Ol)),Ol.exports}var Il={exports:{}},Gh;function Kd(){return Gh||(Gh=1,function(e,t){(function(n,r){e.exports=r(Ee())})(Ce,function(n){return function(r){var i=n,a=i.lib,o=a.WordArray,s=a.Hasher,l=i.algo,c=[],u=[];(function(){function g(x){for(var y=r.sqrt(x),h=2;h<=y;h++)if(!(x%h))return!1;return!0}function v(x){return(x-(x|0))*4294967296|0}for(var C=2,_=0;_<64;)g(C)&&(_<8&&(c[_]=v(r.pow(C,1/2))),u[_]=v(r.pow(C,1/3)),_++),C++})();var m=[],f=l.SHA256=s.extend({_doReset:function(){this._hash=new o.init(c.slice(0))},_doProcessBlock:function(g,v){for(var C=this._hash.words,_=C[0],x=C[1],y=C[2],h=C[3],p=C[4],w=C[5],S=C[6],k=C[7],A=0;A<64;A++){if(A<16)m[A]=g[v+A]|0;else{var j=m[A-15],b=(j<<25|j>>>7)^(j<<14|j>>>18)^j>>>3,P=m[A-2],R=(P<<15|P>>>17)^(P<<13|P>>>19)^P>>>10;m[A]=b+m[A-7]+R+m[A-16]}var D=p&w^~p&S,E=_&x^_&y^x&y,J=(_<<30|_>>>2)^(_<<19|_>>>13)^(_<<10|_>>>22),K=(p<<26|p>>>6)^(p<<21|p>>>11)^(p<<7|p>>>25),z=k+K+D+u[A]+m[A],F=J+E;k=S,S=w,w=p,p=h+z|0,h=y,y=x,x=_,_=z+F|0}C[0]=C[0]+_|0,C[1]=C[1]+x|0,C[2]=C[2]+y|0,C[3]=C[3]+h|0,C[4]=C[4]+p|0,C[5]=C[5]+w|0,C[6]=C[6]+S|0,C[7]=C[7]+k|0},_doFinalize:function(){var g=this._data,v=g.words,C=this._nDataBytes*8,_=g.sigBytes*8;return v[_>>>5]|=128<<24-_%32,v[(_+64>>>9<<4)+14]=r.floor(C/4294967296),v[(_+64>>>9<<4)+15]=C,g.sigBytes=v.length*4,this._process(),this._hash},clone:function(){var g=s.clone.call(this);return g._hash=this._hash.clone(),g}});i.SHA256=s._createHelper(f),i.HmacSHA256=s._createHmacHelper(f)}(Math),n.SHA256})}(Il)),Il.exports}var Ll={exports:{}},qh;function C_(){return qh||(qh=1,function(e,t){(function(n,r,i){e.exports=r(Ee(),Kd())})(Ce,function(n){return function(){var r=n,i=r.lib,a=i.WordArray,o=r.algo,s=o.SHA256,l=o.SHA224=s.extend({_doReset:function(){this._hash=new a.init([3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428])},_doFinalize:function(){var c=s._doFinalize.call(this);return c.sigBytes-=4,c}});r.SHA224=s._createHelper(l),r.HmacSHA224=s._createHmacHelper(l)}(),n.SHA224})}(Ll)),Ll.exports}var Nl={exports:{}},Vh;function fg(){return Vh||(Vh=1,function(e,t){(function(n,r,i){e.exports=r(Ee(),Vs())})(Ce,function(n){return function(){var r=n,i=r.lib,a=i.Hasher,o=r.x64,s=o.Word,l=o.WordArray,c=r.algo;function u(){return s.create.apply(s,arguments)}var m=[u(1116352408,3609767458),u(1899447441,602891725),u(3049323471,3964484399),u(3921009573,2173295548),u(961987163,4081628472),u(1508970993,3053834265),u(2453635748,2937671579),u(2870763221,3664609560),u(3624381080,2734883394),u(310598401,1164996542),u(607225278,1323610764),u(1426881987,3590304994),u(1925078388,4068182383),u(2162078206,991336113),u(2614888103,633803317),u(3248222580,3479774868),u(3835390401,2666613458),u(4022224774,944711139),u(264347078,2341262773),u(604807628,2007800933),u(770255983,1495990901),u(1249150122,1856431235),u(1555081692,3175218132),u(1996064986,2198950837),u(2554220882,3999719339),u(2821834349,766784016),u(2952996808,2566594879),u(3210313671,3203337956),u(3336571891,1034457026),u(3584528711,2466948901),u(113926993,3758326383),u(338241895,168717936),u(666307205,1188179964),u(773529912,1546045734),u(1294757372,1522805485),u(1396182291,2643833823),u(1695183700,2343527390),u(1986661051,1014477480),u(2177026350,1206759142),u(2456956037,344077627),u(2730485921,1290863460),u(2820302411,3158454273),u(3259730800,3505952657),u(3345764771,106217008),u(3516065817,3606008344),u(3600352804,1432725776),u(4094571909,1467031594),u(275423344,851169720),u(430227734,3100823752),u(506948616,1363258195),u(659060556,3750685593),u(883997877,3785050280),u(958139571,3318307427),u(1322822218,3812723403),u(1537002063,2003034995),u(1747873779,3602036899),u(1955562222,1575990012),u(2024104815,1125592928),u(2227730452,2716904306),u(2361852424,442776044),u(2428436474,593698344),u(2756734187,3733110249),u(3204031479,2999351573),u(3329325298,3815920427),u(3391569614,3928383900),u(3515267271,566280711),u(3940187606,3454069534),u(4118630271,4000239992),u(116418474,1914138554),u(174292421,2731055270),u(289380356,3203993006),u(460393269,320620315),u(685471733,587496836),u(852142971,1086792851),u(1017036298,365543100),u(1126000580,2618297676),u(1288033470,3409855158),u(1501505948,4234509866),u(1607167915,987167468),u(1816402316,1246189591)],f=[];(function(){for(var v=0;v<80;v++)f[v]=u()})();var g=c.SHA512=a.extend({_doReset:function(){this._hash=new l.init([new s.init(1779033703,4089235720),new s.init(3144134277,2227873595),new s.init(1013904242,4271175723),new s.init(2773480762,1595750129),new s.init(1359893119,2917565137),new s.init(2600822924,725511199),new s.init(528734635,4215389547),new s.init(1541459225,327033209)])},_doProcessBlock:function(v,C){for(var _=this._hash.words,x=_[0],y=_[1],h=_[2],p=_[3],w=_[4],S=_[5],k=_[6],A=_[7],j=x.high,b=x.low,P=y.high,R=y.low,D=h.high,E=h.low,J=p.high,K=p.low,z=w.high,F=w.low,H=S.high,U=S.low,T=k.high,O=k.low,$=A.high,B=A.low,W=j,ce=b,he=P,ne=R,ye=D,be=E,Ot=J,Ht=K,Ve=z,vt=F,N=H,q=U,se=T,Z=O,X=$,Ae=B,_e=0;_e<80;_e++){var Q,Ie,nt=f[_e];if(_e<16)Ie=nt.high=v[C+_e*2]|0,Q=nt.low=v[C+_e*2+1]|0;else{var at=f[_e-15],He=at.high,ot=at.low,de=(He>>>1|ot<<31)^(He>>>8|ot<<24)^He>>>7,me=(ot>>>1|He<<31)^(ot>>>8|He<<24)^(ot>>>7|He<<25),De=f[_e-2],Me=De.high,ke=De.low,Le=(Me>>>19|ke<<13)^(Me<<3|ke>>>29)^Me>>>6,M=(ke>>>19|Me<<13)^(ke<<3|Me>>>29)^(ke>>>6|Me<<26),I=f[_e-7],G=I.high,ee=I.low,Y=f[_e-16],te=Y.high,re=Y.low;Q=me+ee,Ie=de+G+(Q>>>0<me>>>0?1:0),Q=Q+M,Ie=Ie+Le+(Q>>>0<M>>>0?1:0),Q=Q+re,Ie=Ie+te+(Q>>>0<re>>>0?1:0),nt.high=Ie,nt.low=Q}var ae=Ve&N^~Ve&se,le=vt&q^~vt&Z,ge=W&he^W&ye^he&ye,Be=ce&ne^ce&be^ne&be,ve=(W>>>28|ce<<4)^(W<<30|ce>>>2)^(W<<25|ce>>>7),we=(ce>>>28|W<<4)^(ce<<30|W>>>2)^(ce<<25|W>>>7),Ne=(Ve>>>14|vt<<18)^(Ve>>>18|vt<<14)^(Ve<<23|vt>>>9),It=(vt>>>14|Ve<<18)^(vt>>>18|Ve<<14)^(vt<<23|Ve>>>9),Pt=m[_e],Xt=Pt.high,un=Pt.low,$e=Ae+It,Je=X+Ne+($e>>>0<Ae>>>0?1:0),$e=$e+le,Je=Je+ae+($e>>>0<le>>>0?1:0),$e=$e+un,Je=Je+Xt+($e>>>0<un>>>0?1:0),$e=$e+Q,Je=Je+Ie+($e>>>0<Q>>>0?1:0),Ye=we+Be,Fe=ve+ge+(Ye>>>0<we>>>0?1:0);X=se,Ae=Z,se=N,Z=q,N=Ve,q=vt,vt=Ht+$e|0,Ve=Ot+Je+(vt>>>0<Ht>>>0?1:0)|0,Ot=ye,Ht=be,ye=he,be=ne,he=W,ne=ce,ce=$e+Ye|0,W=Je+Fe+(ce>>>0<$e>>>0?1:0)|0}b=x.low=b+ce,x.high=j+W+(b>>>0<ce>>>0?1:0),R=y.low=R+ne,y.high=P+he+(R>>>0<ne>>>0?1:0),E=h.low=E+be,h.high=D+ye+(E>>>0<be>>>0?1:0),K=p.low=K+Ht,p.high=J+Ot+(K>>>0<Ht>>>0?1:0),F=w.low=F+vt,w.high=z+Ve+(F>>>0<vt>>>0?1:0),U=S.low=U+q,S.high=H+N+(U>>>0<q>>>0?1:0),O=k.low=O+Z,k.high=T+se+(O>>>0<Z>>>0?1:0),B=A.low=B+Ae,A.high=$+X+(B>>>0<Ae>>>0?1:0)},_doFinalize:function(){var v=this._data,C=v.words,_=this._nDataBytes*8,x=v.sigBytes*8;C[x>>>5]|=128<<24-x%32,C[(x+128>>>10<<5)+30]=Math.floor(_/4294967296),C[(x+128>>>10<<5)+31]=_,v.sigBytes=C.length*4,this._process();var y=this._hash.toX32();return y},clone:function(){var v=a.clone.call(this);return v._hash=this._hash.clone(),v},blockSize:1024/32});r.SHA512=a._createHelper(g),r.HmacSHA512=a._createHmacHelper(g)}(),n.SHA512})}(Nl)),Nl.exports}var $l={exports:{}},Wh;function __(){return Wh||(Wh=1,function(e,t){(function(n,r,i){e.exports=r(Ee(),Vs(),fg())})(Ce,function(n){return function(){var r=n,i=r.x64,a=i.Word,o=i.WordArray,s=r.algo,l=s.SHA512,c=s.SHA384=l.extend({_doReset:function(){this._hash=new o.init([new a.init(3418070365,3238371032),new a.init(1654270250,914150663),new a.init(2438529370,812702999),new a.init(355462360,4144912697),new a.init(1731405415,4290775857),new a.init(2394180231,1750603025),new a.init(3675008525,1694076839),new a.init(1203062813,3204075428)])},_doFinalize:function(){var u=l._doFinalize.call(this);return u.sigBytes-=16,u}});r.SHA384=l._createHelper(c),r.HmacSHA384=l._createHmacHelper(c)}(),n.SHA384})}($l)),$l.exports}var Ul={exports:{}},Yh;function b_(){return Yh||(Yh=1,function(e,t){(function(n,r,i){e.exports=r(Ee(),Vs())})(Ce,function(n){return function(r){var i=n,a=i.lib,o=a.WordArray,s=a.Hasher,l=i.x64,c=l.Word,u=i.algo,m=[],f=[],g=[];(function(){for(var _=1,x=0,y=0;y<24;y++){m[_+5*x]=(y+1)*(y+2)/2%64;var h=x%5,p=(2*_+3*x)%5;_=h,x=p}for(var _=0;_<5;_++)for(var x=0;x<5;x++)f[_+5*x]=x+(2*_+3*x)%5*5;for(var w=1,S=0;S<24;S++){for(var k=0,A=0,j=0;j<7;j++){if(w&1){var b=(1<<j)-1;b<32?A^=1<<b:k^=1<<b-32}w&128?w=w<<1^113:w<<=1}g[S]=c.create(k,A)}})();var v=[];(function(){for(var _=0;_<25;_++)v[_]=c.create()})();var C=u.SHA3=s.extend({cfg:s.cfg.extend({outputLength:512}),_doReset:function(){for(var _=this._state=[],x=0;x<25;x++)_[x]=new c.init;this.blockSize=(1600-2*this.cfg.outputLength)/32},_doProcessBlock:function(_,x){for(var y=this._state,h=this.blockSize/2,p=0;p<h;p++){var w=_[x+2*p],S=_[x+2*p+1];w=(w<<8|w>>>24)&16711935|(w<<24|w>>>8)&4278255360,S=(S<<8|S>>>24)&16711935|(S<<24|S>>>8)&4278255360;var k=y[p];k.high^=S,k.low^=w}for(var A=0;A<24;A++){for(var j=0;j<5;j++){for(var b=0,P=0,R=0;R<5;R++){var k=y[j+5*R];b^=k.high,P^=k.low}var D=v[j];D.high=b,D.low=P}for(var j=0;j<5;j++)for(var E=v[(j+4)%5],J=v[(j+1)%5],K=J.high,z=J.low,b=E.high^(K<<1|z>>>31),P=E.low^(z<<1|K>>>31),R=0;R<5;R++){var k=y[j+5*R];k.high^=b,k.low^=P}for(var F=1;F<25;F++){var b,P,k=y[F],H=k.high,U=k.low,T=m[F];T<32?(b=H<<T|U>>>32-T,P=U<<T|H>>>32-T):(b=U<<T-32|H>>>64-T,P=H<<T-32|U>>>64-T);var O=v[f[F]];O.high=b,O.low=P}var $=v[0],B=y[0];$.high=B.high,$.low=B.low;for(var j=0;j<5;j++)for(var R=0;R<5;R++){var F=j+5*R,k=y[F],W=v[F],ce=v[(j+1)%5+5*R],he=v[(j+2)%5+5*R];k.high=W.high^~ce.high&he.high,k.low=W.low^~ce.low&he.low}var k=y[0],ne=g[A];k.high^=ne.high,k.low^=ne.low}},_doFinalize:function(){var _=this._data,x=_.words;this._nDataBytes*8;var y=_.sigBytes*8,h=this.blockSize*32;x[y>>>5]|=1<<24-y%32,x[(r.ceil((y+1)/h)*h>>>5)-1]|=128,_.sigBytes=x.length*4,this._process();for(var p=this._state,w=this.cfg.outputLength/8,S=w/8,k=[],A=0;A<S;A++){var j=p[A],b=j.high,P=j.low;b=(b<<8|b>>>24)&16711935|(b<<24|b>>>8)&4278255360,P=(P<<8|P>>>24)&16711935|(P<<24|P>>>8)&4278255360,k.push(P),k.push(b)}return new o.init(k,w)},clone:function(){for(var _=s.clone.call(this),x=_._state=this._state.slice(0),y=0;y<25;y++)x[y]=x[y].clone();return _}});i.SHA3=s._createHelper(C),i.HmacSHA3=s._createHmacHelper(C)}(Math),n.SHA3})}(Ul)),Ul.exports}var Jl={exports:{}},Qh;function w_(){return Qh||(Qh=1,function(e,t){(function(n,r){e.exports=r(Ee())})(Ce,function(n){/** @preserve
			(c) 2012 by Cdric Mesnil. All rights reserved.

			Redistribution and use in source and binary forms, with or without modification, are permitted provided that the following conditions are met:

			    - Redistributions of source code must retain the above copyright notice, this list of conditions and the following disclaimer.
			    - Redistributions in binary form must reproduce the above copyright notice, this list of conditions and the following disclaimer in the documentation and/or other materials provided with the distribution.

			THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
			*/return function(r){var i=n,a=i.lib,o=a.WordArray,s=a.Hasher,l=i.algo,c=o.create([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13]),u=o.create([5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11]),m=o.create([11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6]),f=o.create([8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]),g=o.create([0,1518500249,1859775393,2400959708,2840853838]),v=o.create([1352829926,1548603684,1836072691,2053994217,0]),C=l.RIPEMD160=s.extend({_doReset:function(){this._hash=o.create([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(S,k){for(var A=0;A<16;A++){var j=k+A,b=S[j];S[j]=(b<<8|b>>>24)&16711935|(b<<24|b>>>8)&4278255360}var P=this._hash.words,R=g.words,D=v.words,E=c.words,J=u.words,K=m.words,z=f.words,F,H,U,T,O,$,B,W,ce,he;$=F=P[0],B=H=P[1],W=U=P[2],ce=T=P[3],he=O=P[4];for(var ne,A=0;A<80;A+=1)ne=F+S[k+E[A]]|0,A<16?ne+=_(H,U,T)+R[0]:A<32?ne+=x(H,U,T)+R[1]:A<48?ne+=y(H,U,T)+R[2]:A<64?ne+=h(H,U,T)+R[3]:ne+=p(H,U,T)+R[4],ne=ne|0,ne=w(ne,K[A]),ne=ne+O|0,F=O,O=T,T=w(U,10),U=H,H=ne,ne=$+S[k+J[A]]|0,A<16?ne+=p(B,W,ce)+D[0]:A<32?ne+=h(B,W,ce)+D[1]:A<48?ne+=y(B,W,ce)+D[2]:A<64?ne+=x(B,W,ce)+D[3]:ne+=_(B,W,ce)+D[4],ne=ne|0,ne=w(ne,z[A]),ne=ne+he|0,$=he,he=ce,ce=w(W,10),W=B,B=ne;ne=P[1]+U+ce|0,P[1]=P[2]+T+he|0,P[2]=P[3]+O+$|0,P[3]=P[4]+F+B|0,P[4]=P[0]+H+W|0,P[0]=ne},_doFinalize:function(){var S=this._data,k=S.words,A=this._nDataBytes*8,j=S.sigBytes*8;k[j>>>5]|=128<<24-j%32,k[(j+64>>>9<<4)+14]=(A<<8|A>>>24)&16711935|(A<<24|A>>>8)&4278255360,S.sigBytes=(k.length+1)*4,this._process();for(var b=this._hash,P=b.words,R=0;R<5;R++){var D=P[R];P[R]=(D<<8|D>>>24)&16711935|(D<<24|D>>>8)&4278255360}return b},clone:function(){var S=s.clone.call(this);return S._hash=this._hash.clone(),S}});function _(S,k,A){return S^k^A}function x(S,k,A){return S&k|~S&A}function y(S,k,A){return(S|~k)^A}function h(S,k,A){return S&A|k&~A}function p(S,k,A){return S^(k|~A)}function w(S,k){return S<<k|S>>>32-k}i.RIPEMD160=s._createHelper(C),i.HmacRIPEMD160=s._createHmacHelper(C)}(),n.RIPEMD160})}(Jl)),Jl.exports}var zl={exports:{}},Xh;function Hd(){return Xh||(Xh=1,function(e,t){(function(n,r){e.exports=r(Ee())})(Ce,function(n){(function(){var r=n,i=r.lib,a=i.Base,o=r.enc,s=o.Utf8,l=r.algo;l.HMAC=a.extend({init:function(c,u){c=this._hasher=new c.init,typeof u=="string"&&(u=s.parse(u));var m=c.blockSize,f=m*4;u.sigBytes>f&&(u=c.finalize(u)),u.clamp();for(var g=this._oKey=u.clone(),v=this._iKey=u.clone(),C=g.words,_=v.words,x=0;x<m;x++)C[x]^=1549556828,_[x]^=909522486;g.sigBytes=v.sigBytes=f,this.reset()},reset:function(){var c=this._hasher;c.reset(),c.update(this._iKey)},update:function(c){return this._hasher.update(c),this},finalize:function(c){var u=this._hasher,m=u.finalize(c);u.reset();var f=u.finalize(this._oKey.clone().concat(m));return f}})})()})}(zl)),zl.exports}var Kl={exports:{}},Zh;function S_(){return Zh||(Zh=1,function(e,t){(function(n,r,i){e.exports=r(Ee(),Kd(),Hd())})(Ce,function(n){return function(){var r=n,i=r.lib,a=i.Base,o=i.WordArray,s=r.algo,l=s.SHA256,c=s.HMAC,u=s.PBKDF2=a.extend({cfg:a.extend({keySize:128/32,hasher:l,iterations:25e4}),init:function(m){this.cfg=this.cfg.extend(m)},compute:function(m,f){for(var g=this.cfg,v=c.create(g.hasher,m),C=o.create(),_=o.create([1]),x=C.words,y=_.words,h=g.keySize,p=g.iterations;x.length<h;){var w=v.update(f).finalize(_);v.reset();for(var S=w.words,k=S.length,A=w,j=1;j<p;j++){A=v.finalize(A),v.reset();for(var b=A.words,P=0;P<k;P++)S[P]^=b[P]}C.concat(w),y[0]++}return C.sigBytes=h*4,C}});r.PBKDF2=function(m,f,g){return u.create(g).compute(m,f)}}(),n.PBKDF2})}(Kl)),Kl.exports}var Hl={exports:{}},ef;function Sr(){return ef||(ef=1,function(e,t){(function(n,r,i){e.exports=r(Ee(),hg(),Hd())})(Ce,function(n){return function(){var r=n,i=r.lib,a=i.Base,o=i.WordArray,s=r.algo,l=s.MD5,c=s.EvpKDF=a.extend({cfg:a.extend({keySize:128/32,hasher:l,iterations:1}),init:function(u){this.cfg=this.cfg.extend(u)},compute:function(u,m){for(var f,g=this.cfg,v=g.hasher.create(),C=o.create(),_=C.words,x=g.keySize,y=g.iterations;_.length<x;){f&&v.update(f),f=v.update(u).finalize(m),v.reset();for(var h=1;h<y;h++)f=v.finalize(f),v.reset();C.concat(f)}return C.sigBytes=x*4,C}});r.EvpKDF=function(u,m,f){return c.create(f).compute(u,m)}}(),n.EvpKDF})}(Hl)),Hl.exports}var Gl={exports:{}},tf;function wt(){return tf||(tf=1,function(e,t){(function(n,r,i){e.exports=r(Ee(),Sr())})(Ce,function(n){n.lib.Cipher||function(r){var i=n,a=i.lib,o=a.Base,s=a.WordArray,l=a.BufferedBlockAlgorithm,c=i.enc;c.Utf8;var u=c.Base64,m=i.algo,f=m.EvpKDF,g=a.Cipher=l.extend({cfg:o.extend(),createEncryptor:function(b,P){return this.create(this._ENC_XFORM_MODE,b,P)},createDecryptor:function(b,P){return this.create(this._DEC_XFORM_MODE,b,P)},init:function(b,P,R){this.cfg=this.cfg.extend(R),this._xformMode=b,this._key=P,this.reset()},reset:function(){l.reset.call(this),this._doReset()},process:function(b){return this._append(b),this._process()},finalize:function(b){b&&this._append(b);var P=this._doFinalize();return P},keySize:128/32,ivSize:128/32,_ENC_XFORM_MODE:1,_DEC_XFORM_MODE:2,_createHelper:function(){function b(P){return typeof P=="string"?j:S}return function(P){return{encrypt:function(R,D,E){return b(D).encrypt(P,R,D,E)},decrypt:function(R,D,E){return b(D).decrypt(P,R,D,E)}}}}()});a.StreamCipher=g.extend({_doFinalize:function(){var b=this._process(!0);return b},blockSize:1});var v=i.mode={},C=a.BlockCipherMode=o.extend({createEncryptor:function(b,P){return this.Encryptor.create(b,P)},createDecryptor:function(b,P){return this.Decryptor.create(b,P)},init:function(b,P){this._cipher=b,this._iv=P}}),_=v.CBC=function(){var b=C.extend();b.Encryptor=b.extend({processBlock:function(R,D){var E=this._cipher,J=E.blockSize;P.call(this,R,D,J),E.encryptBlock(R,D),this._prevBlock=R.slice(D,D+J)}}),b.Decryptor=b.extend({processBlock:function(R,D){var E=this._cipher,J=E.blockSize,K=R.slice(D,D+J);E.decryptBlock(R,D),P.call(this,R,D,J),this._prevBlock=K}});function P(R,D,E){var J,K=this._iv;K?(J=K,this._iv=r):J=this._prevBlock;for(var z=0;z<E;z++)R[D+z]^=J[z]}return b}(),x=i.pad={},y=x.Pkcs7={pad:function(b,P){for(var R=P*4,D=R-b.sigBytes%R,E=D<<24|D<<16|D<<8|D,J=[],K=0;K<D;K+=4)J.push(E);var z=s.create(J,D);b.concat(z)},unpad:function(b){var P=b.words[b.sigBytes-1>>>2]&255;b.sigBytes-=P}};a.BlockCipher=g.extend({cfg:g.cfg.extend({mode:_,padding:y}),reset:function(){var b;g.reset.call(this);var P=this.cfg,R=P.iv,D=P.mode;this._xformMode==this._ENC_XFORM_MODE?b=D.createEncryptor:(b=D.createDecryptor,this._minBufferSize=1),this._mode&&this._mode.__creator==b?this._mode.init(this,R&&R.words):(this._mode=b.call(D,this,R&&R.words),this._mode.__creator=b)},_doProcessBlock:function(b,P){this._mode.processBlock(b,P)},_doFinalize:function(){var b,P=this.cfg.padding;return this._xformMode==this._ENC_XFORM_MODE?(P.pad(this._data,this.blockSize),b=this._process(!0)):(b=this._process(!0),P.unpad(b)),b},blockSize:128/32});var h=a.CipherParams=o.extend({init:function(b){this.mixIn(b)},toString:function(b){return(b||this.formatter).stringify(this)}}),p=i.format={},w=p.OpenSSL={stringify:function(b){var P,R=b.ciphertext,D=b.salt;return D?P=s.create([1398893684,1701076831]).concat(D).concat(R):P=R,P.toString(u)},parse:function(b){var P,R=u.parse(b),D=R.words;return D[0]==1398893684&&D[1]==1701076831&&(P=s.create(D.slice(2,4)),D.splice(0,4),R.sigBytes-=16),h.create({ciphertext:R,salt:P})}},S=a.SerializableCipher=o.extend({cfg:o.extend({format:w}),encrypt:function(b,P,R,D){D=this.cfg.extend(D);var E=b.createEncryptor(R,D),J=E.finalize(P),K=E.cfg;return h.create({ciphertext:J,key:R,iv:K.iv,algorithm:b,mode:K.mode,padding:K.padding,blockSize:b.blockSize,formatter:D.format})},decrypt:function(b,P,R,D){D=this.cfg.extend(D),P=this._parse(P,D.format);var E=b.createDecryptor(R,D).finalize(P.ciphertext);return E},_parse:function(b,P){return typeof b=="string"?P.parse(b,this):b}}),k=i.kdf={},A=k.OpenSSL={execute:function(b,P,R,D,E){if(D||(D=s.random(64/8)),E)var J=f.create({keySize:P+R,hasher:E}).compute(b,D);else var J=f.create({keySize:P+R}).compute(b,D);var K=s.create(J.words.slice(P),R*4);return J.sigBytes=P*4,h.create({key:J,iv:K,salt:D})}},j=a.PasswordBasedCipher=S.extend({cfg:S.cfg.extend({kdf:A}),encrypt:function(b,P,R,D){D=this.cfg.extend(D);var E=D.kdf.execute(R,b.keySize,b.ivSize,D.salt,D.hasher);D.iv=E.iv;var J=S.encrypt.call(this,b,P,E.key,D);return J.mixIn(E),J},decrypt:function(b,P,R,D){D=this.cfg.extend(D),P=this._parse(P,D.format);var E=D.kdf.execute(R,b.keySize,b.ivSize,P.salt,D.hasher);D.iv=E.iv;var J=S.decrypt.call(this,b,P,E.key,D);return J}})}()})}(Gl)),Gl.exports}var ql={exports:{}},nf;function E_(){return nf||(nf=1,function(e,t){(function(n,r,i){e.exports=r(Ee(),wt())})(Ce,function(n){return n.mode.CFB=function(){var r=n.lib.BlockCipherMode.extend();r.Encryptor=r.extend({processBlock:function(a,o){var s=this._cipher,l=s.blockSize;i.call(this,a,o,l,s),this._prevBlock=a.slice(o,o+l)}}),r.Decryptor=r.extend({processBlock:function(a,o){var s=this._cipher,l=s.blockSize,c=a.slice(o,o+l);i.call(this,a,o,l,s),this._prevBlock=c}});function i(a,o,s,l){var c,u=this._iv;u?(c=u.slice(0),this._iv=void 0):c=this._prevBlock,l.encryptBlock(c,0);for(var m=0;m<s;m++)a[o+m]^=c[m]}return r}(),n.mode.CFB})}(ql)),ql.exports}var Vl={exports:{}},rf;function A_(){return rf||(rf=1,function(e,t){(function(n,r,i){e.exports=r(Ee(),wt())})(Ce,function(n){return n.mode.CTR=function(){var r=n.lib.BlockCipherMode.extend(),i=r.Encryptor=r.extend({processBlock:function(a,o){var s=this._cipher,l=s.blockSize,c=this._iv,u=this._counter;c&&(u=this._counter=c.slice(0),this._iv=void 0);var m=u.slice(0);s.encryptBlock(m,0),u[l-1]=u[l-1]+1|0;for(var f=0;f<l;f++)a[o+f]^=m[f]}});return r.Decryptor=i,r}(),n.mode.CTR})}(Vl)),Vl.exports}var Wl={exports:{}},af;function k_(){return af||(af=1,function(e,t){(function(n,r,i){e.exports=r(Ee(),wt())})(Ce,function(n){/** @preserve
 * Counter block mode compatible with  Dr Brian Gladman fileenc.c
 * derived from CryptoJS.mode.CTR
 * Jan Hruby jhruby.web@gmail.com
 */return n.mode.CTRGladman=function(){var r=n.lib.BlockCipherMode.extend();function i(s){if((s>>24&255)===255){var l=s>>16&255,c=s>>8&255,u=s&255;l===255?(l=0,c===255?(c=0,u===255?u=0:++u):++c):++l,s=0,s+=l<<16,s+=c<<8,s+=u}else s+=1<<24;return s}function a(s){return(s[0]=i(s[0]))===0&&(s[1]=i(s[1])),s}var o=r.Encryptor=r.extend({processBlock:function(s,l){var c=this._cipher,u=c.blockSize,m=this._iv,f=this._counter;m&&(f=this._counter=m.slice(0),this._iv=void 0),a(f);var g=f.slice(0);c.encryptBlock(g,0);for(var v=0;v<u;v++)s[l+v]^=g[v]}});return r.Decryptor=o,r}(),n.mode.CTRGladman})}(Wl)),Wl.exports}var Yl={exports:{}},of;function R_(){return of||(of=1,function(e,t){(function(n,r,i){e.exports=r(Ee(),wt())})(Ce,function(n){return n.mode.OFB=function(){var r=n.lib.BlockCipherMode.extend(),i=r.Encryptor=r.extend({processBlock:function(a,o){var s=this._cipher,l=s.blockSize,c=this._iv,u=this._keystream;c&&(u=this._keystream=c.slice(0),this._iv=void 0),s.encryptBlock(u,0);for(var m=0;m<l;m++)a[o+m]^=u[m]}});return r.Decryptor=i,r}(),n.mode.OFB})}(Yl)),Yl.exports}var Ql={exports:{}},sf;function P_(){return sf||(sf=1,function(e,t){(function(n,r,i){e.exports=r(Ee(),wt())})(Ce,function(n){return n.mode.ECB=function(){var r=n.lib.BlockCipherMode.extend();return r.Encryptor=r.extend({processBlock:function(i,a){this._cipher.encryptBlock(i,a)}}),r.Decryptor=r.extend({processBlock:function(i,a){this._cipher.decryptBlock(i,a)}}),r}(),n.mode.ECB})}(Ql)),Ql.exports}var Xl={exports:{}},lf;function T_(){return lf||(lf=1,function(e,t){(function(n,r,i){e.exports=r(Ee(),wt())})(Ce,function(n){return n.pad.AnsiX923={pad:function(r,i){var a=r.sigBytes,o=i*4,s=o-a%o,l=a+s-1;r.clamp(),r.words[l>>>2]|=s<<24-l%4*8,r.sigBytes+=s},unpad:function(r){var i=r.words[r.sigBytes-1>>>2]&255;r.sigBytes-=i}},n.pad.Ansix923})}(Xl)),Xl.exports}var Zl={exports:{}},cf;function D_(){return cf||(cf=1,function(e,t){(function(n,r,i){e.exports=r(Ee(),wt())})(Ce,function(n){return n.pad.Iso10126={pad:function(r,i){var a=i*4,o=a-r.sigBytes%a;r.concat(n.lib.WordArray.random(o-1)).concat(n.lib.WordArray.create([o<<24],1))},unpad:function(r){var i=r.words[r.sigBytes-1>>>2]&255;r.sigBytes-=i}},n.pad.Iso10126})}(Zl)),Zl.exports}var ec={exports:{}},uf;function j_(){return uf||(uf=1,function(e,t){(function(n,r,i){e.exports=r(Ee(),wt())})(Ce,function(n){return n.pad.Iso97971={pad:function(r,i){r.concat(n.lib.WordArray.create([2147483648],1)),n.pad.ZeroPadding.pad(r,i)},unpad:function(r){n.pad.ZeroPadding.unpad(r),r.sigBytes--}},n.pad.Iso97971})}(ec)),ec.exports}var tc={exports:{}},df;function B_(){return df||(df=1,function(e,t){(function(n,r,i){e.exports=r(Ee(),wt())})(Ce,function(n){return n.pad.ZeroPadding={pad:function(r,i){var a=i*4;r.clamp(),r.sigBytes+=a-(r.sigBytes%a||a)},unpad:function(r){for(var i=r.words,a=r.sigBytes-1,a=r.sigBytes-1;a>=0;a--)if(i[a>>>2]>>>24-a%4*8&255){r.sigBytes=a+1;break}}},n.pad.ZeroPadding})}(tc)),tc.exports}var nc={exports:{}},hf;function F_(){return hf||(hf=1,function(e,t){(function(n,r,i){e.exports=r(Ee(),wt())})(Ce,function(n){return n.pad.NoPadding={pad:function(){},unpad:function(){}},n.pad.NoPadding})}(nc)),nc.exports}var rc={exports:{}},ff;function M_(){return ff||(ff=1,function(e,t){(function(n,r,i){e.exports=r(Ee(),wt())})(Ce,function(n){return function(r){var i=n,a=i.lib,o=a.CipherParams,s=i.enc,l=s.Hex,c=i.format;c.Hex={stringify:function(u){return u.ciphertext.toString(l)},parse:function(u){var m=l.parse(u);return o.create({ciphertext:m})}}}(),n.format.Hex})}(rc)),rc.exports}var ic={exports:{}},pf;function O_(){return pf||(pf=1,function(e,t){(function(n,r,i){e.exports=r(Ee(),ei(),ti(),Sr(),wt())})(Ce,function(n){return function(){var r=n,i=r.lib,a=i.BlockCipher,o=r.algo,s=[],l=[],c=[],u=[],m=[],f=[],g=[],v=[],C=[],_=[];(function(){for(var h=[],p=0;p<256;p++)p<128?h[p]=p<<1:h[p]=p<<1^283;for(var w=0,S=0,p=0;p<256;p++){var k=S^S<<1^S<<2^S<<3^S<<4;k=k>>>8^k&255^99,s[w]=k,l[k]=w;var A=h[w],j=h[A],b=h[j],P=h[k]*257^k*16843008;c[w]=P<<24|P>>>8,u[w]=P<<16|P>>>16,m[w]=P<<8|P>>>24,f[w]=P;var P=b*16843009^j*65537^A*257^w*16843008;g[k]=P<<24|P>>>8,v[k]=P<<16|P>>>16,C[k]=P<<8|P>>>24,_[k]=P,w?(w=A^h[h[h[b^A]]],S^=h[h[S]]):w=S=1}})();var x=[0,1,2,4,8,16,32,64,128,27,54],y=o.AES=a.extend({_doReset:function(){var h;if(!(this._nRounds&&this._keyPriorReset===this._key)){for(var p=this._keyPriorReset=this._key,w=p.words,S=p.sigBytes/4,k=this._nRounds=S+6,A=(k+1)*4,j=this._keySchedule=[],b=0;b<A;b++)b<S?j[b]=w[b]:(h=j[b-1],b%S?S>6&&b%S==4&&(h=s[h>>>24]<<24|s[h>>>16&255]<<16|s[h>>>8&255]<<8|s[h&255]):(h=h<<8|h>>>24,h=s[h>>>24]<<24|s[h>>>16&255]<<16|s[h>>>8&255]<<8|s[h&255],h^=x[b/S|0]<<24),j[b]=j[b-S]^h);for(var P=this._invKeySchedule=[],R=0;R<A;R++){var b=A-R;if(R%4)var h=j[b];else var h=j[b-4];R<4||b<=4?P[R]=h:P[R]=g[s[h>>>24]]^v[s[h>>>16&255]]^C[s[h>>>8&255]]^_[s[h&255]]}}},encryptBlock:function(h,p){this._doCryptBlock(h,p,this._keySchedule,c,u,m,f,s)},decryptBlock:function(h,p){var w=h[p+1];h[p+1]=h[p+3],h[p+3]=w,this._doCryptBlock(h,p,this._invKeySchedule,g,v,C,_,l);var w=h[p+1];h[p+1]=h[p+3],h[p+3]=w},_doCryptBlock:function(h,p,w,S,k,A,j,b){for(var P=this._nRounds,R=h[p]^w[0],D=h[p+1]^w[1],E=h[p+2]^w[2],J=h[p+3]^w[3],K=4,z=1;z<P;z++){var F=S[R>>>24]^k[D>>>16&255]^A[E>>>8&255]^j[J&255]^w[K++],H=S[D>>>24]^k[E>>>16&255]^A[J>>>8&255]^j[R&255]^w[K++],U=S[E>>>24]^k[J>>>16&255]^A[R>>>8&255]^j[D&255]^w[K++],T=S[J>>>24]^k[R>>>16&255]^A[D>>>8&255]^j[E&255]^w[K++];R=F,D=H,E=U,J=T}var F=(b[R>>>24]<<24|b[D>>>16&255]<<16|b[E>>>8&255]<<8|b[J&255])^w[K++],H=(b[D>>>24]<<24|b[E>>>16&255]<<16|b[J>>>8&255]<<8|b[R&255])^w[K++],U=(b[E>>>24]<<24|b[J>>>16&255]<<16|b[R>>>8&255]<<8|b[D&255])^w[K++],T=(b[J>>>24]<<24|b[R>>>16&255]<<16|b[D>>>8&255]<<8|b[E&255])^w[K++];h[p]=F,h[p+1]=H,h[p+2]=U,h[p+3]=T},keySize:256/32});r.AES=a._createHelper(y)}(),n.AES})}(ic)),ic.exports}var ac={exports:{}},mf;function I_(){return mf||(mf=1,function(e,t){(function(n,r,i){e.exports=r(Ee(),ei(),ti(),Sr(),wt())})(Ce,function(n){return function(){var r=n,i=r.lib,a=i.WordArray,o=i.BlockCipher,s=r.algo,l=[57,49,41,33,25,17,9,1,58,50,42,34,26,18,10,2,59,51,43,35,27,19,11,3,60,52,44,36,63,55,47,39,31,23,15,7,62,54,46,38,30,22,14,6,61,53,45,37,29,21,13,5,28,20,12,4],c=[14,17,11,24,1,5,3,28,15,6,21,10,23,19,12,4,26,8,16,7,27,20,13,2,41,52,31,37,47,55,30,40,51,45,33,48,44,49,39,56,34,53,46,42,50,36,29,32],u=[1,2,4,6,8,10,12,14,15,17,19,21,23,25,27,28],m=[{0:8421888,268435456:32768,536870912:8421378,805306368:2,1073741824:512,1342177280:8421890,1610612736:8389122,1879048192:8388608,2147483648:514,2415919104:8389120,2684354560:33280,2952790016:8421376,3221225472:32770,3489660928:8388610,3758096384:0,4026531840:33282,134217728:0,402653184:8421890,671088640:33282,939524096:32768,1207959552:8421888,1476395008:512,1744830464:8421378,2013265920:2,2281701376:8389120,2550136832:33280,2818572288:8421376,3087007744:8389122,3355443200:8388610,3623878656:32770,3892314112:514,4160749568:8388608,1:32768,268435457:2,536870913:8421888,805306369:8388608,1073741825:8421378,1342177281:33280,1610612737:512,1879048193:8389122,2147483649:8421890,2415919105:8421376,2684354561:8388610,2952790017:33282,3221225473:514,3489660929:8389120,3758096385:32770,4026531841:0,134217729:8421890,402653185:8421376,671088641:8388608,939524097:512,1207959553:32768,1476395009:8388610,1744830465:2,2013265921:33282,2281701377:32770,2550136833:8389122,2818572289:514,3087007745:8421888,3355443201:8389120,3623878657:0,3892314113:33280,4160749569:8421378},{0:1074282512,16777216:16384,33554432:524288,50331648:1074266128,67108864:1073741840,83886080:1074282496,100663296:1073758208,117440512:16,134217728:540672,150994944:1073758224,167772160:1073741824,184549376:540688,201326592:524304,218103808:0,234881024:16400,251658240:1074266112,8388608:1073758208,25165824:540688,41943040:16,58720256:1073758224,75497472:1074282512,92274688:1073741824,109051904:524288,125829120:1074266128,142606336:524304,159383552:0,176160768:16384,192937984:1074266112,209715200:1073741840,226492416:540672,243269632:1074282496,260046848:16400,268435456:0,285212672:1074266128,301989888:1073758224,318767104:1074282496,335544320:1074266112,352321536:16,369098752:540688,385875968:16384,402653184:16400,419430400:524288,436207616:524304,452984832:1073741840,469762048:540672,486539264:1073758208,503316480:1073741824,520093696:1074282512,276824064:540688,293601280:524288,310378496:1074266112,327155712:16384,343932928:1073758208,360710144:1074282512,377487360:16,394264576:1073741824,411041792:1074282496,427819008:1073741840,444596224:1073758224,461373440:524304,478150656:0,494927872:16400,511705088:1074266128,528482304:540672},{0:260,1048576:0,2097152:67109120,3145728:65796,4194304:65540,5242880:67108868,6291456:67174660,7340032:67174400,8388608:67108864,9437184:67174656,10485760:65792,11534336:67174404,12582912:67109124,13631488:65536,14680064:4,15728640:256,524288:67174656,1572864:67174404,2621440:0,3670016:67109120,4718592:67108868,5767168:65536,6815744:65540,7864320:260,8912896:4,9961472:256,11010048:67174400,12058624:65796,13107200:65792,14155776:67109124,15204352:67174660,16252928:67108864,16777216:67174656,17825792:65540,18874368:65536,19922944:67109120,20971520:256,22020096:67174660,23068672:67108868,24117248:0,25165824:67109124,26214400:67108864,27262976:4,28311552:65792,29360128:67174400,30408704:260,31457280:65796,32505856:67174404,17301504:67108864,18350080:260,19398656:67174656,20447232:0,21495808:65540,22544384:67109120,23592960:256,24641536:67174404,25690112:65536,26738688:67174660,27787264:65796,28835840:67108868,29884416:67109124,30932992:67174400,31981568:4,33030144:65792},{0:2151682048,65536:2147487808,131072:4198464,196608:2151677952,262144:0,327680:4198400,393216:2147483712,458752:4194368,524288:2147483648,589824:4194304,655360:64,720896:2147487744,786432:2151678016,851968:4160,917504:4096,983040:2151682112,32768:2147487808,98304:64,163840:2151678016,229376:2147487744,294912:4198400,360448:2151682112,425984:0,491520:2151677952,557056:4096,622592:2151682048,688128:4194304,753664:4160,819200:2147483648,884736:4194368,950272:4198464,1015808:2147483712,1048576:4194368,1114112:4198400,1179648:2147483712,1245184:0,1310720:4160,1376256:2151678016,1441792:2151682048,1507328:2147487808,1572864:2151682112,1638400:2147483648,1703936:2151677952,1769472:4198464,1835008:2147487744,1900544:4194304,1966080:64,2031616:4096,1081344:2151677952,1146880:2151682112,1212416:0,1277952:4198400,1343488:4194368,1409024:2147483648,1474560:2147487808,1540096:64,1605632:2147483712,1671168:4096,1736704:2147487744,1802240:2151678016,1867776:4160,1933312:2151682048,1998848:4194304,2064384:4198464},{0:128,4096:17039360,8192:262144,12288:536870912,16384:537133184,20480:16777344,24576:553648256,28672:262272,32768:16777216,36864:537133056,40960:536871040,45056:553910400,49152:553910272,53248:0,57344:17039488,61440:553648128,2048:17039488,6144:553648256,10240:128,14336:17039360,18432:262144,22528:537133184,26624:553910272,30720:536870912,34816:537133056,38912:0,43008:553910400,47104:16777344,51200:536871040,55296:553648128,59392:16777216,63488:262272,65536:262144,69632:128,73728:536870912,77824:553648256,81920:16777344,86016:553910272,90112:537133184,94208:16777216,98304:553910400,102400:553648128,106496:17039360,110592:537133056,114688:262272,118784:536871040,122880:0,126976:17039488,67584:553648256,71680:16777216,75776:17039360,79872:537133184,83968:536870912,88064:17039488,92160:128,96256:553910272,100352:262272,104448:553910400,108544:0,112640:553648128,116736:16777344,120832:262144,124928:537133056,129024:536871040},{0:268435464,256:8192,512:270532608,768:270540808,1024:268443648,1280:2097152,1536:2097160,1792:268435456,2048:0,2304:268443656,2560:2105344,2816:8,3072:270532616,3328:2105352,3584:8200,3840:270540800,128:270532608,384:270540808,640:8,896:2097152,1152:2105352,1408:268435464,1664:268443648,1920:8200,2176:2097160,2432:8192,2688:268443656,2944:270532616,3200:0,3456:270540800,3712:2105344,3968:268435456,4096:268443648,4352:270532616,4608:270540808,4864:8200,5120:2097152,5376:268435456,5632:268435464,5888:2105344,6144:2105352,6400:0,6656:8,6912:270532608,7168:8192,7424:268443656,7680:270540800,7936:2097160,4224:8,4480:2105344,4736:2097152,4992:268435464,5248:268443648,5504:8200,5760:270540808,6016:270532608,6272:270540800,6528:270532616,6784:8192,7040:2105352,7296:2097160,7552:0,7808:268435456,8064:268443656},{0:1048576,16:33555457,32:1024,48:1049601,64:34604033,80:0,96:1,112:34603009,128:33555456,144:1048577,160:33554433,176:34604032,192:34603008,208:1025,224:1049600,240:33554432,8:34603009,24:0,40:33555457,56:34604032,72:1048576,88:33554433,104:33554432,120:1025,136:1049601,152:33555456,168:34603008,184:1048577,200:1024,216:34604033,232:1,248:1049600,256:33554432,272:1048576,288:33555457,304:34603009,320:1048577,336:33555456,352:34604032,368:1049601,384:1025,400:34604033,416:1049600,432:1,448:0,464:34603008,480:33554433,496:1024,264:1049600,280:33555457,296:34603009,312:1,328:33554432,344:1048576,360:1025,376:34604032,392:33554433,408:34603008,424:0,440:34604033,456:1049601,472:1024,488:33555456,504:1048577},{0:134219808,1:131072,2:134217728,3:32,4:131104,5:134350880,6:134350848,7:2048,8:134348800,9:134219776,10:133120,11:134348832,12:2080,13:0,14:134217760,15:133152,2147483648:2048,2147483649:134350880,2147483650:134219808,2147483651:134217728,2147483652:134348800,2147483653:133120,2147483654:133152,2147483655:32,2147483656:134217760,2147483657:2080,2147483658:131104,2147483659:134350848,2147483660:0,2147483661:134348832,2147483662:134219776,2147483663:131072,16:133152,17:134350848,18:32,19:2048,20:134219776,21:134217760,22:134348832,23:131072,24:0,25:131104,26:134348800,27:134219808,28:134350880,29:133120,30:2080,31:134217728,2147483664:131072,2147483665:2048,2147483666:134348832,2147483667:133152,2147483668:32,2147483669:134348800,2147483670:134217728,2147483671:134219808,2147483672:134350880,2147483673:134217760,2147483674:134219776,2147483675:0,2147483676:133120,2147483677:2080,2147483678:131104,2147483679:134350848}],f=[4160749569,528482304,33030144,2064384,129024,8064,504,2147483679],g=s.DES=o.extend({_doReset:function(){for(var x=this._key,y=x.words,h=[],p=0;p<56;p++){var w=l[p]-1;h[p]=y[w>>>5]>>>31-w%32&1}for(var S=this._subKeys=[],k=0;k<16;k++){for(var A=S[k]=[],j=u[k],p=0;p<24;p++)A[p/6|0]|=h[(c[p]-1+j)%28]<<31-p%6,A[4+(p/6|0)]|=h[28+(c[p+24]-1+j)%28]<<31-p%6;A[0]=A[0]<<1|A[0]>>>31;for(var p=1;p<7;p++)A[p]=A[p]>>>(p-1)*4+3;A[7]=A[7]<<5|A[7]>>>27}for(var b=this._invSubKeys=[],p=0;p<16;p++)b[p]=S[15-p]},encryptBlock:function(x,y){this._doCryptBlock(x,y,this._subKeys)},decryptBlock:function(x,y){this._doCryptBlock(x,y,this._invSubKeys)},_doCryptBlock:function(x,y,h){this._lBlock=x[y],this._rBlock=x[y+1],v.call(this,4,252645135),v.call(this,16,65535),C.call(this,2,858993459),C.call(this,8,16711935),v.call(this,1,1431655765);for(var p=0;p<16;p++){for(var w=h[p],S=this._lBlock,k=this._rBlock,A=0,j=0;j<8;j++)A|=m[j][((k^w[j])&f[j])>>>0];this._lBlock=k,this._rBlock=S^A}var b=this._lBlock;this._lBlock=this._rBlock,this._rBlock=b,v.call(this,1,1431655765),C.call(this,8,16711935),C.call(this,2,858993459),v.call(this,16,65535),v.call(this,4,252645135),x[y]=this._lBlock,x[y+1]=this._rBlock},keySize:64/32,ivSize:64/32,blockSize:64/32});function v(x,y){var h=(this._lBlock>>>x^this._rBlock)&y;this._rBlock^=h,this._lBlock^=h<<x}function C(x,y){var h=(this._rBlock>>>x^this._lBlock)&y;this._lBlock^=h,this._rBlock^=h<<x}r.DES=o._createHelper(g);var _=s.TripleDES=o.extend({_doReset:function(){var x=this._key,y=x.words;if(y.length!==2&&y.length!==4&&y.length<6)throw new Error("Invalid key length - 3DES requires the key length to be 64, 128, 192 or >192.");var h=y.slice(0,2),p=y.length<4?y.slice(0,2):y.slice(2,4),w=y.length<6?y.slice(0,2):y.slice(4,6);this._des1=g.createEncryptor(a.create(h)),this._des2=g.createEncryptor(a.create(p)),this._des3=g.createEncryptor(a.create(w))},encryptBlock:function(x,y){this._des1.encryptBlock(x,y),this._des2.decryptBlock(x,y),this._des3.encryptBlock(x,y)},decryptBlock:function(x,y){this._des3.decryptBlock(x,y),this._des2.encryptBlock(x,y),this._des1.decryptBlock(x,y)},keySize:192/32,ivSize:64/32,blockSize:64/32});r.TripleDES=o._createHelper(_)}(),n.TripleDES})}(ac)),ac.exports}var oc={exports:{}},yf;function L_(){return yf||(yf=1,function(e,t){(function(n,r,i){e.exports=r(Ee(),ei(),ti(),Sr(),wt())})(Ce,function(n){return function(){var r=n,i=r.lib,a=i.StreamCipher,o=r.algo,s=o.RC4=a.extend({_doReset:function(){for(var u=this._key,m=u.words,f=u.sigBytes,g=this._S=[],v=0;v<256;v++)g[v]=v;for(var v=0,C=0;v<256;v++){var _=v%f,x=m[_>>>2]>>>24-_%4*8&255;C=(C+g[v]+x)%256;var y=g[v];g[v]=g[C],g[C]=y}this._i=this._j=0},_doProcessBlock:function(u,m){u[m]^=l.call(this)},keySize:256/32,ivSize:0});function l(){for(var u=this._S,m=this._i,f=this._j,g=0,v=0;v<4;v++){m=(m+1)%256,f=(f+u[m])%256;var C=u[m];u[m]=u[f],u[f]=C,g|=u[(u[m]+u[f])%256]<<24-v*8}return this._i=m,this._j=f,g}r.RC4=a._createHelper(s);var c=o.RC4Drop=s.extend({cfg:s.cfg.extend({drop:192}),_doReset:function(){s._doReset.call(this);for(var u=this.cfg.drop;u>0;u--)l.call(this)}});r.RC4Drop=a._createHelper(c)}(),n.RC4})}(oc)),oc.exports}var sc={exports:{}},gf;function N_(){return gf||(gf=1,function(e,t){(function(n,r,i){e.exports=r(Ee(),ei(),ti(),Sr(),wt())})(Ce,function(n){return function(){var r=n,i=r.lib,a=i.StreamCipher,o=r.algo,s=[],l=[],c=[],u=o.Rabbit=a.extend({_doReset:function(){for(var f=this._key.words,g=this.cfg.iv,v=0;v<4;v++)f[v]=(f[v]<<8|f[v]>>>24)&16711935|(f[v]<<24|f[v]>>>8)&4278255360;var C=this._X=[f[0],f[3]<<16|f[2]>>>16,f[1],f[0]<<16|f[3]>>>16,f[2],f[1]<<16|f[0]>>>16,f[3],f[2]<<16|f[1]>>>16],_=this._C=[f[2]<<16|f[2]>>>16,f[0]&4294901760|f[1]&65535,f[3]<<16|f[3]>>>16,f[1]&4294901760|f[2]&65535,f[0]<<16|f[0]>>>16,f[2]&4294901760|f[3]&65535,f[1]<<16|f[1]>>>16,f[3]&4294901760|f[0]&65535];this._b=0;for(var v=0;v<4;v++)m.call(this);for(var v=0;v<8;v++)_[v]^=C[v+4&7];if(g){var x=g.words,y=x[0],h=x[1],p=(y<<8|y>>>24)&16711935|(y<<24|y>>>8)&4278255360,w=(h<<8|h>>>24)&16711935|(h<<24|h>>>8)&4278255360,S=p>>>16|w&4294901760,k=w<<16|p&65535;_[0]^=p,_[1]^=S,_[2]^=w,_[3]^=k,_[4]^=p,_[5]^=S,_[6]^=w,_[7]^=k;for(var v=0;v<4;v++)m.call(this)}},_doProcessBlock:function(f,g){var v=this._X;m.call(this),s[0]=v[0]^v[5]>>>16^v[3]<<16,s[1]=v[2]^v[7]>>>16^v[5]<<16,s[2]=v[4]^v[1]>>>16^v[7]<<16,s[3]=v[6]^v[3]>>>16^v[1]<<16;for(var C=0;C<4;C++)s[C]=(s[C]<<8|s[C]>>>24)&16711935|(s[C]<<24|s[C]>>>8)&4278255360,f[g+C]^=s[C]},blockSize:128/32,ivSize:64/32});function m(){for(var f=this._X,g=this._C,v=0;v<8;v++)l[v]=g[v];g[0]=g[0]+1295307597+this._b|0,g[1]=g[1]+3545052371+(g[0]>>>0<l[0]>>>0?1:0)|0,g[2]=g[2]+886263092+(g[1]>>>0<l[1]>>>0?1:0)|0,g[3]=g[3]+1295307597+(g[2]>>>0<l[2]>>>0?1:0)|0,g[4]=g[4]+3545052371+(g[3]>>>0<l[3]>>>0?1:0)|0,g[5]=g[5]+886263092+(g[4]>>>0<l[4]>>>0?1:0)|0,g[6]=g[6]+1295307597+(g[5]>>>0<l[5]>>>0?1:0)|0,g[7]=g[7]+3545052371+(g[6]>>>0<l[6]>>>0?1:0)|0,this._b=g[7]>>>0<l[7]>>>0?1:0;for(var v=0;v<8;v++){var C=f[v]+g[v],_=C&65535,x=C>>>16,y=((_*_>>>17)+_*x>>>15)+x*x,h=((C&4294901760)*C|0)+((C&65535)*C|0);c[v]=y^h}f[0]=c[0]+(c[7]<<16|c[7]>>>16)+(c[6]<<16|c[6]>>>16)|0,f[1]=c[1]+(c[0]<<8|c[0]>>>24)+c[7]|0,f[2]=c[2]+(c[1]<<16|c[1]>>>16)+(c[0]<<16|c[0]>>>16)|0,f[3]=c[3]+(c[2]<<8|c[2]>>>24)+c[1]|0,f[4]=c[4]+(c[3]<<16|c[3]>>>16)+(c[2]<<16|c[2]>>>16)|0,f[5]=c[5]+(c[4]<<8|c[4]>>>24)+c[3]|0,f[6]=c[6]+(c[5]<<16|c[5]>>>16)+(c[4]<<16|c[4]>>>16)|0,f[7]=c[7]+(c[6]<<8|c[6]>>>24)+c[5]|0}r.Rabbit=a._createHelper(u)}(),n.Rabbit})}(sc)),sc.exports}var lc={exports:{}},vf;function $_(){return vf||(vf=1,function(e,t){(function(n,r,i){e.exports=r(Ee(),ei(),ti(),Sr(),wt())})(Ce,function(n){return function(){var r=n,i=r.lib,a=i.StreamCipher,o=r.algo,s=[],l=[],c=[],u=o.RabbitLegacy=a.extend({_doReset:function(){var f=this._key.words,g=this.cfg.iv,v=this._X=[f[0],f[3]<<16|f[2]>>>16,f[1],f[0]<<16|f[3]>>>16,f[2],f[1]<<16|f[0]>>>16,f[3],f[2]<<16|f[1]>>>16],C=this._C=[f[2]<<16|f[2]>>>16,f[0]&4294901760|f[1]&65535,f[3]<<16|f[3]>>>16,f[1]&4294901760|f[2]&65535,f[0]<<16|f[0]>>>16,f[2]&4294901760|f[3]&65535,f[1]<<16|f[1]>>>16,f[3]&4294901760|f[0]&65535];this._b=0;for(var _=0;_<4;_++)m.call(this);for(var _=0;_<8;_++)C[_]^=v[_+4&7];if(g){var x=g.words,y=x[0],h=x[1],p=(y<<8|y>>>24)&16711935|(y<<24|y>>>8)&4278255360,w=(h<<8|h>>>24)&16711935|(h<<24|h>>>8)&4278255360,S=p>>>16|w&4294901760,k=w<<16|p&65535;C[0]^=p,C[1]^=S,C[2]^=w,C[3]^=k,C[4]^=p,C[5]^=S,C[6]^=w,C[7]^=k;for(var _=0;_<4;_++)m.call(this)}},_doProcessBlock:function(f,g){var v=this._X;m.call(this),s[0]=v[0]^v[5]>>>16^v[3]<<16,s[1]=v[2]^v[7]>>>16^v[5]<<16,s[2]=v[4]^v[1]>>>16^v[7]<<16,s[3]=v[6]^v[3]>>>16^v[1]<<16;for(var C=0;C<4;C++)s[C]=(s[C]<<8|s[C]>>>24)&16711935|(s[C]<<24|s[C]>>>8)&4278255360,f[g+C]^=s[C]},blockSize:128/32,ivSize:64/32});function m(){for(var f=this._X,g=this._C,v=0;v<8;v++)l[v]=g[v];g[0]=g[0]+1295307597+this._b|0,g[1]=g[1]+3545052371+(g[0]>>>0<l[0]>>>0?1:0)|0,g[2]=g[2]+886263092+(g[1]>>>0<l[1]>>>0?1:0)|0,g[3]=g[3]+1295307597+(g[2]>>>0<l[2]>>>0?1:0)|0,g[4]=g[4]+3545052371+(g[3]>>>0<l[3]>>>0?1:0)|0,g[5]=g[5]+886263092+(g[4]>>>0<l[4]>>>0?1:0)|0,g[6]=g[6]+1295307597+(g[5]>>>0<l[5]>>>0?1:0)|0,g[7]=g[7]+3545052371+(g[6]>>>0<l[6]>>>0?1:0)|0,this._b=g[7]>>>0<l[7]>>>0?1:0;for(var v=0;v<8;v++){var C=f[v]+g[v],_=C&65535,x=C>>>16,y=((_*_>>>17)+_*x>>>15)+x*x,h=((C&4294901760)*C|0)+((C&65535)*C|0);c[v]=y^h}f[0]=c[0]+(c[7]<<16|c[7]>>>16)+(c[6]<<16|c[6]>>>16)|0,f[1]=c[1]+(c[0]<<8|c[0]>>>24)+c[7]|0,f[2]=c[2]+(c[1]<<16|c[1]>>>16)+(c[0]<<16|c[0]>>>16)|0,f[3]=c[3]+(c[2]<<8|c[2]>>>24)+c[1]|0,f[4]=c[4]+(c[3]<<16|c[3]>>>16)+(c[2]<<16|c[2]>>>16)|0,f[5]=c[5]+(c[4]<<8|c[4]>>>24)+c[3]|0,f[6]=c[6]+(c[5]<<16|c[5]>>>16)+(c[4]<<16|c[4]>>>16)|0,f[7]=c[7]+(c[6]<<8|c[6]>>>24)+c[5]|0}r.RabbitLegacy=a._createHelper(u)}(),n.RabbitLegacy})}(lc)),lc.exports}var cc={exports:{}},xf;function U_(){return xf||(xf=1,function(e,t){(function(n,r,i){e.exports=r(Ee(),ei(),ti(),Sr(),wt())})(Ce,function(n){return function(){var r=n,i=r.lib,a=i.BlockCipher,o=r.algo;const s=16,l=[608135816,2242054355,320440878,57701188,2752067618,698298832,137296536,3964562569,1160258022,953160567,3193202383,887688300,3232508343,3380367581,1065670069,3041331479,2450970073,2306472731],c=[[3509652390,2564797868,805139163,3491422135,3101798381,1780907670,3128725573,4046225305,614570311,3012652279,134345442,2240740374,1667834072,1901547113,2757295779,4103290238,227898511,1921955416,1904987480,2182433518,2069144605,3260701109,2620446009,720527379,3318853667,677414384,3393288472,3101374703,2390351024,1614419982,1822297739,2954791486,3608508353,3174124327,2024746970,1432378464,3864339955,2857741204,1464375394,1676153920,1439316330,715854006,3033291828,289532110,2706671279,2087905683,3018724369,1668267050,732546397,1947742710,3462151702,2609353502,2950085171,1814351708,2050118529,680887927,999245976,1800124847,3300911131,1713906067,1641548236,4213287313,1216130144,1575780402,4018429277,3917837745,3693486850,3949271944,596196993,3549867205,258830323,2213823033,772490370,2760122372,1774776394,2652871518,566650946,4142492826,1728879713,2882767088,1783734482,3629395816,2517608232,2874225571,1861159788,326777828,3124490320,2130389656,2716951837,967770486,1724537150,2185432712,2364442137,1164943284,2105845187,998989502,3765401048,2244026483,1075463327,1455516326,1322494562,910128902,469688178,1117454909,936433444,3490320968,3675253459,1240580251,122909385,2157517691,634681816,4142456567,3825094682,3061402683,2540495037,79693498,3249098678,1084186820,1583128258,426386531,1761308591,1047286709,322548459,995290223,1845252383,2603652396,3431023940,2942221577,3202600964,3727903485,1712269319,422464435,3234572375,1170764815,3523960633,3117677531,1434042557,442511882,3600875718,1076654713,1738483198,4213154764,2393238008,3677496056,1014306527,4251020053,793779912,2902807211,842905082,4246964064,1395751752,1040244610,2656851899,3396308128,445077038,3742853595,3577915638,679411651,2892444358,2354009459,1767581616,3150600392,3791627101,3102740896,284835224,4246832056,1258075500,768725851,2589189241,3069724005,3532540348,1274779536,3789419226,2764799539,1660621633,3471099624,4011903706,913787905,3497959166,737222580,2514213453,2928710040,3937242737,1804850592,3499020752,2949064160,2386320175,2390070455,2415321851,4061277028,2290661394,2416832540,1336762016,1754252060,3520065937,3014181293,791618072,3188594551,3933548030,2332172193,3852520463,3043980520,413987798,3465142937,3030929376,4245938359,2093235073,3534596313,375366246,2157278981,2479649556,555357303,3870105701,2008414854,3344188149,4221384143,3956125452,2067696032,3594591187,2921233993,2428461,544322398,577241275,1471733935,610547355,4027169054,1432588573,1507829418,2025931657,3646575487,545086370,48609733,2200306550,1653985193,298326376,1316178497,3007786442,2064951626,458293330,2589141269,3591329599,3164325604,727753846,2179363840,146436021,1461446943,4069977195,705550613,3059967265,3887724982,4281599278,3313849956,1404054877,2845806497,146425753,1854211946],[1266315497,3048417604,3681880366,3289982499,290971e4,1235738493,2632868024,2414719590,3970600049,1771706367,1449415276,3266420449,422970021,1963543593,2690192192,3826793022,1062508698,1531092325,1804592342,2583117782,2714934279,4024971509,1294809318,4028980673,1289560198,2221992742,1669523910,35572830,157838143,1052438473,1016535060,1802137761,1753167236,1386275462,3080475397,2857371447,1040679964,2145300060,2390574316,1461121720,2956646967,4031777805,4028374788,33600511,2920084762,1018524850,629373528,3691585981,3515945977,2091462646,2486323059,586499841,988145025,935516892,3367335476,2599673255,2839830854,265290510,3972581182,2759138881,3795373465,1005194799,847297441,406762289,1314163512,1332590856,1866599683,4127851711,750260880,613907577,1450815602,3165620655,3734664991,3650291728,3012275730,3704569646,1427272223,778793252,1343938022,2676280711,2052605720,1946737175,3164576444,3914038668,3967478842,3682934266,1661551462,3294938066,4011595847,840292616,3712170807,616741398,312560963,711312465,1351876610,322626781,1910503582,271666773,2175563734,1594956187,70604529,3617834859,1007753275,1495573769,4069517037,2549218298,2663038764,504708206,2263041392,3941167025,2249088522,1514023603,1998579484,1312622330,694541497,2582060303,2151582166,1382467621,776784248,2618340202,3323268794,2497899128,2784771155,503983604,4076293799,907881277,423175695,432175456,1378068232,4145222326,3954048622,3938656102,3820766613,2793130115,2977904593,26017576,3274890735,3194772133,1700274565,1756076034,4006520079,3677328699,720338349,1533947780,354530856,688349552,3973924725,1637815568,332179504,3949051286,53804574,2852348879,3044236432,1282449977,3583942155,3416972820,4006381244,1617046695,2628476075,3002303598,1686838959,431878346,2686675385,1700445008,1080580658,1009431731,832498133,3223435511,2605976345,2271191193,2516031870,1648197032,4164389018,2548247927,300782431,375919233,238389289,3353747414,2531188641,2019080857,1475708069,455242339,2609103871,448939670,3451063019,1395535956,2413381860,1841049896,1491858159,885456874,4264095073,4001119347,1565136089,3898914787,1108368660,540939232,1173283510,2745871338,3681308437,4207628240,3343053890,4016749493,1699691293,1103962373,3625875870,2256883143,3830138730,1031889488,3479347698,1535977030,4236805024,3251091107,2132092099,1774941330,1199868427,1452454533,157007616,2904115357,342012276,595725824,1480756522,206960106,497939518,591360097,863170706,2375253569,3596610801,1814182875,2094937945,3421402208,1082520231,3463918190,2785509508,435703966,3908032597,1641649973,2842273706,3305899714,1510255612,2148256476,2655287854,3276092548,4258621189,236887753,3681803219,274041037,1734335097,3815195456,3317970021,1899903192,1026095262,4050517792,356393447,2410691914,3873677099,3682840055],[3913112168,2491498743,4132185628,2489919796,1091903735,1979897079,3170134830,3567386728,3557303409,857797738,1136121015,1342202287,507115054,2535736646,337727348,3213592640,1301675037,2528481711,1895095763,1721773893,3216771564,62756741,2142006736,835421444,2531993523,1442658625,3659876326,2882144922,676362277,1392781812,170690266,3921047035,1759253602,3611846912,1745797284,664899054,1329594018,3901205900,3045908486,2062866102,2865634940,3543621612,3464012697,1080764994,553557557,3656615353,3996768171,991055499,499776247,1265440854,648242737,3940784050,980351604,3713745714,1749149687,3396870395,4211799374,3640570775,1161844396,3125318951,1431517754,545492359,4268468663,3499529547,1437099964,2702547544,3433638243,2581715763,2787789398,1060185593,1593081372,2418618748,4260947970,69676912,2159744348,86519011,2512459080,3838209314,1220612927,3339683548,133810670,1090789135,1078426020,1569222167,845107691,3583754449,4072456591,1091646820,628848692,1613405280,3757631651,526609435,236106946,48312990,2942717905,3402727701,1797494240,859738849,992217954,4005476642,2243076622,3870952857,3732016268,765654824,3490871365,2511836413,1685915746,3888969200,1414112111,2273134842,3281911079,4080962846,172450625,2569994100,980381355,4109958455,2819808352,2716589560,2568741196,3681446669,3329971472,1835478071,660984891,3704678404,4045999559,3422617507,3040415634,1762651403,1719377915,3470491036,2693910283,3642056355,3138596744,1364962596,2073328063,1983633131,926494387,3423689081,2150032023,4096667949,1749200295,3328846651,309677260,2016342300,1779581495,3079819751,111262694,1274766160,443224088,298511866,1025883608,3806446537,1145181785,168956806,3641502830,3584813610,1689216846,3666258015,3200248200,1692713982,2646376535,4042768518,1618508792,1610833997,3523052358,4130873264,2001055236,3610705100,2202168115,4028541809,2961195399,1006657119,2006996926,3186142756,1430667929,3210227297,1314452623,4074634658,4101304120,2273951170,1399257539,3367210612,3027628629,1190975929,2062231137,2333990788,2221543033,2438960610,1181637006,548689776,2362791313,3372408396,3104550113,3145860560,296247880,1970579870,3078560182,3769228297,1714227617,3291629107,3898220290,166772364,1251581989,493813264,448347421,195405023,2709975567,677966185,3703036547,1463355134,2715995803,1338867538,1343315457,2802222074,2684532164,233230375,2599980071,2000651841,3277868038,1638401717,4028070440,3237316320,6314154,819756386,300326615,590932579,1405279636,3267499572,3150704214,2428286686,3959192993,3461946742,1862657033,1266418056,963775037,2089974820,2263052895,1917689273,448879540,3550394620,3981727096,150775221,3627908307,1303187396,508620638,2975983352,2726630617,1817252668,1876281319,1457606340,908771278,3720792119,3617206836,2455994898,1729034894,1080033504],[976866871,3556439503,2881648439,1522871579,1555064734,1336096578,3548522304,2579274686,3574697629,3205460757,3593280638,3338716283,3079412587,564236357,2993598910,1781952180,1464380207,3163844217,3332601554,1699332808,1393555694,1183702653,3581086237,1288719814,691649499,2847557200,2895455976,3193889540,2717570544,1781354906,1676643554,2592534050,3230253752,1126444790,2770207658,2633158820,2210423226,2615765581,2414155088,3127139286,673620729,2805611233,1269405062,4015350505,3341807571,4149409754,1057255273,2012875353,2162469141,2276492801,2601117357,993977747,3918593370,2654263191,753973209,36408145,2530585658,25011837,3520020182,2088578344,530523599,2918365339,1524020338,1518925132,3760827505,3759777254,1202760957,3985898139,3906192525,674977740,4174734889,2031300136,2019492241,3983892565,4153806404,3822280332,352677332,2297720250,60907813,90501309,3286998549,1016092578,2535922412,2839152426,457141659,509813237,4120667899,652014361,1966332200,2975202805,55981186,2327461051,676427537,3255491064,2882294119,3433927263,1307055953,942726286,933058658,2468411793,3933900994,4215176142,1361170020,2001714738,2830558078,3274259782,1222529897,1679025792,2729314320,3714953764,1770335741,151462246,3013232138,1682292957,1483529935,471910574,1539241949,458788160,3436315007,1807016891,3718408830,978976581,1043663428,3165965781,1927990952,4200891579,2372276910,3208408903,3533431907,1412390302,2931980059,4132332400,1947078029,3881505623,4168226417,2941484381,1077988104,1320477388,886195818,18198404,3786409e3,2509781533,112762804,3463356488,1866414978,891333506,18488651,661792760,1628790961,3885187036,3141171499,876946877,2693282273,1372485963,791857591,2686433993,3759982718,3167212022,3472953795,2716379847,445679433,3561995674,3504004811,3574258232,54117162,3331405415,2381918588,3769707343,4154350007,1140177722,4074052095,668550556,3214352940,367459370,261225585,2610173221,4209349473,3468074219,3265815641,314222801,3066103646,3808782860,282218597,3406013506,3773591054,379116347,1285071038,846784868,2669647154,3771962079,3550491691,2305946142,453669953,1268987020,3317592352,3279303384,3744833421,2610507566,3859509063,266596637,3847019092,517658769,3462560207,3443424879,370717030,4247526661,2224018117,4143653529,4112773975,2788324899,2477274417,1456262402,2901442914,1517677493,1846949527,2295493580,3734397586,2176403920,1280348187,1908823572,3871786941,846861322,1172426758,3287448474,3383383037,1655181056,3139813346,901632758,1897031941,2986607138,3066810236,3447102507,1393639104,373351379,950779232,625454576,3124240540,4148612726,2007998917,544563296,2244738638,2330496472,2058025392,1291430526,424198748,50039436,29584100,3605783033,2429876329,2791104160,1057563949,3255363231,3075367218,3463963227,1469046755,985887462]];var u={pbox:[],sbox:[]};function m(_,x){let y=x>>24&255,h=x>>16&255,p=x>>8&255,w=x&255,S=_.sbox[0][y]+_.sbox[1][h];return S=S^_.sbox[2][p],S=S+_.sbox[3][w],S}function f(_,x,y){let h=x,p=y,w;for(let S=0;S<s;++S)h=h^_.pbox[S],p=m(_,h)^p,w=h,h=p,p=w;return w=h,h=p,p=w,p=p^_.pbox[s],h=h^_.pbox[s+1],{left:h,right:p}}function g(_,x,y){let h=x,p=y,w;for(let S=s+1;S>1;--S)h=h^_.pbox[S],p=m(_,h)^p,w=h,h=p,p=w;return w=h,h=p,p=w,p=p^_.pbox[1],h=h^_.pbox[0],{left:h,right:p}}function v(_,x,y){for(let k=0;k<4;k++){_.sbox[k]=[];for(let A=0;A<256;A++)_.sbox[k][A]=c[k][A]}let h=0;for(let k=0;k<s+2;k++)_.pbox[k]=l[k]^x[h],h++,h>=y&&(h=0);let p=0,w=0,S=0;for(let k=0;k<s+2;k+=2)S=f(_,p,w),p=S.left,w=S.right,_.pbox[k]=p,_.pbox[k+1]=w;for(let k=0;k<4;k++)for(let A=0;A<256;A+=2)S=f(_,p,w),p=S.left,w=S.right,_.sbox[k][A]=p,_.sbox[k][A+1]=w;return!0}var C=o.Blowfish=a.extend({_doReset:function(){if(this._keyPriorReset!==this._key){var _=this._keyPriorReset=this._key,x=_.words,y=_.sigBytes/4;v(u,x,y)}},encryptBlock:function(_,x){var y=f(u,_[x],_[x+1]);_[x]=y.left,_[x+1]=y.right},decryptBlock:function(_,x){var y=g(u,_[x],_[x+1]);_[x]=y.left,_[x+1]=y.right},blockSize:64/32,keySize:128/32,ivSize:64/32});r.Blowfish=a._createHelper(C)}(),n.Blowfish})}(cc)),cc.exports}(function(e,t){(function(n,r,i){e.exports=r(Ee(),Vs(),g_(),v_(),ei(),x_(),ti(),hg(),Kd(),C_(),fg(),__(),b_(),w_(),Hd(),S_(),Sr(),wt(),E_(),A_(),k_(),R_(),P_(),T_(),D_(),j_(),B_(),F_(),M_(),O_(),I_(),L_(),N_(),$_(),U_())})(Ce,function(n){return n})})(dg);var Cf=dg.exports;const ma={CODE_PREFIX:"MONOPOLY_Game_",PEER_SERVER_HOST:"0.peerjs.com",PEER_SERVER_PORT:443,PEER_SECURE:!0,PEER_DEBUG_LEVEL:1};function Xo(e){return Cf.SHA256(ma.CODE_PREFIX+e).toString(Cf.enc.Hex)}function J_(e){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";let n="";for(let r=0;r<e;r++){const i=Math.floor(Math.random()*t.length);n+=t[i]}return n}function z_(){return J_(6)}const pg={debug:ma.PEER_DEBUG_LEVEL,secure:ma.PEER_SECURE,port:ma.PEER_SERVER_PORT,host:ma.PEER_SERVER_HOST};function ku(e){return new Promise((t,n)=>{const r=new ug(pg);r.on("open",i=>{const a=r.connect(e,{reliable:!0});setTimeout(()=>{n("the server took too long to respond")},5e3),a.on("open",()=>{const o=new mg(a);o.id=i,t(o)}),a.on("error",o=>{n(o.message)})}),r.on("error",i=>{n(i)})})}class mg{constructor(t){xe(this,"client");xe(this,"events");xe(this,"id");this.id="",this.client=t,this.events=new Map,this.client.on("data",n=>{try{const r=JSON.parse(n),i=this.events.get(r.event);i!==void 0&&i(r.args)}catch{}}),this.client.on("error",n=>{console.error("Data connection error:",n)}),this.client.on("close",()=>{try{const n=this.events.get("disconnect");n!==void 0&&n("")}catch{}})}on(t,n){this.events.set(t,n),this.client.on("data",()=>{})}emit(t,n){this.client.send(JSON.stringify({event:t,args:n??void 0}))}disconnect(){this.emit("disconnect"),this.client.close()}}class yg{constructor(t,n){xe(this,"socket");xe(this,"logFunction");xe(this,"renderFunction");xe(this,"logs",[]);xe(this,"code");let r="",i;try{r=z_(),i=new ug(Xo(r),pg)}catch(a){throw console.error("Error creating Peer:",a),a}this.code=r,this.socket=i,this.logFunction=(...a)=>{this.logs.push(a),this.renderFunction(this.logs)},this.renderFunction=()=>{},this.socket.on("open",async()=>{t==null||t(this)}),this.socket.on("connection",a=>{a.on("open",()=>{const o=new mg(a);o.id=a.peer,n==null||n(o,this)})})}set OnLogs(t){this.logFunction=t}RenderLogs(t){this.renderFunction=t,t(this.logs)}stop(){this.socket.destroy()}}function K_(e){const[t,n]=L.useState(e.deafultIndex??0);return d.jsxs("div",{className:"switcher-component",children:[d.jsx("button",{className:"switcher-component",onClick:()=>{var i;var r=t-1;r<0&&(r+=e.options.length),(i=e.onChange)==null||i.call(e,e.options[r],r),n(r)},children:"<"}),d.jsx("p",{className:"switcher-component",children:e.options[e.Value??t]}),d.jsx("button",{className:"switcher-component",onClick:()=>{var i;var r=t+1;r>=e.options.length&&(r-=e.options.length),(i=e.onChange)==null||i.call(e,e.options[r],r),n(r)},children:">"})]})}function H_(e){const t=["Randomized"],[n,r]=L.useState([{name:vu(),diff:"Randomized"}]);return L.useEffect(()=>{e.OnChange(n)},[n]),d.jsxs(d.Fragment,{children:[n.map((i,a)=>d.jsxs("div",{className:"bot-list-element",children:[d.jsx("p",{children:i.name}),d.jsx(K_,{options:t,Value:t.indexOf(i.diff),deafultIndex:t.indexOf(i.diff),onChange:(o,s)=>{const l=JSON.parse(JSON.stringify(n));l[a].diff=t[s],r(l)}}),d.jsx("img",{src:"trash.png",alt:"",onClick:()=>{const o=JSON.parse(JSON.stringify(n));o.splice(a,1),r(o)}})]},a)),n.length!==5?d.jsx("div",{className:"bot-list-add",onClick:()=>{n.length<=4&&r(i=>[...i,{name:vu(),diff:"Randomized"}])},children:d.jsx("p",{children:"add bot"})}):d.jsx(d.Fragment,{})]})}function G_(e){const[t,n]=L.useState(0),[r,i]=L.useState([{name:vu(),diff:"Regular"}]);return d.jsxs(d.Fragment,{children:[d.jsxs("nav",{className:"join",children:[d.jsx("button",{"data-tooltip-hover":"online","data-select":t===0,onClick:()=>{n(0)},children:d.jsx("img",{src:"online.png",alt:""})}),d.jsx("button",{"data-tooltip-hover":"computer","data-select":t===1,onClick:()=>{n(1)},children:d.jsx("img",{src:"bot.png",alt:""})})]}),d.jsx("br",{}),t===1?d.jsxs(d.Fragment,{children:[d.jsxs("div",{children:[d.jsx("p",{children:"please enter your name:"}),e.fbUser===void 0?d.jsx("input",{type:"text",id:"name",onChange:a=>{e.SetName(a.currentTarget.value)},defaultValue:e.name,placeholder:"enter name"}):d.jsx("input",{type:"text",id:"name",disabled:!0,value:e.fbUser.name,placeholder:"enter name"})]},"bots-name"),d.jsx("p",{children:"bots settings:"}),d.jsx(H_,{OnChange:a=>{i(a)}}),d.jsx("center",{children:d.jsx("button",{onClick:()=>{e.joinBots(r)},disabled:e.disabled,children:"start"})})]}):d.jsxs(d.Fragment,{children:[d.jsxs("div",{children:[d.jsx("p",{children:"please enter your code:"}),d.jsx("input",{type:"text",id:"name",onChange:a=>e.SetAddress(a.currentTarget.value),defaultValue:e.addr,placeholder:"enter code"})]},"online-code"),d.jsxs("div",{children:[d.jsx("p",{children:"please enter your name:"}),e.fbUser===void 0?d.jsx("input",{type:"text",id:"name",onChange:a=>{e.SetName(a.currentTarget.value)},defaultValue:e.name,placeholder:"enter name"}):d.jsx("input",{type:"text",id:"name",disabled:!0,value:e.name,placeholder:"enter name"})]},"online-name"),d.jsx("center",{children:d.jsx("button",{onClick:()=>{e.joinViaCode()},disabled:e.disabled,children:"join"})})]})]})}function q_(e,t,n,r){function i(a){return a instanceof n?a:new n(function(o){o(a)})}return new(n||(n=Promise))(function(a,o){function s(u){try{c(r.next(u))}catch(m){o(m)}}function l(u){try{c(r.throw(u))}catch(m){o(m)}}function c(u){u.done?a(u.value):i(u.value).then(s,l)}c((r=r.apply(e,t||[])).next())})}const V_=e=>e?(...t)=>e(...t):(...t)=>fetch(...t);class Gd extends Error{constructor(t,n="FunctionsError",r){super(t),this.name=n,this.context=r}}class W_ extends Gd{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class _f extends Gd{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class bf extends Gd{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var Ru;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(Ru||(Ru={}));class Y_{constructor(t,{headers:n={},customFetch:r,region:i=Ru.Any}={}){this.url=t,this.headers=n,this.region=i,this.fetch=V_(r)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t){return q_(this,arguments,void 0,function*(n,r={}){var i;let a,o;try{const{headers:s,method:l,body:c,signal:u,timeout:m}=r;let f={},{region:g}=r;g||(g=this.region);const v=new URL(`${this.url}/${n}`);g&&g!=="any"&&(f["x-region"]=g,v.searchParams.set("forceFunctionRegion",g));let C;c&&(s&&!Object.prototype.hasOwnProperty.call(s,"Content-Type")||!s)?typeof Blob<"u"&&c instanceof Blob||c instanceof ArrayBuffer?(f["Content-Type"]="application/octet-stream",C=c):typeof c=="string"?(f["Content-Type"]="text/plain",C=c):typeof FormData<"u"&&c instanceof FormData?C=c:(f["Content-Type"]="application/json",C=JSON.stringify(c)):c&&typeof c!="string"&&!(typeof Blob<"u"&&c instanceof Blob)&&!(c instanceof ArrayBuffer)&&!(typeof FormData<"u"&&c instanceof FormData)?C=JSON.stringify(c):C=c;let _=u;m&&(o=new AbortController,a=setTimeout(()=>o.abort(),m),u?(_=o.signal,u.addEventListener("abort",()=>o.abort())):_=o.signal);const x=yield this.fetch(v.toString(),{method:l||"POST",headers:Object.assign(Object.assign(Object.assign({},f),this.headers),s),body:C,signal:_}).catch(w=>{throw new W_(w)}),y=x.headers.get("x-relay-error");if(y&&y==="true")throw new _f(x);if(!x.ok)throw new bf(x);let h=((i=x.headers.get("Content-Type"))!==null&&i!==void 0?i:"text/plain").split(";")[0].trim(),p;return h==="application/json"?p=yield x.json():h==="application/octet-stream"||h==="application/pdf"?p=yield x.blob():h==="text/event-stream"?p=x:h==="multipart/form-data"?p=yield x.formData():p=yield x.text(),{data:p,error:null,response:x}}catch(s){return{data:null,error:s,response:s instanceof bf||s instanceof _f?s.context:void 0}}finally{a&&clearTimeout(a)}})}}var Q_=class extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}},X_=class{constructor(e){var t,n;this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=new Headers(e.headers),this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=(t=e.shouldThrowOnError)!==null&&t!==void 0?t:!1,this.signal=e.signal,this.isMaybeSingle=(n=e.isMaybeSingle)!==null&&n!==void 0?n:!1,e.fetch?this.fetch=e.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,t){return this.headers=new Headers(this.headers),this.headers.set(e,t),this}then(e,t){var n=this;this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const r=this.fetch;let i=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async a=>{let o=null,s=null,l=null,c=a.status,u=a.statusText;if(a.ok){var m,f;if(n.method!=="HEAD"){var g;const x=await a.text();x===""||(n.headers.get("Accept")==="text/csv"||n.headers.get("Accept")&&(!((g=n.headers.get("Accept"))===null||g===void 0)&&g.includes("application/vnd.pgrst.plan+text"))?s=x:s=JSON.parse(x))}const C=(m=n.headers.get("Prefer"))===null||m===void 0?void 0:m.match(/count=(exact|planned|estimated)/),_=(f=a.headers.get("content-range"))===null||f===void 0?void 0:f.split("/");C&&_&&_.length>1&&(l=parseInt(_[1])),n.isMaybeSingle&&n.method==="GET"&&Array.isArray(s)&&(s.length>1?(o={code:"PGRST116",details:`Results contain ${s.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},s=null,l=null,c=406,u="Not Acceptable"):s.length===1?s=s[0]:s=null)}else{var v;const C=await a.text();try{o=JSON.parse(C),Array.isArray(o)&&a.status===404&&(s=[],o=null,c=200,u="OK")}catch{a.status===404&&C===""?(c=204,u="No Content"):o={message:C}}if(o&&n.isMaybeSingle&&(!(o==null||(v=o.details)===null||v===void 0)&&v.includes("0 rows"))&&(o=null,c=200,u="OK"),o&&n.shouldThrowOnError)throw new Q_(o)}return{error:o,data:s,count:l,status:c,statusText:u}});return this.shouldThrowOnError||(i=i.catch(a=>{var o;let s="";const l=a==null?void 0:a.cause;if(l){var c,u,m,f;const v=(c=l==null?void 0:l.message)!==null&&c!==void 0?c:"",C=(u=l==null?void 0:l.code)!==null&&u!==void 0?u:"";s=`${(m=a==null?void 0:a.name)!==null&&m!==void 0?m:"FetchError"}: ${a==null?void 0:a.message}`,s+=`

Caused by: ${(f=l==null?void 0:l.name)!==null&&f!==void 0?f:"Error"}: ${v}`,C&&(s+=` (${C})`),l!=null&&l.stack&&(s+=`
${l.stack}`)}else{var g;s=(g=a==null?void 0:a.stack)!==null&&g!==void 0?g:""}return{error:{message:`${(o=a==null?void 0:a.name)!==null&&o!==void 0?o:"FetchError"}: ${a==null?void 0:a.message}`,details:s,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),i.then(e,t)}returns(){return this}overrideTypes(){return this}},Z_=class extends X_{select(e){let t=!1;const n=(e??"*").split("").map(r=>/\s/.test(r)&&!t?"":(r==='"'&&(t=!t),r)).join("");return this.url.searchParams.set("select",n),this.headers.append("Prefer","return=representation"),this}order(e,{ascending:t=!0,nullsFirst:n,foreignTable:r,referencedTable:i=r}={}){const a=i?`${i}.order`:"order",o=this.url.searchParams.get(a);return this.url.searchParams.set(a,`${o?`${o},`:""}${e}.${t?"asc":"desc"}${n===void 0?"":n?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:t,referencedTable:n=t}={}){const r=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(r,`${e}`),this}range(e,t,{foreignTable:n,referencedTable:r=n}={}){const i=typeof r>"u"?"offset":`${r}.offset`,a=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(i,`${e}`),this.url.searchParams.set(a,`${t-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:e=!1,verbose:t=!1,settings:n=!1,buffers:r=!1,wal:i=!1,format:a="text"}={}){var o;const s=[e?"analyze":null,t?"verbose":null,n?"settings":null,r?"buffers":null,i?"wal":null].filter(Boolean).join("|"),l=(o=this.headers.get("Accept"))!==null&&o!==void 0?o:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${a}; for="${l}"; options=${s};`),a==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(e){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${e}`),this}};const wf=new RegExp("[,()]");var ui=class extends Z_{eq(e,t){return this.url.searchParams.append(e,`eq.${t}`),this}neq(e,t){return this.url.searchParams.append(e,`neq.${t}`),this}gt(e,t){return this.url.searchParams.append(e,`gt.${t}`),this}gte(e,t){return this.url.searchParams.append(e,`gte.${t}`),this}lt(e,t){return this.url.searchParams.append(e,`lt.${t}`),this}lte(e,t){return this.url.searchParams.append(e,`lte.${t}`),this}like(e,t){return this.url.searchParams.append(e,`like.${t}`),this}likeAllOf(e,t){return this.url.searchParams.append(e,`like(all).{${t.join(",")}}`),this}likeAnyOf(e,t){return this.url.searchParams.append(e,`like(any).{${t.join(",")}}`),this}ilike(e,t){return this.url.searchParams.append(e,`ilike.${t}`),this}ilikeAllOf(e,t){return this.url.searchParams.append(e,`ilike(all).{${t.join(",")}}`),this}ilikeAnyOf(e,t){return this.url.searchParams.append(e,`ilike(any).{${t.join(",")}}`),this}regexMatch(e,t){return this.url.searchParams.append(e,`match.${t}`),this}regexIMatch(e,t){return this.url.searchParams.append(e,`imatch.${t}`),this}is(e,t){return this.url.searchParams.append(e,`is.${t}`),this}isDistinct(e,t){return this.url.searchParams.append(e,`isdistinct.${t}`),this}in(e,t){const n=Array.from(new Set(t)).map(r=>typeof r=="string"&&wf.test(r)?`"${r}"`:`${r}`).join(",");return this.url.searchParams.append(e,`in.(${n})`),this}notIn(e,t){const n=Array.from(new Set(t)).map(r=>typeof r=="string"&&wf.test(r)?`"${r}"`:`${r}`).join(",");return this.url.searchParams.append(e,`not.in.(${n})`),this}contains(e,t){return typeof t=="string"?this.url.searchParams.append(e,`cs.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cs.{${t.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(t)}`),this}containedBy(e,t){return typeof t=="string"?this.url.searchParams.append(e,`cd.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cd.{${t.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(t)}`),this}rangeGt(e,t){return this.url.searchParams.append(e,`sr.${t}`),this}rangeGte(e,t){return this.url.searchParams.append(e,`nxl.${t}`),this}rangeLt(e,t){return this.url.searchParams.append(e,`sl.${t}`),this}rangeLte(e,t){return this.url.searchParams.append(e,`nxr.${t}`),this}rangeAdjacent(e,t){return this.url.searchParams.append(e,`adj.${t}`),this}overlaps(e,t){return typeof t=="string"?this.url.searchParams.append(e,`ov.${t}`):this.url.searchParams.append(e,`ov.{${t.join(",")}}`),this}textSearch(e,t,{config:n,type:r}={}){let i="";r==="plain"?i="pl":r==="phrase"?i="ph":r==="websearch"&&(i="w");const a=n===void 0?"":`(${n})`;return this.url.searchParams.append(e,`${i}fts${a}.${t}`),this}match(e){return Object.entries(e).forEach(([t,n])=>{this.url.searchParams.append(t,`eq.${n}`)}),this}not(e,t,n){return this.url.searchParams.append(e,`not.${t}.${n}`),this}or(e,{foreignTable:t,referencedTable:n=t}={}){const r=n?`${n}.or`:"or";return this.url.searchParams.append(r,`(${e})`),this}filter(e,t,n){return this.url.searchParams.append(e,`${t}.${n}`),this}},eb=class{constructor(e,{headers:t={},schema:n,fetch:r}){this.url=e,this.headers=new Headers(t),this.schema=n,this.fetch=r}cloneRequestState(){return{url:new URL(this.url.toString()),headers:new Headers(this.headers)}}select(e,t){const{head:n=!1,count:r}=t??{},i=n?"HEAD":"GET";let a=!1;const o=(e??"*").split("").map(c=>/\s/.test(c)&&!a?"":(c==='"'&&(a=!a),c)).join(""),{url:s,headers:l}=this.cloneRequestState();return s.searchParams.set("select",o),r&&l.append("Prefer",`count=${r}`),new ui({method:i,url:s,headers:l,schema:this.schema,fetch:this.fetch})}insert(e,{count:t,defaultToNull:n=!0}={}){var r;const i="POST",{url:a,headers:o}=this.cloneRequestState();if(t&&o.append("Prefer",`count=${t}`),n||o.append("Prefer","missing=default"),Array.isArray(e)){const s=e.reduce((l,c)=>l.concat(Object.keys(c)),[]);if(s.length>0){const l=[...new Set(s)].map(c=>`"${c}"`);a.searchParams.set("columns",l.join(","))}}return new ui({method:i,url:a,headers:o,schema:this.schema,body:e,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch})}upsert(e,{onConflict:t,ignoreDuplicates:n=!1,count:r,defaultToNull:i=!0}={}){var a;const o="POST",{url:s,headers:l}=this.cloneRequestState();if(l.append("Prefer",`resolution=${n?"ignore":"merge"}-duplicates`),t!==void 0&&s.searchParams.set("on_conflict",t),r&&l.append("Prefer",`count=${r}`),i||l.append("Prefer","missing=default"),Array.isArray(e)){const c=e.reduce((u,m)=>u.concat(Object.keys(m)),[]);if(c.length>0){const u=[...new Set(c)].map(m=>`"${m}"`);s.searchParams.set("columns",u.join(","))}}return new ui({method:o,url:s,headers:l,schema:this.schema,body:e,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch})}update(e,{count:t}={}){var n;const r="PATCH",{url:i,headers:a}=this.cloneRequestState();return t&&a.append("Prefer",`count=${t}`),new ui({method:r,url:i,headers:a,schema:this.schema,body:e,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch})}delete({count:e}={}){var t;const n="DELETE",{url:r,headers:i}=this.cloneRequestState();return e&&i.append("Prefer",`count=${e}`),new ui({method:n,url:r,headers:i,schema:this.schema,fetch:(t=this.fetch)!==null&&t!==void 0?t:fetch})}},tb=class gg{constructor(t,{headers:n={},schema:r,fetch:i}={}){this.url=t,this.headers=new Headers(n),this.schemaName=r,this.fetch=i}from(t){if(!t||typeof t!="string"||t.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");return new eb(new URL(`${this.url}/${t}`),{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new gg(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,n={},{head:r=!1,get:i=!1,count:a}={}){var o;let s;const l=new URL(`${this.url}/rpc/${t}`);let c;const u=g=>g!==null&&typeof g=="object"&&(!Array.isArray(g)||g.some(u)),m=r&&Object.values(n).some(u);m?(s="POST",c=n):r||i?(s=r?"HEAD":"GET",Object.entries(n).filter(([g,v])=>v!==void 0).map(([g,v])=>[g,Array.isArray(v)?`{${v.join(",")}}`:`${v}`]).forEach(([g,v])=>{l.searchParams.append(g,v)})):(s="POST",c=n);const f=new Headers(this.headers);return m?f.set("Prefer",a?`count=${a},return=minimal`:"return=minimal"):a&&f.set("Prefer",`count=${a}`),new ui({method:s,url:l,headers:f,schema:this.schemaName,body:c,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}};class nb{constructor(){}static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};const n=globalThis.process;if(n){const r=n.versions;if(r&&r.node){const i=r.node,a=parseInt(i.replace(/^v/,"").split(".")[0]);return a>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${a} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${a} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let n=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(n+=`

Suggested solution: ${t.workaround}`),new Error(n)}static createWebSocket(t,n){const r=this.getWebSocketConstructor();return new r(t,n)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const rb="2.90.1",ib=`realtime-js/${rb}`,vg="1.0.0",ab="2.0.0",Sf=vg,Pu=1e4,ob=1e3,sb=100;var nr;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(nr||(nr={}));var pt;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(pt||(pt={}));var Rn;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(Rn||(Rn={}));var Tu;(function(e){e.websocket="websocket"})(Tu||(Tu={}));var Br;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(Br||(Br={}));class lb{constructor(t){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=t??[]}encode(t,n){if(t.event===this.BROADCAST_EVENT&&!(t.payload instanceof ArrayBuffer)&&typeof t.payload.event=="string")return n(this._binaryEncodeUserBroadcastPush(t));let r=[t.join_ref,t.ref,t.topic,t.event,t.payload];return n(JSON.stringify(r))}_binaryEncodeUserBroadcastPush(t){var n;return this._isArrayBuffer((n=t.payload)===null||n===void 0?void 0:n.payload)?this._encodeBinaryUserBroadcastPush(t):this._encodeJsonUserBroadcastPush(t)}_encodeBinaryUserBroadcastPush(t){var n,r;const i=(r=(n=t.payload)===null||n===void 0?void 0:n.payload)!==null&&r!==void 0?r:new ArrayBuffer(0);return this._encodeUserBroadcastPush(t,this.BINARY_ENCODING,i)}_encodeJsonUserBroadcastPush(t){var n,r;const i=(r=(n=t.payload)===null||n===void 0?void 0:n.payload)!==null&&r!==void 0?r:{},o=new TextEncoder().encode(JSON.stringify(i)).buffer;return this._encodeUserBroadcastPush(t,this.JSON_ENCODING,o)}_encodeUserBroadcastPush(t,n,r){var i,a;const o=t.topic,s=(i=t.ref)!==null&&i!==void 0?i:"",l=(a=t.join_ref)!==null&&a!==void 0?a:"",c=t.payload.event,u=this.allowedMetadataKeys?this._pick(t.payload,this.allowedMetadataKeys):{},m=Object.keys(u).length===0?"":JSON.stringify(u);if(l.length>255)throw new Error(`joinRef length ${l.length} exceeds maximum of 255`);if(s.length>255)throw new Error(`ref length ${s.length} exceeds maximum of 255`);if(o.length>255)throw new Error(`topic length ${o.length} exceeds maximum of 255`);if(c.length>255)throw new Error(`userEvent length ${c.length} exceeds maximum of 255`);if(m.length>255)throw new Error(`metadata length ${m.length} exceeds maximum of 255`);const f=this.USER_BROADCAST_PUSH_META_LENGTH+l.length+s.length+o.length+c.length+m.length,g=new ArrayBuffer(this.HEADER_LENGTH+f);let v=new DataView(g),C=0;v.setUint8(C++,this.KINDS.userBroadcastPush),v.setUint8(C++,l.length),v.setUint8(C++,s.length),v.setUint8(C++,o.length),v.setUint8(C++,c.length),v.setUint8(C++,m.length),v.setUint8(C++,n),Array.from(l,x=>v.setUint8(C++,x.charCodeAt(0))),Array.from(s,x=>v.setUint8(C++,x.charCodeAt(0))),Array.from(o,x=>v.setUint8(C++,x.charCodeAt(0))),Array.from(c,x=>v.setUint8(C++,x.charCodeAt(0))),Array.from(m,x=>v.setUint8(C++,x.charCodeAt(0)));var _=new Uint8Array(g.byteLength+r.byteLength);return _.set(new Uint8Array(g),0),_.set(new Uint8Array(r),g.byteLength),_.buffer}decode(t,n){if(this._isArrayBuffer(t)){let r=this._binaryDecode(t);return n(r)}if(typeof t=="string"){const r=JSON.parse(t),[i,a,o,s,l]=r;return n({join_ref:i,ref:a,topic:o,event:s,payload:l})}return n({})}_binaryDecode(t){const n=new DataView(t),r=n.getUint8(0),i=new TextDecoder;switch(r){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(t,n,i)}}_decodeUserBroadcast(t,n,r){const i=n.getUint8(1),a=n.getUint8(2),o=n.getUint8(3),s=n.getUint8(4);let l=this.HEADER_LENGTH+4;const c=r.decode(t.slice(l,l+i));l=l+i;const u=r.decode(t.slice(l,l+a));l=l+a;const m=r.decode(t.slice(l,l+o));l=l+o;const f=t.slice(l,t.byteLength),g=s===this.JSON_ENCODING?JSON.parse(r.decode(f)):f,v={type:this.BROADCAST_EVENT,event:u,payload:g};return o>0&&(v.meta=JSON.parse(m)),{join_ref:null,ref:null,topic:c,event:this.BROADCAST_EVENT,payload:v}}_isArrayBuffer(t){var n;return t instanceof ArrayBuffer||((n=t==null?void 0:t.constructor)===null||n===void 0?void 0:n.name)==="ArrayBuffer"}_pick(t,n){return!t||typeof t!="object"?{}:Object.fromEntries(Object.entries(t).filter(([r])=>n.includes(r)))}}class xg{constructor(t,n){this.callback=t,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var ze;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(ze||(ze={}));const Ef=(e,t,n={})=>{var r;const i=(r=n.skipTypes)!==null&&r!==void 0?r:[];return t?Object.keys(t).reduce((a,o)=>(a[o]=cb(o,e,t,i),a),{}):{}},cb=(e,t,n,r)=>{const i=t.find(s=>s.name===e),a=i==null?void 0:i.type,o=n[e];return a&&!r.includes(a)?Cg(a,o):Du(o)},Cg=(e,t)=>{if(e.charAt(0)==="_"){const n=e.slice(1,e.length);return fb(t,n)}switch(e){case ze.bool:return ub(t);case ze.float4:case ze.float8:case ze.int2:case ze.int4:case ze.int8:case ze.numeric:case ze.oid:return db(t);case ze.json:case ze.jsonb:return hb(t);case ze.timestamp:return pb(t);case ze.abstime:case ze.date:case ze.daterange:case ze.int4range:case ze.int8range:case ze.money:case ze.reltime:case ze.text:case ze.time:case ze.timestamptz:case ze.timetz:case ze.tsrange:case ze.tstzrange:return Du(t);default:return Du(t)}},Du=e=>e,ub=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},db=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},hb=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch{return e}return e},fb=(e,t)=>{if(typeof e!="string")return e;const n=e.length-1,r=e[n];if(e[0]==="{"&&r==="}"){let a;const o=e.slice(1,n);try{a=JSON.parse("["+o+"]")}catch{a=o?o.split(","):[]}return a.map(s=>Cg(t,s))}return e},pb=e=>typeof e=="string"?e.replace(" ","T"):e,_g=e=>{const t=new URL(e);return t.protocol=t.protocol.replace(/^ws/i,"http"),t.pathname=t.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),t.pathname===""||t.pathname==="/"?t.pathname="/api/broadcast":t.pathname=t.pathname+"/api/broadcast",t.href};class uc{constructor(t,n,r={},i=Pu){this.channel=t,this.event=n,this.payload=r,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,n){var r;return this._hasReceived(t)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:t,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:n}){this.recHooks.filter(r=>r.status===t).forEach(r=>r.callback(n))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var Af;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(Af||(Af={}));class ka{constructor(t,n){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},i=>{const{onJoin:a,onLeave:o,onSync:s}=this.caller;this.joinRef=this.channel._joinRef(),this.state=ka.syncState(this.state,i,a,o),this.pendingDiffs.forEach(l=>{this.state=ka.syncDiff(this.state,l,a,o)}),this.pendingDiffs=[],s()}),this.channel._on(r.diff,{},i=>{const{onJoin:a,onLeave:o,onSync:s}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=ka.syncDiff(this.state,i,a,o),s())}),this.onJoin((i,a,o)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:a,newPresences:o})}),this.onLeave((i,a,o)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:a,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,n,r,i){const a=this.cloneDeep(t),o=this.transformState(n),s={},l={};return this.map(a,(c,u)=>{o[c]||(l[c]=u)}),this.map(o,(c,u)=>{const m=a[c];if(m){const f=u.map(_=>_.presence_ref),g=m.map(_=>_.presence_ref),v=u.filter(_=>g.indexOf(_.presence_ref)<0),C=m.filter(_=>f.indexOf(_.presence_ref)<0);v.length>0&&(s[c]=v),C.length>0&&(l[c]=C)}else s[c]=u}),this.syncDiff(a,{joins:s,leaves:l},r,i)}static syncDiff(t,n,r,i){const{joins:a,leaves:o}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),i||(i=()=>{}),this.map(a,(s,l)=>{var c;const u=(c=t[s])!==null&&c!==void 0?c:[];if(t[s]=this.cloneDeep(l),u.length>0){const m=t[s].map(g=>g.presence_ref),f=u.filter(g=>m.indexOf(g.presence_ref)<0);t[s].unshift(...f)}r(s,u,l)}),this.map(o,(s,l)=>{let c=t[s];if(!c)return;const u=l.map(m=>m.presence_ref);c=c.filter(m=>u.indexOf(m.presence_ref)<0),t[s]=c,i(s,c,l),c.length===0&&delete t[s]}),t}static map(t,n){return Object.getOwnPropertyNames(t).map(r=>n(r,t[r]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((n,r)=>{const i=t[r];return"metas"in i?n[r]=i.metas.map(a=>(a.presence_ref=a.phx_ref,delete a.phx_ref,delete a.phx_ref_prev,a)):n[r]=i,n},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var kf;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(kf||(kf={}));var Ra;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(Ra||(Ra={}));var Nn;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(Nn||(Nn={}));class Ri{constructor(t,n={config:{}},r){var i,a;if(this.topic=t,this.params=n,this.socket=r,this.bindings={},this.state=pt.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new uc(this,Rn.join,this.params,this.timeout),this.rejoinTimer=new xg(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=pt.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(o=>o.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=pt.closed,this.socket._remove(this)}),this._onError(o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=pt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=pt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=pt.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Rn.reply,{},(o,s)=>{this._trigger(this._replyEventName(s),o)}),this.presence=new ka(this),this.broadcastEndpointURL=_g(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((a=(i=this.params.config)===null||i===void 0?void 0:i.broadcast)===null||a===void 0)&&a.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(t,n=this.timeout){var r,i,a;if(this.socket.isConnected()||this.socket.connect(),this.state==pt.closed){const{config:{broadcast:o,presence:s,private:l}}=this.params,c=(i=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(g=>g.filter))!==null&&i!==void 0?i:[],u=!!this.bindings[Ra.PRESENCE]&&this.bindings[Ra.PRESENCE].length>0||((a=this.params.config.presence)===null||a===void 0?void 0:a.enabled)===!0,m={},f={broadcast:o,presence:Object.assign(Object.assign({},s),{enabled:u}),postgres_changes:c,private:l};this.socket.accessTokenValue&&(m.access_token=this.socket.accessTokenValue),this._onError(g=>t==null?void 0:t(Nn.CHANNEL_ERROR,g)),this._onClose(()=>t==null?void 0:t(Nn.CLOSED)),this.updateJoinPayload(Object.assign({config:f},m)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:g})=>{var v;if(this.socket._isManualToken()||this.socket.setAuth(),g===void 0){t==null||t(Nn.SUBSCRIBED);return}else{const C=this.bindings.postgres_changes,_=(v=C==null?void 0:C.length)!==null&&v!==void 0?v:0,x=[];for(let y=0;y<_;y++){const h=C[y],{filter:{event:p,schema:w,table:S,filter:k}}=h,A=g&&g[y];if(A&&A.event===p&&Ri.isFilterValueEqual(A.schema,w)&&Ri.isFilterValueEqual(A.table,S)&&Ri.isFilterValueEqual(A.filter,k))x.push(Object.assign(Object.assign({},h),{id:A.id}));else{this.unsubscribe(),this.state=pt.errored,t==null||t(Nn.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=x,t&&t(Nn.SUBSCRIBED);return}}).receive("error",g=>{this.state=pt.errored,t==null||t(Nn.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(g).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(Nn.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,n={}){return await this.send({type:"presence",event:"track",payload:t},n.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,n,r){return this.state===pt.joined&&t===Ra.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(t,n,r)}async httpSend(t,n,r={}){var i;if(n==null)return Promise.reject("Payload is required for httpSend()");const a={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(a.Authorization=`Bearer ${this.socket.accessTokenValue}`);const o={method:"POST",headers:a,body:JSON.stringify({messages:[{topic:this.subTopic,event:t,payload:n,private:this.private}]})},s=await this._fetchWithTimeout(this.broadcastEndpointURL,o,(i=r.timeout)!==null&&i!==void 0?i:this.timeout);if(s.status===202)return{success:!0};let l=s.statusText;try{const c=await s.json();l=c.error||c.message||l}catch{}return Promise.reject(new Error(l))}async send(t,n={}){var r,i;if(!this._canPush()&&t.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:a,payload:o}=t,s={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(s.Authorization=`Bearer ${this.socket.accessTokenValue}`);const l={method:"POST",headers:s,body:JSON.stringify({messages:[{topic:this.subTopic,event:a,payload:o,private:this.private}]})};try{const c=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(r=n.timeout)!==null&&r!==void 0?r:this.timeout);return await((i=c.body)===null||i===void 0?void 0:i.cancel()),c.ok?"ok":"error"}catch(c){return c.name==="AbortError"?"timed out":"error"}}else return new Promise(a=>{var o,s,l;const c=this._push(t.type,t,n.timeout||this.timeout);t.type==="broadcast"&&!(!((l=(s=(o=this.params)===null||o===void 0?void 0:o.config)===null||s===void 0?void 0:s.broadcast)===null||l===void 0)&&l.ack)&&a("ok"),c.receive("ok",()=>a("ok")),c.receive("error",()=>a("error")),c.receive("timeout",()=>a("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=pt.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Rn.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(i=>{r=new uc(this,Rn.leave,{},t),r.receive("ok",()=>{n(),i("ok")}).receive("timeout",()=>{n(),i("timed out")}).receive("error",()=>{i("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{r==null||r.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=pt.closed,this.bindings={}}async _fetchWithTimeout(t,n,r){const i=new AbortController,a=setTimeout(()=>i.abort(),r),o=await this.socket.fetch(t,Object.assign(Object.assign({},n),{signal:i.signal}));return clearTimeout(a),o}_push(t,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new uc(this,t,n,r);return this._canPush()?i.send():this._addToPushBuffer(i),i}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>sb){const n=this.pushBuffer.shift();n&&(n.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${n.event}`,n.payload))}}_onMessage(t,n,r){return n}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,n,r){var i,a;const o=t.toLocaleLowerCase(),{close:s,error:l,leave:c,join:u}=Rn;if(r&&[s,l,c,u].indexOf(o)>=0&&r!==this._joinRef())return;let f=this._onMessage(o,n,r);if(n&&!f)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(g=>{var v,C,_;return((v=g.filter)===null||v===void 0?void 0:v.event)==="*"||((_=(C=g.filter)===null||C===void 0?void 0:C.event)===null||_===void 0?void 0:_.toLocaleLowerCase())===o}).map(g=>g.callback(f,r)):(a=this.bindings[o])===null||a===void 0||a.filter(g=>{var v,C,_,x,y,h,p,w;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in g){const S=g.id,k=(v=g.filter)===null||v===void 0?void 0:v.event;return S&&((C=n.ids)===null||C===void 0?void 0:C.includes(S))&&(k==="*"||(k==null?void 0:k.toLocaleLowerCase())===((_=n.data)===null||_===void 0?void 0:_.type.toLocaleLowerCase()))&&(!(!((x=g.filter)===null||x===void 0)&&x.table)||g.filter.table===((y=n.data)===null||y===void 0?void 0:y.table))}else{const S=(p=(h=g==null?void 0:g.filter)===null||h===void 0?void 0:h.event)===null||p===void 0?void 0:p.toLocaleLowerCase();return S==="*"||S===((w=n==null?void 0:n.event)===null||w===void 0?void 0:w.toLocaleLowerCase())}else return g.type.toLocaleLowerCase()===o}).map(g=>{if(typeof f=="object"&&"ids"in f){const v=f.data,{schema:C,table:_,commit_timestamp:x,type:y,errors:h}=v;f=Object.assign(Object.assign({},{schema:C,table:_,commit_timestamp:x,eventType:y,new:{},old:{},errors:h}),this._getPayloadRecords(v))}g.callback(f,r)})}_isClosed(){return this.state===pt.closed}_isJoined(){return this.state===pt.joined}_isJoining(){return this.state===pt.joining}_isLeaving(){return this.state===pt.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,n,r){const i=t.toLocaleLowerCase(),a={type:i,filter:n,callback:r};return this.bindings[i]?this.bindings[i].push(a):this.bindings[i]=[a],this}_off(t,n){const r=t.toLocaleLowerCase();return this.bindings[r]&&(this.bindings[r]=this.bindings[r].filter(i=>{var a;return!(((a=i.type)===null||a===void 0?void 0:a.toLocaleLowerCase())===r&&Ri.isEqual(i.filter,n))})),this}static isEqual(t,n){if(Object.keys(t).length!==Object.keys(n).length)return!1;for(const r in t)if(t[r]!==n[r])return!1;return!0}static isFilterValueEqual(t,n){return(t??void 0)===(n??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(Rn.close,{},t)}_onError(t){this._on(Rn.error,{},n=>t(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=pt.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const n={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(n.new=Ef(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(n.old=Ef(t.columns,t.old_record)),n}}const dc=()=>{},To={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},mb=[1e3,2e3,5e3,1e4],yb=1e4,gb=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class vb{constructor(t,n){var r;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Pu,this.transport=null,this.heartbeatIntervalMs=To.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=dc,this.ref=0,this.reconnectTimer=null,this.vsn=Sf,this.logger=dc,this.conn=null,this.sendBuffer=[],this.serializer=new lb,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._heartbeatSentAt=null,this._resolveFetch=i=>i?(...a)=>i(...a):(...a)=>fetch(...a),!(!((r=n==null?void 0:n.params)===null||r===void 0)&&r.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=n.params.apikey,this.endPoint=`${t}/${Tu.websocket}`,this.httpEndpoint=_g(t),this._initializeOptions(n),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(n==null?void 0:n.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=nb.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const n=t.message;throw n.includes("Node.js")?new Error(`${n}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${n}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(t,n){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const r=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(r),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(t?this.conn.close(t,n??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const n=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const t=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,n,r){this.logger(t,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case nr.connecting:return Br.Connecting;case nr.open:return Br.Open;case nr.closing:return Br.Closing;default:return Br.Closed}}isConnected(){return this.connectionState()===Br.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,n={config:{}}){const r=`realtime:${t}`,i=this.getChannels().find(a=>a.topic===r);if(i)return i;{const a=new Ri(`realtime:${t}`,n,this);return this.channels.push(a),a}}push(t){const{topic:n,event:r,payload:i,ref:a}=t,o=()=>{this.encode(t,s=>{var l;(l=this.conn)===null||l===void 0||l.send(s)})};this.log("push",`${n} ${r} (${a})`,i),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(n){this.log("error","error in heartbeat callback",n)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this._heartbeatSentAt=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(n){this.log("error","error in heartbeat callback",n)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(ob,"heartbeat timeout"),setTimeout(()=>{var n;this.isConnected()||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout()},To.HEARTBEAT_TIMEOUT_FALLBACK);return}this._heartbeatSentAt=Date.now(),this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(n){this.log("error","error in heartbeat callback",n)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let n=this.channels.find(r=>r.topic===t&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${t}"`),n.unsubscribe())}_remove(t){this.channels=this.channels.filter(n=>n.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,n=>{if(n.topic==="phoenix"&&n.event==="phx_reply"&&n.ref&&n.ref===this.pendingHeartbeatRef){const c=this._heartbeatSentAt?Date.now()-this._heartbeatSentAt:void 0;try{this.heartbeatCallback(n.payload.status==="ok"?"ok":"error",c)}catch(u){this.log("error","error in heartbeat callback",u)}this._heartbeatSentAt=null,this.pendingHeartbeatRef=null}const{topic:r,event:i,payload:a,ref:o}=n,s=o?`(${o})`:"",l=a.status||"";this.log("receive",`${l} ${r} ${i} ${s}`.trim(),a),this.channels.filter(c=>c._isMember(r)).forEach(c=>c._trigger(i,a,o)),this._triggerStateCallbacks("message",n)})}_clearTimer(t){var n;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((n=this.reconnectTimer)===null||n===void 0||n.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t),this.conn.readyState===nr.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===nr.open||this.conn.readyState===nr.connecting)try{this.conn.close()}catch(t){this.log("error","Error closing connection",t)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(n=>{this.log("error","error waiting for auth on connect",n),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this._terminateWorker()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(t){var n;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t)}_triggerChanError(){this.channels.forEach(t=>t._trigger(Rn.error))}_appendParams(t,n){if(Object.keys(n).length===0)return t;const r=t.match(/\?/)?"&":"?",i=new URLSearchParams(n);return`${t}${r}${i}`}_workerObjectUrl(t){let n;if(t)n=t;else{const r=new Blob([gb],{type:"application/javascript"});n=URL.createObjectURL(r)}return n}_setConnectionState(t,n=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=n)}async _performAuth(t=null){let n,r=!1;if(t)n=t,r=!0;else if(this.accessToken)try{n=await this.accessToken()}catch(i){this.log("error","Error fetching access token from callback",i),n=this.accessTokenValue}else n=this.accessTokenValue;r?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(i=>{const a={access_token:n,version:ib};n&&i.updateJoinPayload(a),i.joinedOnce&&i._isJoined()&&i._push(Rn.access_token,{access_token:n})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this._isManualToken()||this.setAuth().catch(n=>{this.log("error",`Error setting auth in ${t}`,n)})}_triggerStateCallbacks(t,n){try{this.stateChangeCallbacks[t].forEach(r=>{try{r(n)}catch(i){this.log("error",`error in ${t} callback`,i)}})}catch(r){this.log("error",`error triggering ${t} callbacks`,r)}}_setupReconnectionTimer(){this.reconnectTimer=new xg(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},To.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var n,r,i,a,o,s,l,c,u,m,f,g;switch(this.transport=(n=t==null?void 0:t.transport)!==null&&n!==void 0?n:null,this.timeout=(r=t==null?void 0:t.timeout)!==null&&r!==void 0?r:Pu,this.heartbeatIntervalMs=(i=t==null?void 0:t.heartbeatIntervalMs)!==null&&i!==void 0?i:To.HEARTBEAT_INTERVAL,this.worker=(a=t==null?void 0:t.worker)!==null&&a!==void 0?a:!1,this.accessToken=(o=t==null?void 0:t.accessToken)!==null&&o!==void 0?o:null,this.heartbeatCallback=(s=t==null?void 0:t.heartbeatCallback)!==null&&s!==void 0?s:dc,this.vsn=(l=t==null?void 0:t.vsn)!==null&&l!==void 0?l:Sf,t!=null&&t.params&&(this.params=t.params),t!=null&&t.logger&&(this.logger=t.logger),(t!=null&&t.logLevel||t!=null&&t.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(c=t==null?void 0:t.reconnectAfterMs)!==null&&c!==void 0?c:v=>mb[v-1]||yb,this.vsn){case vg:this.encode=(u=t==null?void 0:t.encode)!==null&&u!==void 0?u:(v,C)=>C(JSON.stringify(v)),this.decode=(m=t==null?void 0:t.decode)!==null&&m!==void 0?m:(v,C)=>C(JSON.parse(v));break;case ab:this.encode=(f=t==null?void 0:t.encode)!==null&&f!==void 0?f:this.serializer.encode.bind(this.serializer),this.decode=(g=t==null?void 0:t.decode)!==null&&g!==void 0?g:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t==null?void 0:t.workerUrl}}}var Qa=class extends Error{constructor(e,t){var n;super(e),this.name="IcebergError",this.status=t.status,this.icebergType=t.icebergType,this.icebergCode=t.icebergCode,this.details=t.details,this.isCommitStateUnknown=t.icebergType==="CommitStateUnknownException"||[500,502,504].includes(t.status)&&((n=t.icebergType)==null?void 0:n.includes("CommitState"))===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function xb(e,t,n){const r=new URL(t,e);if(n)for(const[i,a]of Object.entries(n))a!==void 0&&r.searchParams.set(i,a);return r.toString()}async function Cb(e){return!e||e.type==="none"?{}:e.type==="bearer"?{Authorization:`Bearer ${e.token}`}:e.type==="header"?{[e.name]:e.value}:e.type==="custom"?await e.getHeaders():{}}function _b(e){const t=e.fetchImpl??globalThis.fetch;return{async request({method:n,path:r,query:i,body:a,headers:o}){const s=xb(e.baseUrl,r,i),l=await Cb(e.auth),c=await t(s,{method:n,headers:{...a?{"Content-Type":"application/json"}:{},...l,...o},body:a?JSON.stringify(a):void 0}),u=await c.text(),m=(c.headers.get("content-type")||"").includes("application/json"),f=m&&u?JSON.parse(u):u;if(!c.ok){const g=m?f:void 0,v=g==null?void 0:g.error;throw new Qa((v==null?void 0:v.message)??`Request failed with status ${c.status}`,{status:c.status,icebergType:v==null?void 0:v.type,icebergCode:v==null?void 0:v.code,details:g})}return{status:c.status,headers:c.headers,data:f}}}}function Do(e){return e.join("")}var bb=class{constructor(e,t=""){this.client=e,this.prefix=t}async listNamespaces(e){const t=e?{parent:Do(e.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:t})).data.namespaces.map(r=>({namespace:r}))}async createNamespace(e,t){const n={namespace:e.namespace,properties:t==null?void 0:t.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:n})).data}async dropNamespace(e){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Do(e.namespace)}`})}async loadNamespaceMetadata(e){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Do(e.namespace)}`})).data.properties}}async namespaceExists(e){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Do(e.namespace)}`}),!0}catch(t){if(t instanceof Qa&&t.status===404)return!1;throw t}}async createNamespaceIfNotExists(e,t){try{return await this.createNamespace(e,t)}catch(n){if(n instanceof Qa&&n.status===409)return;throw n}}};function ri(e){return e.join("")}var wb=class{constructor(e,t="",n){this.client=e,this.prefix=t,this.accessDelegation=n}async listTables(e){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${ri(e.namespace)}/tables`})).data.identifiers}async createTable(e,t){const n={};return this.accessDelegation&&(n["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${ri(e.namespace)}/tables`,body:t,headers:n})).data.metadata}async updateTable(e,t){const n=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${ri(e.namespace)}/tables/${e.name}`,body:t});return{"metadata-location":n.data["metadata-location"],metadata:n.data.metadata}}async dropTable(e,t){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${ri(e.namespace)}/tables/${e.name}`,query:{purgeRequested:String((t==null?void 0:t.purge)??!1)}})}async loadTable(e){const t={};return this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${ri(e.namespace)}/tables/${e.name}`,headers:t})).data.metadata}async tableExists(e){const t={};this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${ri(e.namespace)}/tables/${e.name}`,headers:t}),!0}catch(n){if(n instanceof Qa&&n.status===404)return!1;throw n}}async createTableIfNotExists(e,t){try{return await this.createTable(e,t)}catch(n){if(n instanceof Qa&&n.status===409)return await this.loadTable({namespace:e.namespace,name:t.name});throw n}}},Sb=class{constructor(e){var r;let t="v1";e.catalogName&&(t+=`/${e.catalogName}`);const n=e.baseUrl.endsWith("/")?e.baseUrl:`${e.baseUrl}/`;this.client=_b({baseUrl:n,auth:e.auth,fetchImpl:e.fetch}),this.accessDelegation=(r=e.accessDelegation)==null?void 0:r.join(","),this.namespaceOps=new bb(this.client,t),this.tableOps=new wb(this.client,t,this.accessDelegation)}async listNamespaces(e){return this.namespaceOps.listNamespaces(e)}async createNamespace(e,t){return this.namespaceOps.createNamespace(e,t)}async dropNamespace(e){await this.namespaceOps.dropNamespace(e)}async loadNamespaceMetadata(e){return this.namespaceOps.loadNamespaceMetadata(e)}async listTables(e){return this.tableOps.listTables(e)}async createTable(e,t){return this.tableOps.createTable(e,t)}async updateTable(e,t){return this.tableOps.updateTable(e,t)}async dropTable(e,t){await this.tableOps.dropTable(e,t)}async loadTable(e){return this.tableOps.loadTable(e)}async namespaceExists(e){return this.namespaceOps.namespaceExists(e)}async tableExists(e){return this.tableOps.tableExists(e)}async createNamespaceIfNotExists(e,t){return this.namespaceOps.createNamespaceIfNotExists(e,t)}async createTableIfNotExists(e,t){return this.tableOps.createTableIfNotExists(e,t)}},Ws=class extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}};function Qe(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}var Eb=class extends Ws{constructor(e,t,n){super(e),this.name="StorageApiError",this.status=t,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},ju=class extends Ws{constructor(e,t){super(e),this.name="StorageUnknownError",this.originalError=t}};const qd=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),Ab=()=>Response,Bu=e=>{if(Array.isArray(e))return e.map(n=>Bu(n));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([n,r])=>{const i=n.replace(/([-_][a-z])/gi,a=>a.toUpperCase().replace(/[-_]/g,""));t[i]=Bu(r)}),t},kb=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},Rb=e=>!e||typeof e!="string"||e.length===0||e.length>100||e.trim()!==e||e.includes("/")||e.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(e);function Xa(e){"@babel/helpers - typeof";return Xa=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Xa(e)}function Pb(e,t){if(Xa(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Xa(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Tb(e){var t=Pb(e,"string");return Xa(t)=="symbol"?t:t+""}function Db(e,t,n){return(t=Tb(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Rf(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function pe(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Rf(Object(n),!0).forEach(function(r){Db(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Rf(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}const hc=e=>{var t;return e.msg||e.message||e.error_description||(typeof e.error=="string"?e.error:(t=e.error)===null||t===void 0?void 0:t.message)||JSON.stringify(e)},jb=async(e,t,n)=>{e instanceof await Ab()&&!(n!=null&&n.noResolveJson)?e.json().then(r=>{const i=e.status||500,a=(r==null?void 0:r.statusCode)||i+"";t(new Eb(hc(r),i,a))}).catch(r=>{t(new ju(hc(r),r))}):t(new ju(hc(e),e))},Bb=(e,t,n,r)=>{const i={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"||!r?i:(kb(r)?(i.headers=pe({"Content-Type":"application/json"},t==null?void 0:t.headers),i.body=JSON.stringify(r)):i.body=r,t!=null&&t.duplex&&(i.duplex=t.duplex),pe(pe({},i),n))};async function uo(e,t,n,r,i,a){return new Promise((o,s)=>{e(n,Bb(t,r,i,a)).then(l=>{if(!l.ok)throw l;return r!=null&&r.noResolveJson?l:l.json()}).then(l=>o(l)).catch(l=>jb(l,s,r))})}async function Za(e,t,n,r){return uo(e,"GET",t,n,r)}async function En(e,t,n,r,i){return uo(e,"POST",t,r,i,n)}async function Fu(e,t,n,r,i){return uo(e,"PUT",t,r,i,n)}async function Fb(e,t,n,r){return uo(e,"HEAD",t,pe(pe({},n),{},{noResolveJson:!0}),r)}async function Vd(e,t,n,r,i){return uo(e,"DELETE",t,r,i,n)}var Mb=class{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t}then(e,t){return this.execute().then(e,t)}async execute(){var e=this;try{return{data:(await e.downloadFn()).body,error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(Qe(t))return{data:null,error:t};throw t}}};let bg;bg=Symbol.toStringTag;var Ob=class{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t,this[bg]="BlobDownloadBuilder",this.promise=null}asStream(){return new Mb(this.downloadFn,this.shouldThrowOnError)}then(e,t){return this.getPromise().then(e,t)}catch(e){return this.getPromise().catch(e)}finally(e){return this.getPromise().finally(e)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}async execute(){var e=this;try{return{data:await(await e.downloadFn()).blob(),error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(Qe(t))return{data:null,error:t};throw t}}};const Ib={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Pf={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};var Lb=class{constructor(e,t={},n,r){this.shouldThrowOnError=!1,this.url=e,this.headers=t,this.bucketId=n,this.fetch=qd(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async uploadOrUpdate(e,t,n,r){var i=this;try{let a;const o=pe(pe({},Pf),r);let s=pe(pe({},i.headers),e==="POST"&&{"x-upsert":String(o.upsert)});const l=o.metadata;typeof Blob<"u"&&n instanceof Blob?(a=new FormData,a.append("cacheControl",o.cacheControl),l&&a.append("metadata",i.encodeMetadata(l)),a.append("",n)):typeof FormData<"u"&&n instanceof FormData?(a=n,a.has("cacheControl")||a.append("cacheControl",o.cacheControl),l&&!a.has("metadata")&&a.append("metadata",i.encodeMetadata(l))):(a=n,s["cache-control"]=`max-age=${o.cacheControl}`,s["content-type"]=o.contentType,l&&(s["x-metadata"]=i.toBase64(i.encodeMetadata(l))),(typeof ReadableStream<"u"&&a instanceof ReadableStream||a&&typeof a=="object"&&"pipe"in a&&typeof a.pipe=="function")&&!o.duplex&&(o.duplex="half")),r!=null&&r.headers&&(s=pe(pe({},s),r.headers));const c=i._removeEmptyFolders(t),u=i._getFinalPath(c),m=await(e=="PUT"?Fu:En)(i.fetch,`${i.url}/object/${u}`,a,pe({headers:s},o!=null&&o.duplex?{duplex:o.duplex}:{}));return{data:{path:c,id:m.Id,fullPath:m.Key},error:null}}catch(a){if(i.shouldThrowOnError)throw a;if(Qe(a))return{data:null,error:a};throw a}}async upload(e,t,n){return this.uploadOrUpdate("POST",e,t,n)}async uploadToSignedUrl(e,t,n,r){var i=this;const a=i._removeEmptyFolders(e),o=i._getFinalPath(a),s=new URL(i.url+`/object/upload/sign/${o}`);s.searchParams.set("token",t);try{let l;const c=pe({upsert:Pf.upsert},r),u=pe(pe({},i.headers),{"x-upsert":String(c.upsert)});return typeof Blob<"u"&&n instanceof Blob?(l=new FormData,l.append("cacheControl",c.cacheControl),l.append("",n)):typeof FormData<"u"&&n instanceof FormData?(l=n,l.append("cacheControl",c.cacheControl)):(l=n,u["cache-control"]=`max-age=${c.cacheControl}`,u["content-type"]=c.contentType),{data:{path:a,fullPath:(await Fu(i.fetch,s.toString(),l,{headers:u})).Key},error:null}}catch(l){if(i.shouldThrowOnError)throw l;if(Qe(l))return{data:null,error:l};throw l}}async createSignedUploadUrl(e,t){var n=this;try{let r=n._getFinalPath(e);const i=pe({},n.headers);t!=null&&t.upsert&&(i["x-upsert"]="true");const a=await En(n.fetch,`${n.url}/object/upload/sign/${r}`,{},{headers:i}),o=new URL(n.url+a.url),s=o.searchParams.get("token");if(!s)throw new Ws("No token returned by API");return{data:{signedUrl:o.toString(),path:e,token:s},error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(Qe(r))return{data:null,error:r};throw r}}async update(e,t,n){return this.uploadOrUpdate("PUT",e,t,n)}async move(e,t,n){var r=this;try{return{data:await En(r.fetch,`${r.url}/object/move`,{bucketId:r.bucketId,sourceKey:e,destinationKey:t,destinationBucket:n==null?void 0:n.destinationBucket},{headers:r.headers}),error:null}}catch(i){if(r.shouldThrowOnError)throw i;if(Qe(i))return{data:null,error:i};throw i}}async copy(e,t,n){var r=this;try{return{data:{path:(await En(r.fetch,`${r.url}/object/copy`,{bucketId:r.bucketId,sourceKey:e,destinationKey:t,destinationBucket:n==null?void 0:n.destinationBucket},{headers:r.headers})).Key},error:null}}catch(i){if(r.shouldThrowOnError)throw i;if(Qe(i))return{data:null,error:i};throw i}}async createSignedUrl(e,t,n){var r=this;try{let i=r._getFinalPath(e),a=await En(r.fetch,`${r.url}/object/sign/${i}`,pe({expiresIn:t},n!=null&&n.transform?{transform:n.transform}:{}),{headers:r.headers});const o=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return a={signedUrl:encodeURI(`${r.url}${a.signedURL}${o}`)},{data:a,error:null}}catch(i){if(r.shouldThrowOnError)throw i;if(Qe(i))return{data:null,error:i};throw i}}async createSignedUrls(e,t,n){var r=this;try{const i=await En(r.fetch,`${r.url}/object/sign/${r.bucketId}`,{expiresIn:t,paths:e},{headers:r.headers}),a=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:i.map(o=>pe(pe({},o),{},{signedUrl:o.signedURL?encodeURI(`${r.url}${o.signedURL}${a}`):null})),error:null}}catch(i){if(r.shouldThrowOnError)throw i;if(Qe(i))return{data:null,error:i};throw i}}download(e,t){const n=typeof(t==null?void 0:t.transform)<"u"?"render/image/authenticated":"object",r=this.transformOptsToQueryString((t==null?void 0:t.transform)||{}),i=r?`?${r}`:"",a=this._getFinalPath(e),o=()=>Za(this.fetch,`${this.url}/${n}/${a}${i}`,{headers:this.headers,noResolveJson:!0});return new Ob(o,this.shouldThrowOnError)}async info(e){var t=this;const n=t._getFinalPath(e);try{return{data:Bu(await Za(t.fetch,`${t.url}/object/info/${n}`,{headers:t.headers})),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Qe(r))return{data:null,error:r};throw r}}async exists(e){var t=this;const n=t._getFinalPath(e);try{return await Fb(t.fetch,`${t.url}/object/${n}`,{headers:t.headers}),{data:!0,error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Qe(r)&&r instanceof ju){const i=r.originalError;if([400,404].includes(i==null?void 0:i.status))return{data:!1,error:r}}throw r}}getPublicUrl(e,t){const n=this._getFinalPath(e),r=[],i=t!=null&&t.download?`download=${t.download===!0?"":t.download}`:"";i!==""&&r.push(i);const a=typeof(t==null?void 0:t.transform)<"u"?"render/image":"object",o=this.transformOptsToQueryString((t==null?void 0:t.transform)||{});o!==""&&r.push(o);let s=r.join("&");return s!==""&&(s=`?${s}`),{data:{publicUrl:encodeURI(`${this.url}/${a}/public/${n}${s}`)}}}async remove(e){var t=this;try{return{data:await Vd(t.fetch,`${t.url}/object/${t.bucketId}`,{prefixes:e},{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(Qe(n))return{data:null,error:n};throw n}}async list(e,t,n){var r=this;try{const i=pe(pe(pe({},Ib),t),{},{prefix:e||""});return{data:await En(r.fetch,`${r.url}/object/list/${r.bucketId}`,i,{headers:r.headers},n),error:null}}catch(i){if(r.shouldThrowOnError)throw i;if(Qe(i))return{data:null,error:i};throw i}}async listV2(e,t){var n=this;try{const r=pe({},e);return{data:await En(n.fetch,`${n.url}/object/list-v2/${n.bucketId}`,r,{headers:n.headers},t),error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(Qe(r))return{data:null,error:r};throw r}}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const t=[];return e.width&&t.push(`width=${e.width}`),e.height&&t.push(`height=${e.height}`),e.resize&&t.push(`resize=${e.resize}`),e.format&&t.push(`format=${e.format}`),e.quality&&t.push(`quality=${e.quality}`),t.join("&")}};const wg="2.90.1",Sg={"X-Client-Info":`storage-js/${wg}`};var Nb=class{constructor(e,t={},n,r){this.shouldThrowOnError=!1;const i=new URL(e);r!=null&&r.useNewHostname&&/supabase\.(co|in|red)$/.test(i.hostname)&&!i.hostname.includes("storage.supabase.")&&(i.hostname=i.hostname.replace("supabase.","storage.supabase.")),this.url=i.href.replace(/\/$/,""),this.headers=pe(pe({},Sg),t),this.fetch=qd(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async listBuckets(e){var t=this;try{const n=t.listBucketOptionsToQueryString(e);return{data:await Za(t.fetch,`${t.url}/bucket${n}`,{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(Qe(n))return{data:null,error:n};throw n}}async getBucket(e){var t=this;try{return{data:await Za(t.fetch,`${t.url}/bucket/${e}`,{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(Qe(n))return{data:null,error:n};throw n}}async createBucket(e,t={public:!1}){var n=this;try{return{data:await En(n.fetch,`${n.url}/bucket`,{id:e,name:e,type:t.type,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:n.headers}),error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(Qe(r))return{data:null,error:r};throw r}}async updateBucket(e,t){var n=this;try{return{data:await Fu(n.fetch,`${n.url}/bucket/${e}`,{id:e,name:e,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:n.headers}),error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(Qe(r))return{data:null,error:r};throw r}}async emptyBucket(e){var t=this;try{return{data:await En(t.fetch,`${t.url}/bucket/${e}/empty`,{},{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(Qe(n))return{data:null,error:n};throw n}}async deleteBucket(e){var t=this;try{return{data:await Vd(t.fetch,`${t.url}/bucket/${e}`,{},{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(Qe(n))return{data:null,error:n};throw n}}listBucketOptionsToQueryString(e){const t={};return e&&("limit"in e&&(t.limit=String(e.limit)),"offset"in e&&(t.offset=String(e.offset)),e.search&&(t.search=e.search),e.sortColumn&&(t.sortColumn=e.sortColumn),e.sortOrder&&(t.sortOrder=e.sortOrder)),Object.keys(t).length>0?"?"+new URLSearchParams(t).toString():""}},$b=class{constructor(e,t={},n){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=pe(pe({},Sg),t),this.fetch=qd(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(e){var t=this;try{return{data:await En(t.fetch,`${t.url}/bucket`,{name:e},{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(Qe(n))return{data:null,error:n};throw n}}async listBuckets(e){var t=this;try{const n=new URLSearchParams;(e==null?void 0:e.limit)!==void 0&&n.set("limit",e.limit.toString()),(e==null?void 0:e.offset)!==void 0&&n.set("offset",e.offset.toString()),e!=null&&e.sortColumn&&n.set("sortColumn",e.sortColumn),e!=null&&e.sortOrder&&n.set("sortOrder",e.sortOrder),e!=null&&e.search&&n.set("search",e.search);const r=n.toString(),i=r?`${t.url}/bucket?${r}`:`${t.url}/bucket`;return{data:await Za(t.fetch,i,{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(Qe(n))return{data:null,error:n};throw n}}async deleteBucket(e){var t=this;try{return{data:await Vd(t.fetch,`${t.url}/bucket/${e}`,{},{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(Qe(n))return{data:null,error:n};throw n}}from(e){var t=this;if(!Rb(e))throw new Ws("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const n=new Sb({baseUrl:this.url,catalogName:e,auth:{type:"custom",getHeaders:async()=>t.headers},fetch:this.fetch}),r=this.shouldThrowOnError;return new Proxy(n,{get(i,a){const o=i[a];return typeof o!="function"?o:async(...s)=>{try{return{data:await o.apply(i,s),error:null}}catch(l){if(r)throw l;return{data:null,error:l}}}}})}};const Wd={"X-Client-Info":`storage-js/${wg}`,"Content-Type":"application/json"};var Eg=class extends Error{constructor(e){super(e),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}};function nn(e){return typeof e=="object"&&e!==null&&"__isStorageVectorsError"in e}var fc=class extends Eg{constructor(e,t,n){super(e),this.name="StorageVectorsApiError",this.status=t,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},Ub=class extends Eg{constructor(e,t){super(e),this.name="StorageVectorsUnknownError",this.originalError=t}};const Yd=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),Jb=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},Tf=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),zb=async(e,t,n)=>{if(e&&typeof e=="object"&&"status"in e&&"ok"in e&&typeof e.status=="number"&&!(n!=null&&n.noResolveJson)){const r=e.status||500,i=e;if(typeof i.json=="function")i.json().then(a=>{const o=(a==null?void 0:a.statusCode)||(a==null?void 0:a.code)||r+"";t(new fc(Tf(a),r,o))}).catch(()=>{const a=r+"";t(new fc(i.statusText||`HTTP ${r} error`,r,a))});else{const a=r+"";t(new fc(i.statusText||`HTTP ${r} error`,r,a))}}else t(new Ub(Tf(e),e))},Kb=(e,t,n,r)=>{const i={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"||!r?i:(Jb(r)?(i.headers=pe({"Content-Type":"application/json"},t==null?void 0:t.headers),i.body=JSON.stringify(r)):i.body=r,pe(pe({},i),n))};async function Hb(e,t,n,r,i,a){return new Promise((o,s)=>{e(n,Kb(t,r,i,a)).then(l=>{if(!l.ok)throw l;if(r!=null&&r.noResolveJson)return l;const c=l.headers.get("content-type");return!c||!c.includes("application/json")?{}:l.json()}).then(l=>o(l)).catch(l=>zb(l,s,r))})}async function rn(e,t,n,r,i){return Hb(e,"POST",t,r,i,n)}var Gb=class{constructor(e,t={},n){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=pe(pe({},Wd),t),this.fetch=Yd(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async createIndex(e){var t=this;try{return{data:await rn(t.fetch,`${t.url}/CreateIndex`,e,{headers:t.headers})||{},error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(nn(n))return{data:null,error:n};throw n}}async getIndex(e,t){var n=this;try{return{data:await rn(n.fetch,`${n.url}/GetIndex`,{vectorBucketName:e,indexName:t},{headers:n.headers}),error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(nn(r))return{data:null,error:r};throw r}}async listIndexes(e){var t=this;try{return{data:await rn(t.fetch,`${t.url}/ListIndexes`,e,{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(nn(n))return{data:null,error:n};throw n}}async deleteIndex(e,t){var n=this;try{return{data:await rn(n.fetch,`${n.url}/DeleteIndex`,{vectorBucketName:e,indexName:t},{headers:n.headers})||{},error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(nn(r))return{data:null,error:r};throw r}}},qb=class{constructor(e,t={},n){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=pe(pe({},Wd),t),this.fetch=Yd(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async putVectors(e){var t=this;try{if(e.vectors.length<1||e.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:await rn(t.fetch,`${t.url}/PutVectors`,e,{headers:t.headers})||{},error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(nn(n))return{data:null,error:n};throw n}}async getVectors(e){var t=this;try{return{data:await rn(t.fetch,`${t.url}/GetVectors`,e,{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(nn(n))return{data:null,error:n};throw n}}async listVectors(e){var t=this;try{if(e.segmentCount!==void 0){if(e.segmentCount<1||e.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(e.segmentIndex!==void 0&&(e.segmentIndex<0||e.segmentIndex>=e.segmentCount))throw new Error(`segmentIndex must be between 0 and ${e.segmentCount-1}`)}return{data:await rn(t.fetch,`${t.url}/ListVectors`,e,{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(nn(n))return{data:null,error:n};throw n}}async queryVectors(e){var t=this;try{return{data:await rn(t.fetch,`${t.url}/QueryVectors`,e,{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(nn(n))return{data:null,error:n};throw n}}async deleteVectors(e){var t=this;try{if(e.keys.length<1||e.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:await rn(t.fetch,`${t.url}/DeleteVectors`,e,{headers:t.headers})||{},error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(nn(n))return{data:null,error:n};throw n}}},Vb=class{constructor(e,t={},n){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=pe(pe({},Wd),t),this.fetch=Yd(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(e){var t=this;try{return{data:await rn(t.fetch,`${t.url}/CreateVectorBucket`,{vectorBucketName:e},{headers:t.headers})||{},error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(nn(n))return{data:null,error:n};throw n}}async getBucket(e){var t=this;try{return{data:await rn(t.fetch,`${t.url}/GetVectorBucket`,{vectorBucketName:e},{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(nn(n))return{data:null,error:n};throw n}}async listBuckets(e={}){var t=this;try{return{data:await rn(t.fetch,`${t.url}/ListVectorBuckets`,e,{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(nn(n))return{data:null,error:n};throw n}}async deleteBucket(e){var t=this;try{return{data:await rn(t.fetch,`${t.url}/DeleteVectorBucket`,{vectorBucketName:e},{headers:t.headers})||{},error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(nn(n))return{data:null,error:n};throw n}}},Wb=class extends Vb{constructor(e,t={}){super(e,t.headers||{},t.fetch)}from(e){return new Yb(this.url,this.headers,e,this.fetch)}async createBucket(e){var t=()=>super.createBucket,n=this;return t().call(n,e)}async getBucket(e){var t=()=>super.getBucket,n=this;return t().call(n,e)}async listBuckets(e={}){var t=()=>super.listBuckets,n=this;return t().call(n,e)}async deleteBucket(e){var t=()=>super.deleteBucket,n=this;return t().call(n,e)}},Yb=class extends Gb{constructor(e,t,n,r){super(e,t,r),this.vectorBucketName=n}async createIndex(e){var t=()=>super.createIndex,n=this;return t().call(n,pe(pe({},e),{},{vectorBucketName:n.vectorBucketName}))}async listIndexes(e={}){var t=()=>super.listIndexes,n=this;return t().call(n,pe(pe({},e),{},{vectorBucketName:n.vectorBucketName}))}async getIndex(e){var t=()=>super.getIndex,n=this;return t().call(n,n.vectorBucketName,e)}async deleteIndex(e){var t=()=>super.deleteIndex,n=this;return t().call(n,n.vectorBucketName,e)}index(e){return new Qb(this.url,this.headers,this.vectorBucketName,e,this.fetch)}},Qb=class extends qb{constructor(e,t,n,r,i){super(e,t,i),this.vectorBucketName=n,this.indexName=r}async putVectors(e){var t=()=>super.putVectors,n=this;return t().call(n,pe(pe({},e),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async getVectors(e){var t=()=>super.getVectors,n=this;return t().call(n,pe(pe({},e),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async listVectors(e={}){var t=()=>super.listVectors,n=this;return t().call(n,pe(pe({},e),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async queryVectors(e){var t=()=>super.queryVectors,n=this;return t().call(n,pe(pe({},e),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async deleteVectors(e){var t=()=>super.deleteVectors,n=this;return t().call(n,pe(pe({},e),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}},Xb=class extends Nb{constructor(e,t={},n,r){super(e,t,n,r)}from(e){return new Lb(this.url,this.headers,e,this.fetch)}get vectors(){return new Wb(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new $b(this.url+"/iceberg",this.headers,this.fetch)}};function Ys(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n}const Ag="2.90.1",di=30*1e3,Mu=3,pc=Mu*di,Zb="http://localhost:9999",ew="supabase.auth.token",tw={"X-Client-Info":`gotrue-js/${Ag}`},Ou="X-Supabase-Api-Version",kg={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},nw=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,rw=10*60*1e3;class eo extends Error{constructor(t,n,r){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=r}}function ue(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class iw extends eo{constructor(t,n,r){super(t,n,r),this.name="AuthApiError",this.status=n,this.code=r}}function aw(e){return ue(e)&&e.name==="AuthApiError"}class Fr extends eo{constructor(t,n){super(t),this.name="AuthUnknownError",this.originalError=n}}class Yn extends eo{constructor(t,n,r,i){super(t,r,i),this.name=n,this.status=r}}class en extends Yn{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function ow(e){return ue(e)&&e.name==="AuthSessionMissingError"}class ii extends Yn{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class jo extends Yn{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class Bo extends Yn{constructor(t,n=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function sw(e){return ue(e)&&e.name==="AuthImplicitGrantRedirectError"}class Df extends Yn{constructor(t,n=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class lw extends Yn{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}}class Iu extends Yn{constructor(t,n){super(t,"AuthRetryableFetchError",n,void 0)}}function mc(e){return ue(e)&&e.name==="AuthRetryableFetchError"}class jf extends Yn{constructor(t,n,r){super(t,"AuthWeakPasswordError",n,"weak_password"),this.reasons=r}}class Lu extends Yn{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const As="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Bf=` 	
\r=`.split(""),cw=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<Bf.length;t+=1)e[Bf[t].charCodeAt(0)]=-2;for(let t=0;t<As.length;t+=1)e[As[t].charCodeAt(0)]=t;return e})();function Ff(e,t,n){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const r=t.queue>>t.queuedBits-6&63;n(As[r]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const r=t.queue>>t.queuedBits-6&63;n(As[r]),t.queuedBits-=6}}function Rg(e,t,n){const r=cw[e];if(r>-1)for(t.queue=t.queue<<6|r,t.queuedBits+=6;t.queuedBits>=8;)n(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function Mf(e){const t=[],n=o=>{t.push(String.fromCodePoint(o))},r={utf8seq:0,codepoint:0},i={queue:0,queuedBits:0},a=o=>{hw(o,r,n)};for(let o=0;o<e.length;o+=1)Rg(e.charCodeAt(o),i,a);return t.join("")}function uw(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function dw(e,t){for(let n=0;n<e.length;n+=1){let r=e.charCodeAt(n);if(r>55295&&r<=56319){const i=(r-55296)*1024&65535;r=(e.charCodeAt(n+1)-56320&65535|i)+65536,n+=1}uw(r,t)}}function hw(e,t,n){if(t.utf8seq===0){if(e<=127){n(e);return}for(let r=1;r<6;r+=1)if(!(e>>7-r&1)){t.utf8seq=r;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&n(t.codepoint)}}function Li(e){const t=[],n={queue:0,queuedBits:0},r=i=>{t.push(i)};for(let i=0;i<e.length;i+=1)Rg(e.charCodeAt(i),n,r);return new Uint8Array(t)}function fw(e){const t=[];return dw(e,n=>t.push(n)),new Uint8Array(t)}function $r(e){const t=[],n={queue:0,queuedBits:0},r=i=>{t.push(i)};return e.forEach(i=>Ff(i,n,r)),Ff(null,n,r),t.join("")}function pw(e){return Math.round(Date.now()/1e3)+e}function mw(){return Symbol("auth-callback")}const Et=()=>typeof window<"u"&&typeof document<"u",Er={tested:!1,writable:!1},Pg=()=>{if(!Et())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Er.tested)return Er.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),Er.tested=!0,Er.writable=!0}catch{Er.tested=!0,Er.writable=!1}return Er.writable};function yw(e){const t={},n=new URL(e);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((i,a)=>{t[a]=i})}catch{}return n.searchParams.forEach((r,i)=>{t[i]=r}),t}const Tg=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),gw=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",hi=async(e,t,n)=>{await e.setItem(t,JSON.stringify(n))},Ar=async(e,t)=>{const n=await e.getItem(t);if(!n)return null;try{return JSON.parse(n)}catch{return n}},St=async(e,t)=>{await e.removeItem(t)};class Qs{constructor(){this.promise=new Qs.promiseConstructor((t,n)=>{this.resolve=t,this.reject=n})}}Qs.promiseConstructor=Promise;function yc(e){const t=e.split(".");if(t.length!==3)throw new Lu("Invalid JWT structure");for(let r=0;r<t.length;r++)if(!nw.test(t[r]))throw new Lu("JWT not in base64url format");return{header:JSON.parse(Mf(t[0])),payload:JSON.parse(Mf(t[1])),signature:Li(t[2]),raw:{header:t[0],payload:t[1]}}}async function vw(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function xw(e,t){return new Promise((r,i)=>{(async()=>{for(let a=0;a<1/0;a++)try{const o=await e(a);if(!t(a,null,o)){r(o);return}}catch(o){if(!t(a,o)){i(o);return}}})()})}function Cw(e){return("0"+e.toString(16)).substr(-2)}function _w(){const t=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length;let i="";for(let a=0;a<56;a++)i+=n.charAt(Math.floor(Math.random()*r));return i}return crypto.getRandomValues(t),Array.from(t,Cw).join("")}async function bw(e){const n=new TextEncoder().encode(e),r=await crypto.subtle.digest("SHA-256",n),i=new Uint8Array(r);return Array.from(i).map(a=>String.fromCharCode(a)).join("")}async function ww(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const n=await bw(e);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function ai(e,t,n=!1){const r=_w();let i=r;n&&(i+="/PASSWORD_RECOVERY"),await hi(e,`${t}-code-verifier`,i);const a=await ww(r);return[a,r===a?"plain":"s256"]}const Sw=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function Ew(e){const t=e.headers.get(Ou);if(!t||!t.match(Sw))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function Aw(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function kw(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const Rw=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function oi(e){if(!Rw.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function gc(){const e={};return new Proxy(e,{get:(t,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){const r=n.toString();if(r==="Symbol(Symbol.toPrimitive)"||r==="Symbol(Symbol.toStringTag)"||r==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function Pw(e,t){return new Proxy(e,{get:(n,r,i)=>{if(r==="__isInsecureUserWarningProxy")return!0;if(typeof r=="symbol"){const a=r.toString();if(a==="Symbol(Symbol.toPrimitive)"||a==="Symbol(Symbol.toStringTag)"||a==="Symbol(util.inspect.custom)"||a==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(n,r,i)}return!t.value&&typeof r=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),t.value=!0),Reflect.get(n,r,i)}})}function Of(e){return JSON.parse(JSON.stringify(e))}const Pr=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),Tw=[502,503,504];async function If(e){var t;if(!gw(e))throw new Iu(Pr(e),0);if(Tw.includes(e.status))throw new Iu(Pr(e),e.status);let n;try{n=await e.json()}catch(a){throw new Fr(Pr(a),a)}let r;const i=Ew(e);if(i&&i.getTime()>=kg["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?r=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(r=n.error_code),r){if(r==="weak_password")throw new jf(Pr(n),e.status,((t=n.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(r==="session_not_found")throw new en}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((a,o)=>a&&typeof o=="string",!0))throw new jf(Pr(n),e.status,n.weak_password.reasons);throw new iw(Pr(n),e.status||500,r)}const Dw=(e,t,n,r)=>{const i={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),i.body=JSON.stringify(r),Object.assign(Object.assign({},i),n))};async function fe(e,t,n,r){var i;const a=Object.assign({},r==null?void 0:r.headers);a[Ou]||(a[Ou]=kg["2024-01-01"].name),r!=null&&r.jwt&&(a.Authorization=`Bearer ${r.jwt}`);const o=(i=r==null?void 0:r.query)!==null&&i!==void 0?i:{};r!=null&&r.redirectTo&&(o.redirect_to=r.redirectTo);const s=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",l=await jw(e,t,n+s,{headers:a,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(l):{data:Object.assign({},l),error:null}}async function jw(e,t,n,r,i,a){const o=Dw(t,r,i,a);let s;try{s=await e(n,Object.assign({},o))}catch(l){throw console.error(l),new Iu(Pr(l),0)}if(s.ok||await If(s),r!=null&&r.noResolveJson)return s;try{return await s.json()}catch(l){await If(l)}}function wn(e){var t;let n=null;Mw(e)&&(n=Object.assign({},e),e.expires_at||(n.expires_at=pw(e.expires_in)));const r=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:n,user:r},error:null}}function Lf(e){const t=wn(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)&&(t.data.weak_password=e.weak_password),t}function ar(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function Bw(e){return{data:e,error:null}}function Fw(e){const{action_link:t,email_otp:n,hashed_token:r,redirect_to:i,verification_type:a}=e,o=Ys(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),s={action_link:t,email_otp:n,hashed_token:r,redirect_to:i,verification_type:a},l=Object.assign({},o);return{data:{properties:s,user:l},error:null}}function Nf(e){return e}function Mw(e){return e.access_token&&e.refresh_token&&e.expires_in}const vc=["global","local","others"];class Ow{constructor({url:t="",headers:n={},fetch:r}){this.url=t,this.headers=n,this.fetch=Tg(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(t,n=vc[0]){if(vc.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${vc.join(", ")}`);try{return await fe(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(r){if(ue(r))return{data:null,error:r};throw r}}async inviteUserByEmail(t,n={}){try{return await fe(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:ar})}catch(r){if(ue(r))return{data:{user:null},error:r};throw r}}async generateLink(t){try{const{options:n}=t,r=Ys(t,["options"]),i=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(i.new_email=r==null?void 0:r.newEmail,delete i.newEmail),await fe(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:Fw,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(ue(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(t){try{return await fe(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:ar})}catch(n){if(ue(n))return{data:{user:null},error:n};throw n}}async listUsers(t){var n,r,i,a,o,s,l;try{const c={nextPage:null,lastPage:0,total:0},u=await fe(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=t==null?void 0:t.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(a=(i=t==null?void 0:t.perPage)===null||i===void 0?void 0:i.toString())!==null&&a!==void 0?a:""},xform:Nf});if(u.error)throw u.error;const m=await u.json(),f=(o=u.headers.get("x-total-count"))!==null&&o!==void 0?o:0,g=(l=(s=u.headers.get("link"))===null||s===void 0?void 0:s.split(","))!==null&&l!==void 0?l:[];return g.length>0&&(g.forEach(v=>{const C=parseInt(v.split(";")[0].split("=")[1].substring(0,1)),_=JSON.parse(v.split(";")[1].split("=")[1]);c[`${_}Page`]=C}),c.total=parseInt(f)),{data:Object.assign(Object.assign({},m),c),error:null}}catch(c){if(ue(c))return{data:{users:[]},error:c};throw c}}async getUserById(t){oi(t);try{return await fe(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:ar})}catch(n){if(ue(n))return{data:{user:null},error:n};throw n}}async updateUserById(t,n){oi(t);try{return await fe(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:n,headers:this.headers,xform:ar})}catch(r){if(ue(r))return{data:{user:null},error:r};throw r}}async deleteUser(t,n=!1){oi(t);try{return await fe(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:n},xform:ar})}catch(r){if(ue(r))return{data:{user:null},error:r};throw r}}async _listFactors(t){oi(t.userId);try{const{data:n,error:r}=await fe(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:n,error:r}}catch(n){if(ue(n))return{data:null,error:n};throw n}}async _deleteFactor(t){oi(t.userId),oi(t.id);try{return{data:await fe(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(n){if(ue(n))return{data:null,error:n};throw n}}async _listOAuthClients(t){var n,r,i,a,o,s,l;try{const c={nextPage:null,lastPage:0,total:0},u=await fe(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=t==null?void 0:t.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(a=(i=t==null?void 0:t.perPage)===null||i===void 0?void 0:i.toString())!==null&&a!==void 0?a:""},xform:Nf});if(u.error)throw u.error;const m=await u.json(),f=(o=u.headers.get("x-total-count"))!==null&&o!==void 0?o:0,g=(l=(s=u.headers.get("link"))===null||s===void 0?void 0:s.split(","))!==null&&l!==void 0?l:[];return g.length>0&&(g.forEach(v=>{const C=parseInt(v.split(";")[0].split("=")[1].substring(0,1)),_=JSON.parse(v.split(";")[1].split("=")[1]);c[`${_}Page`]=C}),c.total=parseInt(f)),{data:Object.assign(Object.assign({},m),c),error:null}}catch(c){if(ue(c))return{data:{clients:[]},error:c};throw c}}async _createOAuthClient(t){try{return await fe(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:t,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(ue(n))return{data:null,error:n};throw n}}async _getOAuthClient(t){try{return await fe(this.fetch,"GET",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(ue(n))return{data:null,error:n};throw n}}async _updateOAuthClient(t,n){try{return await fe(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${t}`,{body:n,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(ue(r))return{data:null,error:r};throw r}}async _deleteOAuthClient(t){try{return await fe(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(n){if(ue(n))return{data:null,error:n};throw n}}async _regenerateOAuthClientSecret(t){try{return await fe(this.fetch,"POST",`${this.url}/admin/oauth/clients/${t}/regenerate_secret`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(ue(n))return{data:null,error:n};throw n}}}function $f(e={}){return{getItem:t=>e[t]||null,setItem:(t,n)=>{e[t]=n},removeItem:t=>{delete e[t]}}}const si={debug:!!(globalThis&&Pg()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Dg extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class Iw extends Dg{}async function Lw(e,t,n){si.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const r=new globalThis.AbortController;return t>0&&setTimeout(()=>{r.abort(),si.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async i=>{if(i){si.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,i.name);try{return await n()}finally{si.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,i.name)}}else{if(t===0)throw si.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new Iw(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(si.debug)try{const a=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(a,null,"  "))}catch(a){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",a)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}function Nw(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function jg(e){if(!/^0x[a-fA-F0-9]{40}$/.test(e))throw new Error(`@supabase/auth-js: Address "${e}" is invalid.`);return e.toLowerCase()}function $w(e){return parseInt(e,16)}function Uw(e){const t=new TextEncoder().encode(e);return"0x"+Array.from(t,r=>r.toString(16).padStart(2,"0")).join("")}function Jw(e){var t;const{chainId:n,domain:r,expirationTime:i,issuedAt:a=new Date,nonce:o,notBefore:s,requestId:l,resources:c,scheme:u,uri:m,version:f}=e;{if(!Number.isInteger(n))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${n}`);if(!r)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(o&&o.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${o}`);if(!m)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(f!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${f}`);if(!((t=e.statement)===null||t===void 0)&&t.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${e.statement}`)}const g=jg(e.address),v=u?`${u}://${r}`:r,C=e.statement?`${e.statement}
`:"",_=`${v} wants you to sign in with your Ethereum account:
${g}

${C}`;let x=`URI: ${m}
Version: ${f}
Chain ID: ${n}${o?`
Nonce: ${o}`:""}
Issued At: ${a.toISOString()}`;if(i&&(x+=`
Expiration Time: ${i.toISOString()}`),s&&(x+=`
Not Before: ${s.toISOString()}`),l&&(x+=`
Request ID: ${l}`),c){let y=`
Resources:`;for(const h of c){if(!h||typeof h!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${h}`);y+=`
- ${h}`}x+=y}return`${_}
${x}`}class dt extends Error{constructor({message:t,code:n,cause:r,name:i}){var a;super(t,{cause:r}),this.__isWebAuthnError=!0,this.name=(a=i??(r instanceof Error?r.name:void 0))!==null&&a!==void 0?a:"Unknown Error",this.code=n}}class ks extends dt{constructor(t,n){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n,message:t}),this.name="WebAuthnUnknownError",this.originalError=n}}function zw({error:e,options:t}){var n,r,i;const{publicKey:a}=t;if(!a)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new dt({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else if(e.name==="ConstraintError"){if(((n=a.authenticatorSelection)===null||n===void 0?void 0:n.requireResidentKey)===!0)return new dt({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:e});if(t.mediation==="conditional"&&((r=a.authenticatorSelection)===null||r===void 0?void 0:r.userVerification)==="required")return new dt({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:e});if(((i=a.authenticatorSelection)===null||i===void 0?void 0:i.userVerification)==="required")return new dt({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:e})}else{if(e.name==="InvalidStateError")return new dt({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:e});if(e.name==="NotAllowedError")return new dt({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="NotSupportedError")return a.pubKeyCredParams.filter(s=>s.type==="public-key").length===0?new dt({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:e}):new dt({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:e});if(e.name==="SecurityError"){const o=window.location.hostname;if(Bg(o)){if(a.rp.id!==o)return new dt({message:`The RP ID "${a.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new dt({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="TypeError"){if(a.user.id.byteLength<1||a.user.id.byteLength>64)return new dt({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:e})}else if(e.name==="UnknownError")return new dt({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new dt({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}function Kw({error:e,options:t}){const{publicKey:n}=t;if(!n)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new dt({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else{if(e.name==="NotAllowedError")return new dt({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="SecurityError"){const r=window.location.hostname;if(Bg(r)){if(n.rpId!==r)return new dt({message:`The RP ID "${n.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new dt({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="UnknownError")return new dt({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new dt({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}class Hw{createNewAbortSignal(){if(this.controller){const n=new Error("Cancelling existing WebAuthn API call for new one");n.name="AbortError",this.controller.abort(n)}const t=new AbortController;return this.controller=t,t.signal}cancelCeremony(){if(this.controller){const t=new Error("Manually cancelling existing WebAuthn API call");t.name="AbortError",this.controller.abort(t),this.controller=void 0}}}const Gw=new Hw;function qw(e){if(!e)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(e);const{challenge:t,user:n,excludeCredentials:r}=e,i=Ys(e,["challenge","user","excludeCredentials"]),a=Li(t).buffer,o=Object.assign(Object.assign({},n),{id:Li(n.id).buffer}),s=Object.assign(Object.assign({},i),{challenge:a,user:o});if(r&&r.length>0){s.excludeCredentials=new Array(r.length);for(let l=0;l<r.length;l++){const c=r[l];s.excludeCredentials[l]=Object.assign(Object.assign({},c),{id:Li(c.id).buffer,type:c.type||"public-key",transports:c.transports})}}return s}function Vw(e){if(!e)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(e);const{challenge:t,allowCredentials:n}=e,r=Ys(e,["challenge","allowCredentials"]),i=Li(t).buffer,a=Object.assign(Object.assign({},r),{challenge:i});if(n&&n.length>0){a.allowCredentials=new Array(n.length);for(let o=0;o<n.length;o++){const s=n[o];a.allowCredentials[o]=Object.assign(Object.assign({},s),{id:Li(s.id).buffer,type:s.type||"public-key",transports:s.transports})}}return a}function Ww(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const n=e;return{id:e.id,rawId:e.id,response:{attestationObject:$r(new Uint8Array(e.response.attestationObject)),clientDataJSON:$r(new Uint8Array(e.response.clientDataJSON))},type:"public-key",clientExtensionResults:e.getClientExtensionResults(),authenticatorAttachment:(t=n.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function Yw(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const n=e,r=e.getClientExtensionResults(),i=e.response;return{id:e.id,rawId:e.id,response:{authenticatorData:$r(new Uint8Array(i.authenticatorData)),clientDataJSON:$r(new Uint8Array(i.clientDataJSON)),signature:$r(new Uint8Array(i.signature)),userHandle:i.userHandle?$r(new Uint8Array(i.userHandle)):void 0},type:"public-key",clientExtensionResults:r,authenticatorAttachment:(t=n.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function Bg(e){return e==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(e)}function Uf(){var e,t;return!!(Et()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.create)=="function"&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.get)=="function")}async function Qw(e){try{const t=await navigator.credentials.create(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new ks("Browser returned unexpected credential type",t)}:{data:null,error:new ks("Empty credential response",t)}}catch(t){return{data:null,error:zw({error:t,options:e})}}}async function Xw(e){try{const t=await navigator.credentials.get(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new ks("Browser returned unexpected credential type",t)}:{data:null,error:new ks("Empty credential response",t)}}catch(t){return{data:null,error:Kw({error:t,options:e})}}}const Zw={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},eS={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function Rs(...e){const t=i=>i!==null&&typeof i=="object"&&!Array.isArray(i),n=i=>i instanceof ArrayBuffer||ArrayBuffer.isView(i),r={};for(const i of e)if(i)for(const a in i){const o=i[a];if(o!==void 0)if(Array.isArray(o))r[a]=o;else if(n(o))r[a]=o;else if(t(o)){const s=r[a];t(s)?r[a]=Rs(s,o):r[a]=Rs(o)}else r[a]=o}return r}function tS(e,t){return Rs(Zw,e,t||{})}function nS(e,t){return Rs(eS,e,t||{})}class rS{constructor(t){this.client=t,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(t){return this.client.mfa.enroll(Object.assign(Object.assign({},t),{factorType:"webauthn"}))}async _challenge({factorId:t,webauthn:n,friendlyName:r,signal:i},a){try{const{data:o,error:s}=await this.client.mfa.challenge({factorId:t,webauthn:n});if(!o)return{data:null,error:s};const l=i??Gw.createNewAbortSignal();if(o.webauthn.type==="create"){const{user:c}=o.webauthn.credential_options.publicKey;c.name||(c.name=`${c.id}:${r}`),c.displayName||(c.displayName=c.name)}switch(o.webauthn.type){case"create":{const c=tS(o.webauthn.credential_options.publicKey,a==null?void 0:a.create),{data:u,error:m}=await Qw({publicKey:c,signal:l});return u?{data:{factorId:t,challengeId:o.id,webauthn:{type:o.webauthn.type,credential_response:u}},error:null}:{data:null,error:m}}case"request":{const c=nS(o.webauthn.credential_options.publicKey,a==null?void 0:a.request),{data:u,error:m}=await Xw(Object.assign(Object.assign({},o.webauthn.credential_options),{publicKey:c,signal:l}));return u?{data:{factorId:t,challengeId:o.id,webauthn:{type:o.webauthn.type,credential_response:u}},error:null}:{data:null,error:m}}}}catch(o){return ue(o)?{data:null,error:o}:{data:null,error:new Fr("Unexpected error in challenge",o)}}}async _verify({challengeId:t,factorId:n,webauthn:r}){return this.client.mfa.verify({factorId:n,challengeId:t,webauthn:r})}async _authenticate({factorId:t,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:i}={}},a){if(!n)return{data:null,error:new eo("rpId is required for WebAuthn authentication")};try{if(!Uf())return{data:null,error:new Fr("Browser does not support WebAuthn",null)};const{data:o,error:s}=await this.challenge({factorId:t,webauthn:{rpId:n,rpOrigins:r},signal:i},{request:a});if(!o)return{data:null,error:s};const{webauthn:l}=o;return this._verify({factorId:t,challengeId:o.challengeId,webauthn:{type:l.type,rpId:n,rpOrigins:r,credential_response:l.credential_response}})}catch(o){return ue(o)?{data:null,error:o}:{data:null,error:new Fr("Unexpected error in authenticate",o)}}}async _register({friendlyName:t,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:i}={}},a){if(!n)return{data:null,error:new eo("rpId is required for WebAuthn registration")};try{if(!Uf())return{data:null,error:new Fr("Browser does not support WebAuthn",null)};const{data:o,error:s}=await this._enroll({friendlyName:t});if(!o)return await this.client.mfa.listFactors().then(u=>{var m;return(m=u.data)===null||m===void 0?void 0:m.all.find(f=>f.factor_type==="webauthn"&&f.friendly_name===t&&f.status!=="unverified")}).then(u=>u?this.client.mfa.unenroll({factorId:u==null?void 0:u.id}):void 0),{data:null,error:s};const{data:l,error:c}=await this._challenge({factorId:o.id,friendlyName:o.friendly_name,webauthn:{rpId:n,rpOrigins:r},signal:i},{create:a});return l?this._verify({factorId:o.id,challengeId:l.challengeId,webauthn:{rpId:n,rpOrigins:r,type:l.webauthn.type,credential_response:l.webauthn.credential_response}}):{data:null,error:c}}catch(o){return ue(o)?{data:null,error:o}:{data:null,error:new Fr("Unexpected error in register",o)}}}}Nw();const iS={url:Zb,storageKey:ew,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:tw,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1,lockAcquireTimeout:1e4};async function Jf(e,t,n){return await n()}const li={};class to{get jwks(){var t,n;return(n=(t=li[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&n!==void 0?n:{keys:[]}}set jwks(t){li[this.storageKey]=Object.assign(Object.assign({},li[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,n;return(n=(t=li[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&n!==void 0?n:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){li[this.storageKey]=Object.assign(Object.assign({},li[this.storageKey]),{cachedAt:t})}constructor(t){var n,r,i;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.autoRefreshTickTimeout=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const a=Object.assign(Object.assign({},iS),t);if(this.storageKey=a.storageKey,this.instanceID=(n=to.nextInstanceID[this.storageKey])!==null&&n!==void 0?n:0,to.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!a.debug,typeof a.debug=="function"&&(this.logger=a.debug),this.instanceID>0&&Et()){const o=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(o),this.logDebugMessages&&console.trace(o)}if(this.persistSession=a.persistSession,this.autoRefreshToken=a.autoRefreshToken,this.admin=new Ow({url:a.url,headers:a.headers,fetch:a.fetch}),this.url=a.url,this.headers=a.headers,this.fetch=Tg(a.fetch),this.lock=a.lock||Jf,this.detectSessionInUrl=a.detectSessionInUrl,this.flowType=a.flowType,this.hasCustomAuthorizationHeader=a.hasCustomAuthorizationHeader,this.throwOnError=a.throwOnError,this.lockAcquireTimeout=a.lockAcquireTimeout,a.lock?this.lock=a.lock:this.persistSession&&Et()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=Lw:this.lock=Jf,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new rS(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(a.storage?this.storage=a.storage:Pg()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=$f(this.memoryStorage)),a.userStorage&&(this.userStorage=a.userStorage)):(this.memoryStorage={},this.storage=$f(this.memoryStorage)),Et()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(o){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",o)}(i=this.broadcastChannel)===null||i===void 0||i.addEventListener("message",async o=>{this._debug("received broadcast notification from other tab or client",o),await this._notifyAllSubscribers(o.data.event,o.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(t){if(this.throwOnError&&t&&t.error)throw t.error;return t}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${Ag}) ${new Date().toISOString()}`}_debug(...t){return this.logDebugMessages&&this.logger(this._logPrefix(),...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(this.lockAcquireTimeout,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{let n={},r="none";if(Et()&&(n=yw(window.location.href),this._isImplicitGrantCallback(n)?r="implicit":await this._isPKCECallback(n)&&(r="pkce")),Et()&&this.detectSessionInUrl&&r!=="none"){const{data:i,error:a}=await this._getSessionFromURL(n,r);if(a){if(this._debug("#_initialize()","error detecting session from URL",a),sw(a)){const l=(t=a.details)===null||t===void 0?void 0:t.code;if(l==="identity_already_exists"||l==="identity_not_found"||l==="single_identity_not_deletable")return{error:a}}return{error:a}}const{session:o,redirectType:s}=i;return this._debug("#_initialize()","detected session in URL",o,"redirect type",s),await this._saveSession(o),setTimeout(async()=>{s==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return ue(n)?this._returnResult({error:n}):this._returnResult({error:new Fr("Unexpected error during initialization",n)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var n,r,i;try{const a=await fe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(n=t==null?void 0:t.options)===null||n===void 0?void 0:n.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(i=t==null?void 0:t.options)===null||i===void 0?void 0:i.captchaToken}},xform:wn}),{data:o,error:s}=a;if(s||!o)return this._returnResult({data:{user:null,session:null},error:s});const l=o.session,c=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),this._returnResult({data:{user:c,session:l},error:null})}catch(a){if(ue(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async signUp(t){var n,r,i;try{let a;if("email"in t){const{email:u,password:m,options:f}=t;let g=null,v=null;this.flowType==="pkce"&&([g,v]=await ai(this.storage,this.storageKey)),a=await fe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:f==null?void 0:f.emailRedirectTo,body:{email:u,password:m,data:(n=f==null?void 0:f.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken},code_challenge:g,code_challenge_method:v},xform:wn})}else if("phone"in t){const{phone:u,password:m,options:f}=t;a=await fe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:u,password:m,data:(r=f==null?void 0:f.data)!==null&&r!==void 0?r:{},channel:(i=f==null?void 0:f.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken}},xform:wn})}else throw new jo("You must provide either an email or phone number and a password");const{data:o,error:s}=a;if(s||!o)return await St(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:s});const l=o.session,c=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),this._returnResult({data:{user:c,session:l},error:null})}catch(a){if(await St(this.storage,`${this.storageKey}-code-verifier`),ue(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async signInWithPassword(t){try{let n;if("email"in t){const{email:a,password:o,options:s}=t;n=await fe(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:a,password:o,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}},xform:Lf})}else if("phone"in t){const{phone:a,password:o,options:s}=t;n=await fe(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:a,password:o,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}},xform:Lf})}else throw new jo("You must provide either an email or phone number and a password");const{data:r,error:i}=n;if(i)return this._returnResult({data:{user:null,session:null},error:i});if(!r||!r.session||!r.user){const a=new ii;return this._returnResult({data:{user:null,session:null},error:a})}return r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),this._returnResult({data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:i})}catch(n){if(ue(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithOAuth(t){var n,r,i,a;return await this._handleProviderSignIn(t.provider,{redirectTo:(n=t.options)===null||n===void 0?void 0:n.redirectTo,scopes:(r=t.options)===null||r===void 0?void 0:r.scopes,queryParams:(i=t.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(a=t.options)===null||a===void 0?void 0:a.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(this.lockAcquireTimeout,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:n}=t;switch(n){case"ethereum":return await this.signInWithEthereum(t);case"solana":return await this.signInWithSolana(t);default:throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}}async signInWithEthereum(t){var n,r,i,a,o,s,l,c,u,m,f;let g,v;if("message"in t)g=t.message,v=t.signature;else{const{chain:C,wallet:_,statement:x,options:y}=t;let h;if(Et())if(typeof _=="object")h=_;else{const j=window;if("ethereum"in j&&typeof j.ethereum=="object"&&"request"in j.ethereum&&typeof j.ethereum.request=="function")h=j.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof _!="object"||!(y!=null&&y.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");h=_}const p=new URL((n=y==null?void 0:y.url)!==null&&n!==void 0?n:window.location.href),w=await h.request({method:"eth_requestAccounts"}).then(j=>j).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!w||w.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const S=jg(w[0]);let k=(r=y==null?void 0:y.signInWithEthereum)===null||r===void 0?void 0:r.chainId;if(!k){const j=await h.request({method:"eth_chainId"});k=$w(j)}const A={domain:p.host,address:S,statement:x,uri:p.href,version:"1",chainId:k,nonce:(i=y==null?void 0:y.signInWithEthereum)===null||i===void 0?void 0:i.nonce,issuedAt:(o=(a=y==null?void 0:y.signInWithEthereum)===null||a===void 0?void 0:a.issuedAt)!==null&&o!==void 0?o:new Date,expirationTime:(s=y==null?void 0:y.signInWithEthereum)===null||s===void 0?void 0:s.expirationTime,notBefore:(l=y==null?void 0:y.signInWithEthereum)===null||l===void 0?void 0:l.notBefore,requestId:(c=y==null?void 0:y.signInWithEthereum)===null||c===void 0?void 0:c.requestId,resources:(u=y==null?void 0:y.signInWithEthereum)===null||u===void 0?void 0:u.resources};g=Jw(A),v=await h.request({method:"personal_sign",params:[Uw(g),S]})}try{const{data:C,error:_}=await fe(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:g,signature:v},!((m=t.options)===null||m===void 0)&&m.captchaToken?{gotrue_meta_security:{captcha_token:(f=t.options)===null||f===void 0?void 0:f.captchaToken}}:null),xform:wn});if(_)throw _;if(!C||!C.session||!C.user){const x=new ii;return this._returnResult({data:{user:null,session:null},error:x})}return C.session&&(await this._saveSession(C.session),await this._notifyAllSubscribers("SIGNED_IN",C.session)),this._returnResult({data:Object.assign({},C),error:_})}catch(C){if(ue(C))return this._returnResult({data:{user:null,session:null},error:C});throw C}}async signInWithSolana(t){var n,r,i,a,o,s,l,c,u,m,f,g;let v,C;if("message"in t)v=t.message,C=t.signature;else{const{chain:_,wallet:x,statement:y,options:h}=t;let p;if(Et())if(typeof x=="object")p=x;else{const S=window;if("solana"in S&&typeof S.solana=="object"&&("signIn"in S.solana&&typeof S.solana.signIn=="function"||"signMessage"in S.solana&&typeof S.solana.signMessage=="function"))p=S.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof x!="object"||!(h!=null&&h.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");p=x}const w=new URL((n=h==null?void 0:h.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in p&&p.signIn){const S=await p.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},h==null?void 0:h.signInWithSolana),{version:"1",domain:w.host,uri:w.href}),y?{statement:y}:null));let k;if(Array.isArray(S)&&S[0]&&typeof S[0]=="object")k=S[0];else if(S&&typeof S=="object"&&"signedMessage"in S&&"signature"in S)k=S;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in k&&"signature"in k&&(typeof k.signedMessage=="string"||k.signedMessage instanceof Uint8Array)&&k.signature instanceof Uint8Array)v=typeof k.signedMessage=="string"?k.signedMessage:new TextDecoder().decode(k.signedMessage),C=k.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in p)||typeof p.signMessage!="function"||!("publicKey"in p)||typeof p!="object"||!p.publicKey||!("toBase58"in p.publicKey)||typeof p.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");v=[`${w.host} wants you to sign in with your Solana account:`,p.publicKey.toBase58(),...y?["",y,""]:[""],"Version: 1",`URI: ${w.href}`,`Issued At: ${(i=(r=h==null?void 0:h.signInWithSolana)===null||r===void 0?void 0:r.issuedAt)!==null&&i!==void 0?i:new Date().toISOString()}`,...!((a=h==null?void 0:h.signInWithSolana)===null||a===void 0)&&a.notBefore?[`Not Before: ${h.signInWithSolana.notBefore}`]:[],...!((o=h==null?void 0:h.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${h.signInWithSolana.expirationTime}`]:[],...!((s=h==null?void 0:h.signInWithSolana)===null||s===void 0)&&s.chainId?[`Chain ID: ${h.signInWithSolana.chainId}`]:[],...!((l=h==null?void 0:h.signInWithSolana)===null||l===void 0)&&l.nonce?[`Nonce: ${h.signInWithSolana.nonce}`]:[],...!((c=h==null?void 0:h.signInWithSolana)===null||c===void 0)&&c.requestId?[`Request ID: ${h.signInWithSolana.requestId}`]:[],...!((m=(u=h==null?void 0:h.signInWithSolana)===null||u===void 0?void 0:u.resources)===null||m===void 0)&&m.length?["Resources",...h.signInWithSolana.resources.map(k=>`- ${k}`)]:[]].join(`
`);const S=await p.signMessage(new TextEncoder().encode(v),"utf8");if(!S||!(S instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");C=S}}try{const{data:_,error:x}=await fe(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:v,signature:$r(C)},!((f=t.options)===null||f===void 0)&&f.captchaToken?{gotrue_meta_security:{captcha_token:(g=t.options)===null||g===void 0?void 0:g.captchaToken}}:null),xform:wn});if(x)throw x;if(!_||!_.session||!_.user){const y=new ii;return this._returnResult({data:{user:null,session:null},error:y})}return _.session&&(await this._saveSession(_.session),await this._notifyAllSubscribers("SIGNED_IN",_.session)),this._returnResult({data:Object.assign({},_),error:x})}catch(_){if(ue(_))return this._returnResult({data:{user:null,session:null},error:_});throw _}}async _exchangeCodeForSession(t){const n=await Ar(this.storage,`${this.storageKey}-code-verifier`),[r,i]=(n??"").split("/");try{if(!r&&this.flowType==="pkce")throw new lw;const{data:a,error:o}=await fe(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:r},xform:wn});if(await St(this.storage,`${this.storageKey}-code-verifier`),o)throw o;if(!a||!a.session||!a.user){const s=new ii;return this._returnResult({data:{user:null,session:null,redirectType:null},error:s})}return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",a.session)),this._returnResult({data:Object.assign(Object.assign({},a),{redirectType:i??null}),error:o})}catch(a){if(await St(this.storage,`${this.storageKey}-code-verifier`),ue(a))return this._returnResult({data:{user:null,session:null,redirectType:null},error:a});throw a}}async signInWithIdToken(t){try{const{options:n,provider:r,token:i,access_token:a,nonce:o}=t,s=await fe(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:i,access_token:a,nonce:o,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:wn}),{data:l,error:c}=s;if(c)return this._returnResult({data:{user:null,session:null},error:c});if(!l||!l.session||!l.user){const u=new ii;return this._returnResult({data:{user:null,session:null},error:u})}return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),this._returnResult({data:l,error:c})}catch(n){if(ue(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithOtp(t){var n,r,i,a,o;try{if("email"in t){const{email:s,options:l}=t;let c=null,u=null;this.flowType==="pkce"&&([c,u]=await ai(this.storage,this.storageKey));const{error:m}=await fe(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:s,data:(n=l==null?void 0:l.data)!==null&&n!==void 0?n:{},create_user:(r=l==null?void 0:l.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},code_challenge:c,code_challenge_method:u},redirectTo:l==null?void 0:l.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:m})}if("phone"in t){const{phone:s,options:l}=t,{data:c,error:u}=await fe(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:s,data:(i=l==null?void 0:l.data)!==null&&i!==void 0?i:{},create_user:(a=l==null?void 0:l.shouldCreateUser)!==null&&a!==void 0?a:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},channel:(o=l==null?void 0:l.channel)!==null&&o!==void 0?o:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:c==null?void 0:c.message_id},error:u})}throw new jo("You must provide either an email or phone number.")}catch(s){if(await St(this.storage,`${this.storageKey}-code-verifier`),ue(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async verifyOtp(t){var n,r;try{let i,a;"options"in t&&(i=(n=t.options)===null||n===void 0?void 0:n.redirectTo,a=(r=t.options)===null||r===void 0?void 0:r.captchaToken);const{data:o,error:s}=await fe(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:a}}),redirectTo:i,xform:wn});if(s)throw s;if(!o)throw new Error("An error occurred on token verification.");const l=o.session,c=o.user;return l!=null&&l.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),this._returnResult({data:{user:c,session:l},error:null})}catch(i){if(ue(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signInWithSSO(t){var n,r,i,a,o;try{let s=null,l=null;this.flowType==="pkce"&&([s,l]=await ai(this.storage,this.storageKey));const c=await fe(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(r=(n=t.options)===null||n===void 0?void 0:n.redirectTo)!==null&&r!==void 0?r:void 0}),!((i=t==null?void 0:t.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:s,code_challenge_method:l}),headers:this.headers,xform:Bw});return!((a=c.data)===null||a===void 0)&&a.url&&Et()&&!(!((o=t.options)===null||o===void 0)&&o.skipBrowserRedirect)&&window.location.assign(c.data.url),this._returnResult(c)}catch(s){if(await St(this.storage,`${this.storageKey}-code-verifier`),ue(s))return this._returnResult({data:null,error:s});throw s}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:n},error:r}=t;if(r)throw r;if(!n)throw new en;const{error:i}=await fe(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return this._returnResult({data:{user:null,session:null},error:i})})}catch(t){if(ue(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async resend(t){try{const n=`${this.url}/resend`;if("email"in t){const{email:r,type:i,options:a}=t,{error:o}=await fe(this.fetch,"POST",n,{headers:this.headers,body:{email:r,type:i,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},redirectTo:a==null?void 0:a.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:o})}else if("phone"in t){const{phone:r,type:i,options:a}=t,{data:o,error:s}=await fe(this.fetch,"POST",n,{headers:this.headers,body:{phone:r,type:i,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:s})}throw new jo("You must provide either an email or phone number and a type")}catch(n){if(ue(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>this._useSession(async n=>n))}async _acquireLock(t,n){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=(async()=>(await r,await n()))();return this.pendingInLock.push((async()=>{try{await i}catch{}})()),i}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=n();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const i=[...this.pendingInLock];await Promise.all(i),this.pendingInLock.splice(0,i.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await t(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const n=await Ar(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?t=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const r=t.expires_at?t.expires_at*1e3-Date.now()<pc:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",t.expires_at),!r){if(this.userStorage){const o=await Ar(this.userStorage,this.storageKey+"-user");o!=null&&o.user?t.user=o.user:t.user=gc()}if(this.storage.isServer&&t.user&&!t.user.__isUserNotAvailableProxy){const o={value:this.suppressGetSessionWarning};t.user=Pw(t.user,o),o.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:t},error:null}}const{data:i,error:a}=await this._callRefreshToken(t.refresh_token);return a?this._returnResult({data:{session:null},error:a}):this._returnResult({data:{session:i},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(t){if(t)return await this._getUser(t);await this.initializePromise;const n=await this._acquireLock(this.lockAcquireTimeout,async()=>await this._getUser());return n.data.user&&(this.suppressGetSessionWarning=!0),n}async _getUser(t){try{return t?await fe(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:ar}):await this._useSession(async n=>{var r,i,a;const{data:o,error:s}=n;if(s)throw s;return!(!((r=o.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new en}:await fe(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(a=(i=o.session)===null||i===void 0?void 0:i.access_token)!==null&&a!==void 0?a:void 0,xform:ar})})}catch(n){if(ue(n))return ow(n)&&(await this._removeSession(),await St(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:n});throw n}}async updateUser(t,n={}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._updateUser(t,n))}async _updateUser(t,n={}){try{return await this._useSession(async r=>{const{data:i,error:a}=r;if(a)throw a;if(!i.session)throw new en;const o=i.session;let s=null,l=null;this.flowType==="pkce"&&t.email!=null&&([s,l]=await ai(this.storage,this.storageKey));const{data:c,error:u}=await fe(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:s,code_challenge_method:l}),jwt:o.access_token,xform:ar});if(u)throw u;return o.user=c.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),this._returnResult({data:{user:o.user},error:null})})}catch(r){if(await St(this.storage,`${this.storageKey}-code-verifier`),ue(r))return this._returnResult({data:{user:null},error:r});throw r}}async setSession(t){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new en;const n=Date.now()/1e3;let r=n,i=!0,a=null;const{payload:o}=yc(t.access_token);if(o.exp&&(r=o.exp,i=r<=n),i){const{data:s,error:l}=await this._callRefreshToken(t.refresh_token);if(l)return this._returnResult({data:{user:null,session:null},error:l});if(!s)return{data:{user:null,session:null},error:null};a=s}else{const{data:s,error:l}=await this._getUser(t.access_token);if(l)throw l;a={access_token:t.access_token,refresh_token:t.refresh_token,user:s.user,token_type:"bearer",expires_in:r-n,expires_at:r},await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)}return this._returnResult({data:{user:a.user,session:a},error:null})}catch(n){if(ue(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async n=>{var r;if(!t){const{data:o,error:s}=n;if(s)throw s;t=(r=o.session)!==null&&r!==void 0?r:void 0}if(!(t!=null&&t.refresh_token))throw new en;const{data:i,error:a}=await this._callRefreshToken(t.refresh_token);return a?this._returnResult({data:{user:null,session:null},error:a}):i?this._returnResult({data:{user:i.user,session:i},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(n){if(ue(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async _getSessionFromURL(t,n){try{if(!Et())throw new Bo("No browser detected.");if(t.error||t.error_description||t.error_code)throw new Bo(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new Df("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Bo("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new Df("No code detected.");const{data:y,error:h}=await this._exchangeCodeForSession(t.code);if(h)throw h;const p=new URL(window.location.href);return p.searchParams.delete("code"),window.history.replaceState(window.history.state,"",p.toString()),{data:{session:y.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:i,access_token:a,refresh_token:o,expires_in:s,expires_at:l,token_type:c}=t;if(!a||!s||!o||!c)throw new Bo("No session defined in URL");const u=Math.round(Date.now()/1e3),m=parseInt(s);let f=u+m;l&&(f=parseInt(l));const g=f-u;g*1e3<=di&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${g}s, should have been closer to ${m}s`);const v=f-m;u-v>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",v,f,u):u-v<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",v,f,u);const{data:C,error:_}=await this._getUser(a);if(_)throw _;const x={provider_token:r,provider_refresh_token:i,access_token:a,expires_in:m,expires_at:f,refresh_token:o,token_type:c,user:C.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:x,redirectType:t.type},error:null})}catch(r){if(ue(r))return this._returnResult({data:{session:null,redirectType:null},error:r});throw r}}_isImplicitGrantCallback(t){return typeof this.detectSessionInUrl=="function"?this.detectSessionInUrl(new URL(window.location.href),t):!!(t.access_token||t.error_description)}async _isPKCECallback(t){const n=await Ar(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&n)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async n=>{var r;const{data:i,error:a}=n;if(a)return this._returnResult({error:a});const o=(r=i.session)===null||r===void 0?void 0:r.access_token;if(o){const{error:s}=await this.admin.signOut(o,t);if(s&&!(aw(s)&&(s.status===404||s.status===401||s.status===403)))return this._returnResult({error:s})}return t!=="others"&&(await this._removeSession(),await St(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(t){const n=mw(),r={id:n,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,r),(async()=>(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:r}}}async _emitInitialSession(t){return await this._useSession(async n=>{var r,i;try{const{data:{session:a},error:o}=n;if(o)throw o;await((r=this.stateChangeEmitters.get(t))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",a)),this._debug("INITIAL_SESSION","callback id",t,"session",a)}catch(a){await((i=this.stateChangeEmitters.get(t))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",a),console.error(a)}})}async resetPasswordForEmail(t,n={}){let r=null,i=null;this.flowType==="pkce"&&([r,i]=await ai(this.storage,this.storageKey,!0));try{return await fe(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:r,code_challenge_method:i,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(a){if(await St(this.storage,`${this.storageKey}-code-verifier`),ue(a))return this._returnResult({data:null,error:a});throw a}}async getUserIdentities(){var t;try{const{data:n,error:r}=await this.getUser();if(r)throw r;return this._returnResult({data:{identities:(t=n.user.identities)!==null&&t!==void 0?t:[]},error:null})}catch(n){if(ue(n))return this._returnResult({data:null,error:n});throw n}}async linkIdentity(t){return"token"in t?this.linkIdentityIdToken(t):this.linkIdentityOAuth(t)}async linkIdentityOAuth(t){var n;try{const{data:r,error:i}=await this._useSession(async a=>{var o,s,l,c,u;const{data:m,error:f}=a;if(f)throw f;const g=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(o=t.options)===null||o===void 0?void 0:o.redirectTo,scopes:(s=t.options)===null||s===void 0?void 0:s.scopes,queryParams:(l=t.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return await fe(this.fetch,"GET",g,{headers:this.headers,jwt:(u=(c=m.session)===null||c===void 0?void 0:c.access_token)!==null&&u!==void 0?u:void 0})});if(i)throw i;return Et()&&!(!((n=t.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),this._returnResult({data:{provider:t.provider,url:r==null?void 0:r.url},error:null})}catch(r){if(ue(r))return this._returnResult({data:{provider:t.provider,url:null},error:r});throw r}}async linkIdentityIdToken(t){return await this._useSession(async n=>{var r;try{const{error:i,data:{session:a}}=n;if(i)throw i;const{options:o,provider:s,token:l,access_token:c,nonce:u}=t,m=await fe(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(r=a==null?void 0:a.access_token)!==null&&r!==void 0?r:void 0,body:{provider:s,id_token:l,access_token:c,nonce:u,link_identity:!0,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:wn}),{data:f,error:g}=m;return g?this._returnResult({data:{user:null,session:null},error:g}):!f||!f.session||!f.user?this._returnResult({data:{user:null,session:null},error:new ii}):(f.session&&(await this._saveSession(f.session),await this._notifyAllSubscribers("USER_UPDATED",f.session)),this._returnResult({data:f,error:g}))}catch(i){if(await St(this.storage,`${this.storageKey}-code-verifier`),ue(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}})}async unlinkIdentity(t){try{return await this._useSession(async n=>{var r,i;const{data:a,error:o}=n;if(o)throw o;return await fe(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(i=(r=a.session)===null||r===void 0?void 0:r.access_token)!==null&&i!==void 0?i:void 0})})}catch(n){if(ue(n))return this._returnResult({data:null,error:n});throw n}}async _refreshAccessToken(t){const n=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(n,"begin");try{const r=Date.now();return await xw(async i=>(i>0&&await vw(200*Math.pow(2,i-1)),this._debug(n,"refreshing attempt",i),await fe(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:wn})),(i,a)=>{const o=200*Math.pow(2,i);return a&&mc(a)&&Date.now()+o-r<di})}catch(r){if(this._debug(n,"error",r),ue(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}finally{this._debug(n,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,n){const r=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",n,"url",r),Et()&&!n.skipBrowserRedirect&&window.location.assign(r),{data:{provider:t,url:r},error:null}}async _recoverAndRefresh(){var t,n;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const i=await Ar(this.storage,this.storageKey);if(i&&this.userStorage){let o=await Ar(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!o&&(o={user:i.user},await hi(this.userStorage,this.storageKey+"-user",o)),i.user=(t=o==null?void 0:o.user)!==null&&t!==void 0?t:gc()}else if(i&&!i.user&&!i.user){const o=await Ar(this.storage,this.storageKey+"-user");o&&(o!=null&&o.user)?(i.user=o.user,await St(this.storage,this.storageKey+"-user"),await hi(this.storage,this.storageKey,i)):i.user=gc()}if(this._debug(r,"session from storage",i),!this._isValidSession(i)){this._debug(r,"session is not valid"),i!==null&&await this._removeSession();return}const a=((n=i.expires_at)!==null&&n!==void 0?n:1/0)*1e3-Date.now()<pc;if(this._debug(r,`session has${a?"":" not"} expired with margin of ${pc}s`),a){if(this.autoRefreshToken&&i.refresh_token){const{error:o}=await this._callRefreshToken(i.refresh_token);o&&(console.error(o),mc(o)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else if(i.user&&i.user.__isUserNotAvailableProxy===!0)try{const{data:o,error:s}=await this._getUser(i.access_token);!s&&(o!=null&&o.user)?(i.user=o.user,await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)):this._debug(r,"could not get user data, skipping SIGNED_IN notification")}catch(o){console.error("Error getting user data:",o),this._debug(r,"error getting user data, skipping SIGNED_IN notification",o)}else await this._notifyAllSubscribers("SIGNED_IN",i)}catch(i){this._debug(r,"error",i),console.error(i);return}finally{this._debug(r,"end")}}async _callRefreshToken(t){var n,r;if(!t)throw new en;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const i=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new Qs;const{data:a,error:o}=await this._refreshAccessToken(t);if(o)throw o;if(!a.session)throw new en;await this._saveSession(a.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",a.session);const s={data:a.session,error:null};return this.refreshingDeferred.resolve(s),s}catch(a){if(this._debug(i,"error",a),ue(a)){const o={data:null,error:a};return mc(a)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(o),o}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(a),a}finally{this.refreshingDeferred=null,this._debug(i,"end")}}async _notifyAllSubscribers(t,n,r=!0){const i=`#_notifyAllSubscribers(${t})`;this._debug(i,"begin",n,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:t,session:n});const a=[],o=Array.from(this.stateChangeEmitters.values()).map(async s=>{try{await s.callback(t,n)}catch(l){a.push(l)}});if(await Promise.all(o),a.length>0){for(let s=0;s<a.length;s+=1)console.error(a[s]);throw a[0]}}finally{this._debug(i,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,await St(this.storage,`${this.storageKey}-code-verifier`);const n=Object.assign({},t),r=n.user&&n.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!r&&n.user&&await hi(this.userStorage,this.storageKey+"-user",{user:n.user});const i=Object.assign({},n);delete i.user;const a=Of(i);await hi(this.storage,this.storageKey,a)}else{const i=Of(n);await hi(this.storage,this.storageKey,i)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await St(this.storage,this.storageKey),await St(this.storage,this.storageKey+"-code-verifier"),await St(this.storage,this.storageKey+"-user"),this.userStorage&&await St(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&Et()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),di);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t);const n=setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0);this.autoRefreshTickTimeout=n,n&&typeof n=="object"&&typeof n.unref=="function"?n.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(n)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t);const n=this.autoRefreshTickTimeout;this.autoRefreshTickTimeout=null,n&&clearTimeout(n)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async n=>{const{data:{session:r}}=n;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const i=Math.floor((r.expires_at*1e3-t)/di);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${di}ms, refresh threshold is ${Mu} ticks`),i<=Mu&&await this._callRefreshToken(r.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof Dg)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Et()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const n=`#_onVisibilityChanged(${t})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,n,r){const i=[`provider=${encodeURIComponent(n)}`];if(r!=null&&r.redirectTo&&i.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&i.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[a,o]=await ai(this.storage,this.storageKey),s=new URLSearchParams({code_challenge:`${encodeURIComponent(a)}`,code_challenge_method:`${encodeURIComponent(o)}`});i.push(s.toString())}if(r!=null&&r.queryParams){const a=new URLSearchParams(r.queryParams);i.push(a.toString())}return r!=null&&r.skipBrowserRedirect&&i.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${t}?${i.join("&")}`}async _unenroll(t){try{return await this._useSession(async n=>{var r;const{data:i,error:a}=n;return a?this._returnResult({data:null,error:a}):await fe(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(ue(n))return this._returnResult({data:null,error:n});throw n}}async _enroll(t){try{return await this._useSession(async n=>{var r,i;const{data:a,error:o}=n;if(o)return this._returnResult({data:null,error:o});const s=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:t.factorType==="totp"?{issuer:t.issuer}:{}),{data:l,error:c}=await fe(this.fetch,"POST",`${this.url}/factors`,{body:s,headers:this.headers,jwt:(r=a==null?void 0:a.session)===null||r===void 0?void 0:r.access_token});return c?this._returnResult({data:null,error:c}):(t.factorType==="totp"&&l.type==="totp"&&(!((i=l==null?void 0:l.totp)===null||i===void 0)&&i.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),this._returnResult({data:l,error:null}))})}catch(n){if(ue(n))return this._returnResult({data:null,error:n});throw n}}async _verify(t){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async n=>{var r;const{data:i,error:a}=n;if(a)return this._returnResult({data:null,error:a});const o=Object.assign({challenge_id:t.challengeId},"webauthn"in t?{webauthn:Object.assign(Object.assign({},t.webauthn),{credential_response:t.webauthn.type==="create"?Ww(t.webauthn.credential_response):Yw(t.webauthn.credential_response)})}:{code:t.code}),{data:s,error:l}=await fe(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:o,headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token});return l?this._returnResult({data:null,error:l}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+s.expires_in},s)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",s),this._returnResult({data:s,error:l}))})}catch(n){if(ue(n))return this._returnResult({data:null,error:n});throw n}})}async _challenge(t){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async n=>{var r;const{data:i,error:a}=n;if(a)return this._returnResult({data:null,error:a});const o=await fe(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:t,headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token});if(o.error)return o;const{data:s}=o;if(s.type!=="webauthn")return{data:s,error:null};switch(s.webauthn.type){case"create":return{data:Object.assign(Object.assign({},s),{webauthn:Object.assign(Object.assign({},s.webauthn),{credential_options:Object.assign(Object.assign({},s.webauthn.credential_options),{publicKey:qw(s.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},s),{webauthn:Object.assign(Object.assign({},s.webauthn),{credential_options:Object.assign(Object.assign({},s.webauthn.credential_options),{publicKey:Vw(s.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(n){if(ue(n))return this._returnResult({data:null,error:n});throw n}})}async _challengeAndVerify(t){const{data:n,error:r}=await this._challenge({factorId:t.factorId});return r?this._returnResult({data:null,error:r}):await this._verify({factorId:t.factorId,challengeId:n.id,code:t.code})}async _listFactors(){var t;const{data:{user:n},error:r}=await this.getUser();if(r)return{data:null,error:r};const i={all:[],phone:[],totp:[],webauthn:[]};for(const a of(t=n==null?void 0:n.factors)!==null&&t!==void 0?t:[])i.all.push(a),a.status==="verified"&&i[a.factor_type].push(a);return{data:i,error:null}}async _getAuthenticatorAssuranceLevel(){var t,n;const{data:{session:r},error:i}=await this.getSession();if(i)return this._returnResult({data:null,error:i});if(!r)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:a}=yc(r.access_token);let o=null;a.aal&&(o=a.aal);let s=o;((n=(t=r.user.factors)===null||t===void 0?void 0:t.filter(u=>u.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(s="aal2");const c=a.amr||[];return{data:{currentLevel:o,nextLevel:s,currentAuthenticationMethods:c},error:null}}async _getAuthorizationDetails(t){try{return await this._useSession(async n=>{const{data:{session:r},error:i}=n;return i?this._returnResult({data:null,error:i}):r?await fe(this.fetch,"GET",`${this.url}/oauth/authorizations/${t}`,{headers:this.headers,jwt:r.access_token,xform:a=>({data:a,error:null})}):this._returnResult({data:null,error:new en})})}catch(n){if(ue(n))return this._returnResult({data:null,error:n});throw n}}async _approveAuthorization(t,n){try{return await this._useSession(async r=>{const{data:{session:i},error:a}=r;if(a)return this._returnResult({data:null,error:a});if(!i)return this._returnResult({data:null,error:new en});const o=await fe(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:i.access_token,body:{action:"approve"},xform:s=>({data:s,error:null})});return o.data&&o.data.redirect_url&&Et()&&!(n!=null&&n.skipBrowserRedirect)&&window.location.assign(o.data.redirect_url),o})}catch(r){if(ue(r))return this._returnResult({data:null,error:r});throw r}}async _denyAuthorization(t,n){try{return await this._useSession(async r=>{const{data:{session:i},error:a}=r;if(a)return this._returnResult({data:null,error:a});if(!i)return this._returnResult({data:null,error:new en});const o=await fe(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:i.access_token,body:{action:"deny"},xform:s=>({data:s,error:null})});return o.data&&o.data.redirect_url&&Et()&&!(n!=null&&n.skipBrowserRedirect)&&window.location.assign(o.data.redirect_url),o})}catch(r){if(ue(r))return this._returnResult({data:null,error:r});throw r}}async _listOAuthGrants(){try{return await this._useSession(async t=>{const{data:{session:n},error:r}=t;return r?this._returnResult({data:null,error:r}):n?await fe(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:n.access_token,xform:i=>({data:i,error:null})}):this._returnResult({data:null,error:new en})})}catch(t){if(ue(t))return this._returnResult({data:null,error:t});throw t}}async _revokeOAuthGrant(t){try{return await this._useSession(async n=>{const{data:{session:r},error:i}=n;return i?this._returnResult({data:null,error:i}):r?(await fe(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,query:{client_id:t.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new en})})}catch(n){if(ue(n))return this._returnResult({data:null,error:n});throw n}}async fetchJwk(t,n={keys:[]}){let r=n.keys.find(s=>s.kid===t);if(r)return r;const i=Date.now();if(r=this.jwks.keys.find(s=>s.kid===t),r&&this.jwks_cached_at+rw>i)return r;const{data:a,error:o}=await fe(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(o)throw o;return!a.keys||a.keys.length===0||(this.jwks=a,this.jwks_cached_at=i,r=a.keys.find(s=>s.kid===t),!r)?null:r}async getClaims(t,n={}){try{let r=t;if(!r){const{data:g,error:v}=await this.getSession();if(v||!g.session)return this._returnResult({data:null,error:v});r=g.session.access_token}const{header:i,payload:a,signature:o,raw:{header:s,payload:l}}=yc(r);n!=null&&n.allowExpired||Aw(a.exp);const c=!i.alg||i.alg.startsWith("HS")||!i.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(i.kid,n!=null&&n.keys?{keys:n.keys}:n==null?void 0:n.jwks);if(!c){const{error:g}=await this.getUser(r);if(g)throw g;return{data:{claims:a,header:i,signature:o},error:null}}const u=kw(i.alg),m=await crypto.subtle.importKey("jwk",c,u,!0,["verify"]);if(!await crypto.subtle.verify(u,m,o,fw(`${s}.${l}`)))throw new Lu("Invalid JWT signature");return{data:{claims:a,header:i,signature:o},error:null}}catch(r){if(ue(r))return this._returnResult({data:null,error:r});throw r}}}to.nextInstanceID={};const aS=to,oS="2.90.1";let ya="";typeof Deno<"u"?ya="deno":typeof document<"u"?ya="web":typeof navigator<"u"&&navigator.product==="ReactNative"?ya="react-native":ya="node";const sS={"X-Client-Info":`supabase-js-${ya}/${oS}`},lS={headers:sS},cS={schema:"public"},uS={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},dS={};function no(e){"@babel/helpers - typeof";return no=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},no(e)}function hS(e,t){if(no(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(no(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function fS(e){var t=hS(e,"string");return no(t)=="symbol"?t:t+""}function pS(e,t,n){return(t=fS(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function zf(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function rt(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?zf(Object(n),!0).forEach(function(r){pS(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):zf(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}const mS=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),yS=()=>Headers,gS=(e,t,n)=>{const r=mS(n),i=yS();return async(a,o)=>{var s;const l=(s=await t())!==null&&s!==void 0?s:e;let c=new i(o==null?void 0:o.headers);return c.has("apikey")||c.set("apikey",e),c.has("Authorization")||c.set("Authorization",`Bearer ${l}`),r(a,rt(rt({},o),{},{headers:c}))}};function vS(e){return e.endsWith("/")?e:e+"/"}function xS(e,t){var n,r;const{db:i,auth:a,realtime:o,global:s}=e,{db:l,auth:c,realtime:u,global:m}=t,f={db:rt(rt({},l),i),auth:rt(rt({},c),a),realtime:rt(rt({},u),o),storage:{},global:rt(rt(rt({},m),s),{},{headers:rt(rt({},(n=m==null?void 0:m.headers)!==null&&n!==void 0?n:{}),(r=s==null?void 0:s.headers)!==null&&r!==void 0?r:{})}),accessToken:async()=>""};return e.accessToken?f.accessToken=e.accessToken:delete f.accessToken,f}function CS(e){const t=e==null?void 0:e.trim();if(!t)throw new Error("supabaseUrl is required.");if(!t.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(vS(t))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var _S=class extends aS{constructor(e){super(e)}},bS=class{constructor(e,t,n){var r,i;this.supabaseUrl=e,this.supabaseKey=t;const a=CS(e);if(!t)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",a),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",a),this.storageUrl=new URL("storage/v1",a),this.functionsUrl=new URL("functions/v1",a);const o=`sb-${a.hostname.split(".")[0]}-auth-token`,s={db:cS,realtime:dS,auth:rt(rt({},uS),{},{storageKey:o}),global:lS},l=xS(n??{},s);if(this.storageKey=(r=l.auth.storageKey)!==null&&r!==void 0?r:"",this.headers=(i=l.global.headers)!==null&&i!==void 0?i:{},l.accessToken)this.accessToken=l.accessToken,this.auth=new Proxy({},{get:(u,m)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(m)} is not possible`)}});else{var c;this.auth=this._initSupabaseAuthClient((c=l.auth)!==null&&c!==void 0?c:{},this.headers,l.global.fetch)}this.fetch=gS(t,this._getAccessToken.bind(this),l.global.fetch),this.realtime=this._initRealtimeClient(rt({headers:this.headers,accessToken:this._getAccessToken.bind(this)},l.realtime)),this.accessToken&&this.accessToken().then(u=>this.realtime.setAuth(u)).catch(u=>console.warn("Failed to set initial Realtime auth token:",u)),this.rest=new tb(new URL("rest/v1",a).href,{headers:this.headers,schema:l.db.schema,fetch:this.fetch}),this.storage=new Xb(this.storageUrl.href,this.headers,this.fetch,n==null?void 0:n.storage),l.accessToken||this._listenForAuthEvents()}get functions(){return new Y_(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,t={},n={head:!1,get:!1,count:void 0}){return this.rest.rpc(e,t,n)}channel(e,t={config:{}}){return this.realtime.channel(e,t)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var e=this,t,n;if(e.accessToken)return await e.accessToken();const{data:r}=await e.auth.getSession();return(t=(n=r.session)===null||n===void 0?void 0:n.access_token)!==null&&t!==void 0?t:e.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:t,detectSessionInUrl:n,storage:r,userStorage:i,storageKey:a,flowType:o,lock:s,debug:l,throwOnError:c},u,m){const f={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new _S({url:this.authUrl.href,headers:rt(rt({},f),u),storageKey:a,autoRefreshToken:e,persistSession:t,detectSessionInUrl:n,storage:r,userStorage:i,flowType:o,lock:s,debug:l,throwOnError:c,fetch:m,hasCustomAuthorizationHeader:Object.keys(this.headers).some(g=>g.toLowerCase()==="authorization")})}_initRealtimeClient(e){return new vb(this.realtimeUrl.href,rt(rt({},e),{},{params:rt(rt({},{apikey:this.supabaseKey}),e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((e,t)=>{this._handleTokenChanged(e,"CLIENT",t==null?void 0:t.access_token)})}_handleTokenChanged(e,t,n){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==n?(this.changedAccessToken=n,this.realtime.setAuth(n)):e==="SIGNED_OUT"&&(this.realtime.setAuth(),t=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};const wS=(e,t,n)=>new bS(e,t,n);function SS(){if(typeof window<"u")return!1;const e=globalThis.process;if(!e)return!1;const t=e.version;if(t==null)return!1;const n=t.match(/^v(\d+)\./);return n?parseInt(n[1],10)<=18:!1}SS()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const ES="https://htbieinihrgiwrwbdhla.supabase.co",AS="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Imh0YmllaW5paHJnaXdyd2JkaGxhIiwicm9sZSI6ImFub24iLCJpYXQiOjE3Njg2NDAwNzksImV4cCI6MjA4NDIxNjA3OX0.b5k5KL8jRsg286Zuvphigj6iapr0IYutML5LHYGydwk",Ct=wS(ES,AS);class kS{constructor(){xe(this,"gameId",null);xe(this,"gameCode",null)}isAvailable(){return Ct!==null}async createGame(t,n){if(!Ct)return null;try{const{data:r,error:i}=await Ct.from("games").insert({code:t,selected_mode:n,game_started:!1}).select("id").single();return i?(console.error("Error creating game:",i),null):(this.gameId=r.id,this.gameCode=t,console.log(`[Persistence] Game created with ID: ${this.gameId}`),r.id)}catch(r){return console.error("Error creating game:",r),null}}async findGame(t){if(!Ct)return null;try{const{data:n,error:r}=await Ct.from("games").select("*").eq("code",t).single();if(r||!n)return null;const{data:i,error:a}=await Ct.from("players").select("*").eq("game_id",n.id);return a?(console.error("Error fetching players:",a),null):(this.gameId=n.id,this.gameCode=t,{id:n.id,code:n.code,current_turn_id:n.current_turn_id,game_started:n.game_started,selected_mode:n.selected_mode,players:(i||[]).map(o=>({peer_id:o.peer_id,username:o.username,icon:o.icon,position:o.position,balance:o.balance,properties:o.properties,is_in_jail:o.is_in_jail,jail_turns:o.jail_turns,getout_cards:o.getout_cards,is_connected:o.is_connected,is_ready:o.is_ready}))})}catch(n){return console.error("Error finding game:",n),null}}async upsertPlayer(t){if(!Ct||!this.gameId)return!1;try{const{error:n}=await Ct.from("players").upsert({game_id:this.gameId,peer_id:t.peer_id,username:t.username,icon:t.icon,position:t.position,balance:t.balance,properties:t.properties,is_in_jail:t.is_in_jail,jail_turns:t.jail_turns,getout_cards:t.getout_cards,is_connected:t.is_connected,is_ready:t.is_ready},{onConflict:"game_id,username"});return n?(console.error("Error upserting player:",n),!1):!0}catch(n){return console.error("Error upserting player:",n),!1}}async updateGameState(t,n,r){if(!Ct||!this.gameId)return!1;try{const i={current_turn_id:t,game_started:n};r&&(i.selected_mode=r);const{error:a}=await Ct.from("games").update(i).eq("id",this.gameId);return a?(console.error("Error updating game state:",a),!1):!0}catch(i){return console.error("Error updating game state:",i),!1}}async setPlayerDisconnected(t){if(!Ct||!this.gameId)return!1;try{const{error:n}=await Ct.from("players").update({is_connected:!1}).eq("game_id",this.gameId).eq("peer_id",t);return n?(console.error("Error marking player disconnected:",n),!1):!0}catch(n){return console.error("Error marking player disconnected:",n),!1}}async findPlayerByUsername(t){if(!Ct||!this.gameId)return null;try{const{data:n,error:r}=await Ct.from("players").select("*").eq("game_id",this.gameId).eq("username",t).single();return r||!n?null:{peer_id:n.peer_id,username:n.username,icon:n.icon,position:n.position,balance:n.balance,properties:n.properties,is_in_jail:n.is_in_jail,jail_turns:n.jail_turns,getout_cards:n.getout_cards,is_connected:n.is_connected,is_ready:n.is_ready}}catch(n){return console.error("Error finding player:",n),null}}async updatePlayerPeerId(t,n){if(!Ct||!this.gameId)return!1;try{const{error:r}=await Ct.from("players").update({peer_id:n,is_connected:!0}).eq("game_id",this.gameId).eq("username",t);return r?(console.error("Error updating player peer_id:",r),!1):!0}catch(r){return console.error("Error updating player peer_id:",r),!1}}async deleteGame(){if(!Ct||!this.gameId)return!1;try{const{error:t}=await Ct.from("games").delete().eq("id",this.gameId);return t?(console.error("Error deleting game:",t),!1):(this.gameId=null,this.gameCode=null,!0)}catch(t){return console.error("Error deleting game:",t),!1}}getGameId(){return this.gameId}getGameCode(){return this.gameCode}}const hn=new kS;let Kf=class{constructor(t,n,r,i){xe(this,"id");xe(this,"username");xe(this,"icon");xe(this,"position");xe(this,"balance");xe(this,"properties");xe(this,"isInJail");xe(this,"jailTurnsRemaining");xe(this,"getoutCards");this.id=t,this.username=n,this.icon=r,this.position=0,this.balance=i??1500,this.properties=[],this.isInJail=!1,this.jailTurnsRemaining=0,this.getoutCards=0}to_json(){return{id:this.id,username:this.username,icon:this.icon,position:this.position,balance:this.balance,properties:this.properties,isInJail:this.isInJail,jailTurnsRemaining:this.jailTurnsRemaining,getoutCards:this.getoutCards}}from_json(t){this.id==t.id&&(this.position=t.position,this.balance=t.balance,this.properties=t.properties,this.isInJail=t.isInJail,this.jailTurnsRemaining=t.jailTurnsRemaining,this.getoutCards=t.getoutCards)}};async function RS(e,t){const n=e>0?Math.min(e,6):6,r=new Map,i=[];let a="",o=!1,s=Wa[0];function l(g){return{peer_id:g.player.id,username:g.player.username,icon:g.player.icon,position:g.player.position,balance:g.player.balance,properties:g.player.properties,is_in_jail:g.player.isInJail,jail_turns:g.player.jailTurnsRemaining,getout_cards:g.player.getoutCards,is_connected:!0,is_ready:g.ready}}async function c(){for(const g of Array.from(r.values()))await hn.upsertPlayer(l(g))}function u(){const g=new Date,v=String(g.getHours()).padStart(2,"0"),C=String(g.getMinutes()).padStart(2,"0");return`${v}:${C}`}function m(g,v){for(const C of Array.from(r.values()))C.socket.emit(g,v)}function f(g,v,C){for(const _ of Array.from(r.entries()))_[0]!=g&&_[1].socket.emit(v,C)}new yg(async g=>{hn.isAvailable()&&(await hn.createGame(g.code,s),console.log(`[Persistence] Game created: ${g.code}`)),t==null||t(g.code,g)},(g,v)=>{console.log("state",r.size<n&&!o?0:o?1:2),g.emit("state",r.size<n&&!o?0:o?1:2),g.on("rejoin",async C=>{try{const _=await hn.findPlayerByUsername(C.username);if(!_){g.emit("rejoin-failed",{reason:"Player not found in this game"});return}const x=new Kf(g.id,_.username,_.icon,_.balance);x.position=_.position,x.properties=_.properties,x.isInJail=_.is_in_jail,x.jailTurnsRemaining=_.jail_turns,x.getoutCards=_.getout_cards,a===_.peer_id&&(a=g.id),r.set(g.id,{player:x,socket:g,ready:_.is_ready,positions:{x:0,y:0}}),await hn.updatePlayerPeerId(C.username,g.id),v.logFunction(`{${u()}} [${g.id}] Player "${x.username}" has REJOINED.`),i.push(`{${u()}} [${g.id}] Player "${x.username}" has REJOINED.`);const y=[];for(const h of Array.from(r.values()))y.push(h.player.to_json());g.emit("rejoin-success",{turn_id:a,other_players:y,selectedMode:s,gameStarted:o,myPlayer:x.to_json()}),f(g.id,"player-rejoined",{player:x.to_json(),newPeerId:g.id,oldPeerId:_.peer_id})}catch(_){v.logFunction(_),g.emit("rejoin-failed",{reason:"Error during rejoin"})}}),g.on("name",C=>{try{const _=new Kf(g.id,C,Array.from(r.keys()).length,s.startingCash);(a===""||!Array.from(r.keys()).includes(a))&&(a=g.id),r.set(g.id,{player:_,socket:g,ready:!1,positions:{x:0,y:0}}),v.logFunction(`{${u()}} [${g.id}] Player "${_.username}" has connected.`),i.push(`{${u()}} [${g.id}] Player "${_.username}" has connected.`);const x=[];for(const h of Array.from(r.values()))x.push(h.player.to_json());g.emit("initials",{turn_id:a,other_players:x,selectedMode:s}),f(g.id,"new-player",_.to_json());const y=r.get(g.id);y&&hn.upsertPlayer(l(y)),g.on("unjail",h=>{try{m("unjail",{to:_.id,option:h})}catch(p){v.logFunction(p)}}),g.on("roll_dice",()=>{try{const p=Math.floor(Math.random()*6)+1,w=Math.floor(Math.random()*6)+1,S=`{${u()}} [${g.id}] Player "${_.username}" rolled a [${p},${w}].`;i.push(S),v.logFunction(S);const k=p+w;var h=(_.position+k)%40;m("dice_roll_result",{listOfNums:[p,w,h],turnId:a})}catch(p){v.logFunction(p)}}),g.on("chorch_roll",h=>{try{const p=h.is_chance?$t.chance:$t.communitychest,w=p[Math.floor(Math.random()*p.length)];m("chorch_result",{element:w,is_chance:h.is_chance,rolls:h.rolls,turnId:a})}catch(p){v.logFunction(p)}}),g.on("player_update",h=>{const p=r.get(h.playerId);p!==void 0&&(p.player.from_json(h.pJson),f(h.playerId,"player_update",h))}),g.on("finish-turn",h=>{try{if(_.from_json(h),a!=g.id)return;const w=Array.from(r.values()).filter(S=>S.player.balance>0).map(S=>S.player.id);var p=w.indexOf(g.id);p=(p+1)%w.length,a=w[p],m("turn-finished",{from:g.id,turnId:a,pJson:_.to_json(),WinningMode:s.WinningMode}),hn.updateGameState(a,o,s),c()}catch(w){v.logFunction(w)}}),g.on("message",h=>{var p;try{v.logFunction(`{${u()}} [${g.id}] Player "${(p=r.get(g.id))==null?void 0:p.player.username}" has messaged "${h}".`),m("message",{from:_.username,message:h})}catch(w){v.logFunction(w)}}),g.on("pay",h=>{var p,w;try{const S=(p=r.get(h.to))==null?void 0:p.player,k=(w=r.get(h.from))==null?void 0:w.player;if(S===void 0||(S.balance+=h.balance,k===void 0))return;k.balance-=h.balance,m("member_updating",{playerId:h.to,animation:"recieveMoney",additional_props:[h.from],pJson:[S.to_json(),k.to_json()]})}catch(S){v.logFunction(S)}}),g.on("mouse",h=>{const p=r.get(g.id);p!==void 0&&(p.positions=h,r.set(g.id,p),f(g.id,"mouse",{id:g.id,x:h.x,y:h.y}))}),g.on("history",h=>{m("history",h)}),g.on("trade",()=>{s.AllowDeals&&m("trade",{})}),g.on("cancel-trade",()=>{s.AllowDeals&&m("cancel-trade",{})}),g.on("submit-trade",h=>{if(!s.AllowDeals)return;const p=r.get(h.turnPlayer.id),w=r.get(h.againstPlayer.id);if(p===void 0||w===void 0)return;const S=w.player.properties.filter(A=>h.againstPlayer.prop.map(j=>JSON.stringify(j)).includes(JSON.stringify(A)));w.player.properties=w.player.properties.filter(A=>!h.againstPlayer.prop.map(j=>JSON.stringify(j)).includes(JSON.stringify(A)));const k=w.player.properties.filter(A=>h.turnPlayer.prop.map(j=>JSON.stringify(j)).includes(JSON.stringify(A)));p.player.properties=w.player.properties.filter(A=>!h.turnPlayer.prop.map(j=>JSON.stringify(j)).includes(JSON.stringify(A))),w.player.balance-=h.againstPlayer.balance,p.player.balance-=h.turnPlayer.balance,p.player.balance+=h.againstPlayer.balance,w.player.balance+=h.turnPlayer.balance,p.player.properties.push(...S),w.player.properties.push(...k),m("submit-trade",{pJsons:[p.player.to_json(),w.player.to_json()],action:`
                            ${p.player.username} done a trade with ${w.player.username}
                            `})}),g.on("trade-update",h=>{s.AllowDeals&&m("trade-update",h)})}catch(_){v.logFunction(_)}}),g.on("ready",C=>{try{const _=r.get(g.id);if(_===void 0)return;C.ready!==void 0&&(_.ready=C.ready),C.mode!==void 0&&(s=C.mode),r.set(g.id,_),hn.upsertPlayer(l(_));const x=Array.from(r.values()).map(y=>y.ready);m("ready",{id:g.id,state:_.ready,selectedMode:s}),x.includes(!1)||(v.logFunction("Game has Started, No more Players can join the Server"),o=!0,m("start-game",{}),hn.updateGameState(a,o,s),c())}catch(_){v.logFunction(_)}}),g.on("disconnect",()=>{var _,x;try{if(r.has(g.id)&&(v.logFunction(`{${u()}} [${g.id}] Player "${(_=r.get(g.id))==null?void 0:_.player.username}" has disconnected.`),i.push(`{${u()}} [${g.id}] Player "${(x=r.get(g.id))==null?void 0:x.player.username}" has disconnected.`),hn.setPlayerDisconnected(g.id)),r.delete(g.id),a===g.id){const y=Array.from(r.values()).filter(h=>h.player.balance>0).map(h=>h.player.id);var C=y.indexOf(g.id);C=(C+1)%y.length,a=y[C]}m("disconnected-player",{id:g.id,turn:a}),Array.from(r.keys()).length===0&&(o&&v.logFunction("Game has Ended. Server is currently Open to new Players"),o=!1),hn.updateGameState(a,o,s)}catch(y){v.logFunction(y)}})})}class PS{constructor(t,n,r,i){xe(this,"id");xe(this,"username");xe(this,"icon");xe(this,"position");xe(this,"balance");xe(this,"properties");xe(this,"isInJail");xe(this,"jailTurnsRemaining");xe(this,"getoutCards");this.id=t,this.username=n,this.icon=r,this.position=0,this.balance=i??1500,this.properties=[],this.isInJail=!1,this.jailTurnsRemaining=0,this.getoutCards=0}to_json(){return{id:this.id,username:this.username,icon:this.icon,position:this.position,balance:this.balance,properties:this.properties,isInJail:this.isInJail,jailTurnsRemaining:this.jailTurnsRemaining,getoutCards:this.getoutCards}}from_json(t){this.id==t.id&&(this.position=t.position,this.balance=t.balance,this.properties=t.properties,this.isInJail=t.isInJail,this.jailTurnsRemaining=t.jailTurnsRemaining,this.getoutCards=t.getoutCards)}}async function TS(e){console.log(`Max Players is 6...
`);const n=new Map,r=[];let i="",a=!1,o=Wa[0];function s(){const u=new Date,m=String(u.getHours()).padStart(2,"0"),f=String(u.getMinutes()).padStart(2,"0");return`${m}:${f}`}function l(u,m){for(const f of Array.from(n.values()))f.socket.emit(u,m)}function c(u,m,f){for(const g of Array.from(n.entries()))g[0]!=u&&g[1].socket.emit(m,f)}new yg(u=>{e==null||e(u)},(u,m)=>{const f=a?1:n.size>=6?2:0;u.emit("state",f),f===0?(u.on("name",g=>{try{const v=new PS(u.id,g,Array.from(n.keys()).length,o.startingCash);(i===""||!Array.from(n.keys()).includes(i))&&(i=u.id),n.set(u.id,{player:v,socket:u,ready:!1,positions:{x:0,y:0}}),m.logFunction(`{${s()}} [${u.id}] Player "${v.username}" has connected.`),r.push(`{${s()}} [${u.id}] Player "${v.username}" has connected.`);const C=[];for(const _ of Array.from(n.values()))C.push(_.player.to_json());u.emit("initials",{turn_id:i,other_players:C,selectedMode:o}),c(u.id,"new-player",v.to_json()),u.on("unjail",_=>{try{l("unjail",{to:v.id,option:_})}catch(x){m.logFunction(x)}}),u.on("roll_dice",()=>{try{const x=Math.floor(Math.random()*6)+1,y=Math.floor(Math.random()*6)+1,h=`{${s()}} [${u.id}] Player "${v.username}" rolled a [${x},${y}].`;r.push(h),m.logFunction(h);const p=x+y;var _=(v.position+p)%40;l("dice_roll_result",{listOfNums:[x,y,_],turnId:i})}catch(x){m.logFunction(x)}}),u.on("chorch_roll",_=>{try{const x=_.is_chance?$t.chance:$t.communitychest,y=x[Math.floor(Math.random()*x.length)];l("chorch_result",{element:y,is_chance:_.is_chance,rolls:_.rolls,turnId:i})}catch(x){m.logFunction(x)}}),u.on("player_update",_=>{const x=n.get(_.playerId);x!==void 0&&(x.player.from_json(_.pJson),c(_.playerId,"player_update",_))}),u.on("finish-turn",_=>{try{if(v.from_json(_),i!=u.id)return;const y=Array.from(n.values()).filter(h=>h.player.balance>0).map(h=>h.player.id);var x=y.indexOf(u.id);x=(x+1)%y.length,i=y[x],l("turn-finished",{from:u.id,turnId:i,pJson:v.to_json(),WinningMode:o.WinningMode})}catch(y){m.logFunction(y)}}),u.on("message",_=>{var x;try{m.logFunction(`{${s()}} [${u.id}] Player "${(x=n.get(u.id))==null?void 0:x.player.username}" has messaged "${_}".`),l("message",{from:v.username,message:_})}catch(y){m.logFunction(y)}}),u.on("pay",_=>{var x,y;try{const h=(x=n.get(_.to))==null?void 0:x.player,p=(y=n.get(_.from))==null?void 0:y.player;if(h===void 0||(h.balance+=_.balance,p===void 0))return;p.balance-=_.balance,l("member_updating",{playerId:_.to,animation:"recieveMoney",additional_props:[_.from],pJson:[h.to_json(),p.to_json()]})}catch(h){m.logFunction(h)}}),u.on("mouse",_=>{const x=n.get(u.id);x!==void 0&&(x.positions=_,n.set(u.id,x),c(u.id,"mouse",{id:u.id,x:_.x,y:_.y}))}),u.on("history",_=>{l("history",_)}),u.on("trade",()=>{o.AllowDeals&&l("trade",{})}),u.on("cancel-trade",()=>{o.AllowDeals&&l("cancel-trade",{})}),u.on("submit-trade",_=>{if(!o.AllowDeals)return;const x=n.get(_.turnPlayer.id),y=n.get(_.againstPlayer.id);if(x===void 0||y===void 0)return;const h=y.player.properties.filter(w=>_.againstPlayer.prop.map(S=>JSON.stringify(S)).includes(JSON.stringify(w)));y.player.properties=y.player.properties.filter(w=>!_.againstPlayer.prop.map(S=>JSON.stringify(S)).includes(JSON.stringify(w)));const p=y.player.properties.filter(w=>_.turnPlayer.prop.map(S=>JSON.stringify(S)).includes(JSON.stringify(w)));x.player.properties=y.player.properties.filter(w=>!_.turnPlayer.prop.map(S=>JSON.stringify(S)).includes(JSON.stringify(w))),y.player.balance-=_.againstPlayer.balance,x.player.balance-=_.turnPlayer.balance,x.player.balance+=_.againstPlayer.balance,y.player.balance+=_.turnPlayer.balance,x.player.properties.push(...h),y.player.properties.push(...p),l("submit-trade",{pJsons:[x.player.to_json(),y.player.to_json()],action:`
                            ${x.player.username} done a trade with ${y.player.username}
                            `})}),u.on("trade-update",_=>{o.AllowDeals&&l("trade-update",_)})}catch(v){m.logFunction(v)}}),u.on("ready",g=>{try{const v=n.get(u.id);if(v===void 0)return;g.ready!==void 0&&(v.ready=g.ready),g.mode!==void 0&&(o=g.mode),n.set(u.id,v);const C=Array.from(n.values()).map(_=>_.ready);l("ready",{id:u.id,state:v.ready,selectedMode:o}),C.includes(!1)||(m.logFunction("Game has Started, No more Players can join the Server"),a=!0,l("start-game",{}))}catch(v){m.logFunction(v)}})):u.disconnect(),u.on("disconnect",()=>{var v,C;try{if(n.has(u.id)&&(m.logFunction(`{${s()}} [${u.id}] Player "${(v=n.get(u.id))==null?void 0:v.player.username}" has disconnected.`),r.push(`{${s()}} [${u.id}] Player "${(C=n.get(u.id))==null?void 0:C.player.username}" has disconnected.`)),n.delete(u.id),i===u.id){const _=Array.from(n.values()).filter(x=>x.player.balance>0).map(x=>x.player.id);var g=_.indexOf(u.id);g=(g+1)%_.length,i=_[g]}l("disconnected-player",{id:u.id,turn:i}),Array.from(n.keys()).length===0&&(a&&m.logFunction("Game has Ended. Server is currently Open to new Players"),a=!1)}catch(_){m.logFunction(_)}})})}async function DS(e,t){const n=await ku(e),r=new Map($t.properties.map(h=>[h.posistion??0,h]));let i=new Map,a=Wa[0];const o={diceResults:h=>{setTimeout(()=>{h.onDone()},h.time)},setStreet:h=>{const p=i.get(n.id),w=r.get(h.location);if(w&&h.location!==-1&&h.location<40&&h.location>=0){let j=function(P,R,D){if(P){let E=function(U){switch(U){case"h":return 5;default:return U}};const J=r.get(R);if(!J||p===void 0)return;const K=Array.from(new Map(p.properties.map((U,T)=>[T,U])).entries()).filter(U=>U[1].posistion===h.location)[0][0],z=["continue"],F={},H=E(p.properties[K].count);for(let U=H+1;U<6;U++){const T=`${U}houses${U>1?"s":""}`;(U-H)*(J.housecost??0)>p.balance||(z.push(T),F[T]=()=>{h.onResponse("advance-buy",{state:U,money:U-H})})}return{actions:z,action(U){U==="continue"?h.onResponse("nothing",{}):U==="hotel"?h.onResponse("advance-buy",{state:5,money:1}):typeof U=="string"&&Object.keys(F).includes(U)?F[U]():h.onResponse("nothing",{})}}}else return{actions:["buy","cancel"],action(E){E==="buy"?D!==void 0?h.onResponse("special_action",{rolls:D.rolls}):h.onResponse("buy",{}):h.onResponse("nothing",{})}}};var S=!1,k=!1,A=0;if(p===void 0)return;for(const P of p.properties)!S&&P.posistion===h.location&&(S=!0,A=P.count);const b=Array.from(i.values());for(const P of b)for(const R of P.properties)R.posistion===h.location&&P.id!=p.id&&(k=!0);if(w.group==="Special")h.onResponse("nothing",{});else if(w.group==="Utilities")if(S)h.onResponse("nothing",{});else if(k){h.onResponse("someones",{});return}else if(p.balance-((w==null?void 0:w.price)??0)<0){h.onResponse("nothing",{});return}else return j(!1,h.location,{rolls:h.rolls});else if(w.group==="Railroad")if(S)h.onResponse("nothing",{});else if(k){h.onResponse("someones",{});return}else if(p.balance-((w==null?void 0:w.price)??0)<0){h.onResponse("nothing",{});return}else return j(!1,h.location);else{if(!S&&p.balance-((w==null?void 0:w.price)??0)<0){h.onResponse("nothing",{});return}if(!S){if(k){h.onResponse("someones",{});return}}if(S&&A==="h"){h.onResponse("nothing",{});return}return j(S,h.location)}}else h.onResponse("nothing",{})}},s=h=>{h.turn_id.toString();for(const p of h.other_players)i.set(p.id,new ki(p.id,p.username).recieveJson(p));a=h.selectedMode},l=h=>{i.set(h.id,new ki(h.id,h.username).recieveJson(h))},c=h=>{const p=i.get(h.id);p!==void 0&&(p.ready=h.state,i.set(p.id,p),a=h.selectedMode)},u=h=>{h.turn,i.delete(h.id)},m=h=>{const p=i.get(h.from);if(h.from!==n.id&&p&&(p.recieveJson(h.pJson),i.set(h.from,p)),h.turnId,h.turnId===n.id){const w=i.get(h.turnId);setTimeout(()=>{n.emit("roll_dice"),w&&w.isInJail},Math.round(Math.random()*1e3))}};function f(h,p,w=!0,S,k=!0){var A=(h-p.position)%40;(h<p.position||A<0)&&k&&(A=40-p.position+h),k||(A=p.position-h,A<0&&(A+=40));const j=.35*1e3*A;console.log(`${t.name}`,`${new Date().toTimeString()} generator ${Math.random()} target ${h} time ${j} current ${p.position}`);function b(){var P=0,R=!1,D=0;P=p.position,p.position+=1;const E=()=>{D<A&&(D+=1,p.position=(p.position+(k?1:-1))%40,p.position==0&&w&&(p.balance+=200,R=!0,i.set(p.id,p)),D==A-1?(p.position=h,!R&&P>p.position&&w&&(p.balance+=200,R=!0,i.set(p.id,p)),S&&S()):setTimeout(E,.35*1e3))};setTimeout(E,.35*1e3)}return{func:b,time:j}}const g=h=>{const p=i.get(n.id),w=i.get(h.turnId),S=f(h.listOfNums[2],w,!0,()=>{h.turnId!=n.id&&h.listOfNums[2]===30&&setTimeout(()=>{f(10,w,!1,()=>{w.position=10,w.isInJail=!0,w.jailTurnsRemaining=3}).func()},800)});o.diceResults({l:[h.listOfNums[0],h.listOfNums[1]],time:p.isInJail?2e3:S.time+2e3+800,onDone:()=>{var j;if(n.id!==h.turnId)return;const k=((j=i.get(n.id))==null?void 0:j.position)??-1,A=r.get(k);if(A!=null)if(A.id==="communitychest"||A.id==="chance")n.emit("chorch_roll",{is_chance:A.id==="chance",rolls:h.listOfNums[0]+h.listOfNums[1]});else{const b=o.setStreet({location:k,rolls:h.listOfNums[1]+h.listOfNums[0],onResponse:(P,R)=>{var J,K,z,F,H,U,T,O;var D=0;if(P==="buy")p.balance-=((A==null?void 0:A.price)??0)*1,p.properties.push({posistion:p.position,count:0,group:((J=r.get(p.position))==null?void 0:J.group)??""}),n.emit("history",Pe(`${((K=i.get(n.id))==null?void 0:K.username)??"unknown player"} bought ${A.name}`));else if(P==="advance-buy"){const $=Array.from(new Map(p.properties.map((W,ce)=>[ce,W])).entries()).filter(W=>W[1].posistion===k)[0][0],B=R;p.properties[$].count=B.state===5?"h":B.state,B.state===5?p.balance-=A.ohousecost??0:p.balance-=(A.housecost??0)*B.money,n.emit("history",Pe(`${((z=i.get(n.id))==null?void 0:z.username)??"unknown player"} advanced ${A.name}`))}else if(P==="someones"){const $=Array.from(i.values());for(const B of $)for(const W of B.properties)if(W.posistion===k){var E=0;if(A.group==="Utilities"&&W.rent){const ce=B.properties.filter(he=>he.group==="Utilities").length===2?10:4;E=W.rent*ce}else if(A.group==="Railroad"){const ce=B.properties.filter(ne=>ne.group==="Railroad").filter(ne=>ne.morgage===void 0||ne.morgage!==void 0&&ne.morgage===!1).length;E=[0,25,50,100,200][ce]}else W.count===0?E=(A==null?void 0:A.rent)??0:typeof W.count=="number"&&W.count>0?E=((A==null?void 0:A.multpliedrent)??[0,0,0,0])[W.count-1]??0:W.count==="h"&&(E=((A==null?void 0:A.multpliedrent)??[0,0,0,0,0])[4]??0);(W.morgage===void 0||W.morgage!==void 0&&W.morgage===!1)&&(p.balance-=E),n.emit("pay",{balance:E,from:n.id,to:B.id}),n.emit("history",Pe(`
                                                ${((F=i.get(n.id))==null?void 0:F.username)??"unknown user"} pay ${E} to ${((H=i.get(B.id))==null?void 0:H.username)??"unknown user"}
                                                `))}}else if(P==="nothing"){if(((A==null?void 0:A.id)??"")=="gotojail"){const $=f(10,w,!1,()=>{w.position=10,w.isInJail=!0,w.jailTurnsRemaining=3});D=$.time,$.func()}(A==null?void 0:A.id)==="incometax"&&(p.balance-=200,n.emit("history",Pe(`${((U=i.get(n.id))==null?void 0:U.username)??"unknown player"} payed income taxes`))),(A==null?void 0:A.id)==="luxerytax"&&(p.balance-=100,n.emit("history",Pe(`${((T=i.get(n.id))==null?void 0:T.username)??"unknown player"} payed luxery taxes`)))}else if(P==="special_action"){p.balance-=((A==null?void 0:A.price)??0)*1;const $=R,B=r.get(p.position),W=$.rolls;p.properties.push({posistion:p.position,count:0,rent:W,group:(B==null?void 0:B.group)??""}),n.emit("history",Pe(`${((O=i.get(n.id))==null?void 0:O.username)??"unknown player"} bought ${(B==null?void 0:B.name)??"unkown place"} with rent of ${W}`))}setTimeout(()=>{i.set(n.id,p);const $=i.get(n.id).toJson();n.emit("finish-turn",$)},D)}});b==null||b.action(b.actions[Math.floor(Math.random()*b.actions.length)])}}}),w.isInJail?setTimeout(()=>{h.listOfNums[0]==h.listOfNums[1]?(w.isInJail=!1,setTimeout(()=>{S.func()},2e3)):w.jailTurnsRemaining>0&&(w.jailTurnsRemaining-=1,w.jailTurnsRemaining===0&&(w.isInJail=!1)),i.set(h.turnId,w)},1500):setTimeout(()=>{S.func()},2e3)},v=h=>{const p=i.get(h.to);p&&(h.option==="card"?p.getoutCards-=1:p.balance-=50,p.isInJail=!1,p.jailTurnsRemaining=0,i.set(h.to,p))},C=h=>{for(const p of h.pJson){const w=i.get(p.id);p.position=(w==null?void 0:w.position)??p.position,w==null||w.recieveJson(p)}},_=h=>{setTimeout(()=>{var P;const w=h.element,S=i.get(h.turnId);if(S===void 0)return;function k(R){var E,J;if(S===void 0)return 0;const D=Array.from(i.values()).filter(K=>K.id!==S.id);S.id===n.id&&(R>0?n.emit("history",Pe(`${S.username??"unknown user"} gave ${R} money to [${D.map(K=>K.username).join(", ")}]`)):n.emit("history",Pe(`${S.username??"unknown user"} recieve ${-R} money from [${D.map(K=>K.username).join(", ")}]`)));for(const K of D)K.balance+=R,i.set(K.id,K),S.id===n.id&&(R>0?n.emit("pay",{balance:R,from:n.id,to:K.id}):(n.emit("pay",{balance:R,from:K.id,to:n.id}),n.emit("history",Pe(`
                            ${((E=i.get(n.id))==null?void 0:E.username)??"unknown user"} pay ${b} to ${((J=i.get(S.id))==null?void 0:J.username)??"unknown user"}
                            `))));return D.length}var A=0;switch(w.action){case"move":if(w.tileid){const F=(P=new Map($t.properties.map(U=>[U.id,U])).get(w.tileid))==null?void 0:P.posistion;if(F===void 0)break;const H=f(F,S);A=H.time,H.func()}else if(w.count){const z=f((S.position+w.count)%40,S,!0,()=>{},w.count>=0);A=z.time,z.func()}break;case"addfunds":S.balance+=w.amount??0;break;case"jail":if(w.subaction!==void 0){switch(w.subaction){case"getout":S.getoutCards+=1;break;case"goto":const z=f(10,S,!1,()=>{S.position=10,S.isInJail=!0,S.jailTurnsRemaining=3});A=z.time,z.func();break}i.set(S.id,S)}break;case"removefunds":S.balance-=w.amount??0;break;case"removefundstoplayers":k(w.amount??0);break;case"addfundsfromplayers":k(-(w.amount??0));break;case"movenearest":let R=function(z,F){z.sort((H,U)=>H-U);for(let H=0;H<z.length;H++)if(z[H]>F)return z[H];return z[0]};if(!w.groupid)return;var j="";w.groupid==="utility"?j="Utilities":j="Railroad";const D=$t.properties.filter(z=>z.group===j).map(z=>z.posistion),E=R(D,S.position),J=f(E,S);A=-1,J.func(),setTimeout(()=>{if(S.id===n.id){const z=(S==null?void 0:S.position)??-1,F=r.get(z);F!==void 0&&o.setStreet({location:z,rolls:h.rolls,onResponse:(H,U)=>{var O,$,B,W,ce;if(H==="buy"){S.balance-=((F==null?void 0:F.price)??0)*1;const he=r.get(S.position);S.properties.push({posistion:S.position,count:0,group:(he==null?void 0:he.group)??""}),i.set(n.id,S);const ne=i.get(n.id).toJson();n.emit("finish-turn",ne),n.emit("history",Pe(`${((O=i.get(n.id))==null?void 0:O.username)??"unknown player"} bought ${(he==null?void 0:he.name)??"unkown place"}`))}else if(H==="special_action"){console.log(`${t.name}`,U),S.balance-=((F==null?void 0:F.price)??0)*1;const ne=U.rolls,ye=r.get(S.position);S.properties.push({posistion:S.position,count:0,rent:ne,group:(ye==null?void 0:ye.group)??""}),i.set(n.id,S);const be=i.get(n.id).toJson();n.emit("finish-turn",be),n.emit("history",Pe(`${(($=i.get(n.id))==null?void 0:$.username)??"unknown player"} bought ${(ye==null?void 0:ye.name)??"unkown place"} with rent of ${ne}`))}else if(H==="someones"){const he=Array.from(i.values());for(const ne of he)for(const ye of ne.properties)if(ye.posistion===z){var T=0;if(F.group==="Utilities"&&ye.rent){const be=[Math.floor(Math.random()*6)+1,Math.floor(Math.random()*6)+1];n.emit("history",Pe(`${((B=i.get(n.id))==null?void 0:B.username)??"unknown player"} rolled [${be[0]}, ${be[1]}]`)),o.diceResults({l:[be[0],be[1]],time:2e3,onDone:()=>{var Ht,Ve;T=(be[0]+be[1])*(w.rentmultiplier??1),S.balance-=T,n.emit("pay",{balance:T,from:n.id,to:ne.id}),n.emit("history",Pe(`${((Ht=i.get(n.id))==null?void 0:Ht.username)??"unknown player"} pay ${T} to ${((Ve=i.get(ne.id))==null?void 0:Ve.username)??"unknown player"}`)),i.set(n.id,S);const Ot=i.get(n.id).toJson();n.emit("finish-turn",Ot)}})}else if(F.group==="Railroad"){const be=ne.properties.filter(Ve=>Ve.group==="Railroad").filter(Ve=>Ve.morgage===void 0||Ve.morgage!==void 0&&Ve.morgage===!1).length;T=[0,25,50,100,200][be]*(w.rentmultiplier??1),(ye.morgage===void 0||ye.morgage!==void 0&&ye.morgage===!1)&&(S.balance-=T),n.emit("pay",{balance:T,from:n.id,to:ne.id}),n.emit("history",Pe(`${((W=i.get(n.id))==null?void 0:W.username)??"unknown player"} pay ${T} to ${((ce=i.get(ne.id))==null?void 0:ce.username)??"unknown player"}`)),i.set(n.id,S);const Ht=i.get(n.id).toJson();n.emit("finish-turn",Ht)}}}else{const he=i.get(n.id).toJson();n.emit("finish-turn",he)}}})}},J.time);break;case"propertycharges":let K=function(z){for(const F of z);return 1};var b=(w.buildings??1)*K(S.properties.filter(z=>typeof z.count=="number").map(z=>z.count))+(w.hotels??1)*S.properties.filter(z=>z.count==="h").length;console.log(`${t.name}`,`
${(w.buildings??1)*K(S.properties.filter(z=>typeof z.count=="number").map(z=>z.count))} + 
${(w.hotels??1)*S.properties.filter(z=>z.count==="h").length} 
which is ${b}
                    `),S.balance-=b,i.set(S.id,S);break}A>=0&&setTimeout(()=>{i.set(S.id,S),S.id===n.id&&n.emit("finish-turn",i.get(n.id).toJson())},A)},3e3)};function x(h){const p=i.get(h.id);p!==void 0&&(p.positions={x:h.x,y:h.y},i.set(h.id,p))}function y(h){const p=i.get(h.playerId);p!==void 0&&p.recieveJson(h.pJson)}n.on("initials",s),n.on("new-player",l),n.on("ready",c),n.on("disconnected-player",u),n.on("turn-finished",m),n.on("dice_roll_result",g),n.on("unjail",v),n.on("member_updating",C),n.on("chorch_result",_),n.on("mouse",x),n.on("disconnect",()=>{console.log(`${t.name}`,"bot disconnected")}),n.on("player_update",y),n.on("trade",()=>{a.AllowDeals}),n.on("cancel-trade",()=>{a.AllowDeals}),n.on("trade-update",h=>{a.AllowDeals}),n.on("submit-trade",h=>{if(a.AllowDeals)for(const p of h.pJsons){const w=i.get(p.id);w!==void 0&&w.recieveJson(p)}}),n.emit("name",`${t.name}`),n.emit("ready",{ready:!0})}function jS(){var e;try{const A=yt.get("monopolySettings");if(A===null)throw new Error("no cookie");e=JSON.parse(decodeURIComponent(A))}catch{e={login:{remember:!1,id:""}},yt.set("monopolySettings",encodeURIComponent(JSON.stringify(e)))}const t=L.useRef(null),[n,r]=L.useState(),[i,a]=L.useState(""),[o,s]=L.useState(""),[l,c]=L.useState(e.login.remember),[u,m]=L.useState(),[f,g]=L.useState(!1),[v,C]=L.useState(!1),[_,x]=L.useState(0),[y,h]=L.useState(void 0),[p,w]=L.useState(6);L.useEffect(()=>{document.title="Monopoly";var A;try{A=JSON.parse(decodeURIComponent(yt.get("monopolySettings"))),A.login.remember&&A.login.id.length>0}catch{}},[]);const S=async(A=!1)=>{var D,E;if(i.replace(" ","").length===0){(D=t.current)==null||D.message("please add your name before joining","info",2);return}try{const J=JSON.parse(decodeURIComponent(yt.get("monopolySettings")));if(u===void 0)throw Error("undefined");J.login={id:u.id,remember:l},yt.set("monopolySettings",encodeURIComponent(JSON.stringify(J)))}catch{const J={login:{id:"",remember:!1}};yt.set("monopolySettings",encodeURIComponent(JSON.stringify(J)))}g(!0);const j=Xo(o);var b;const P=await hn.findGame(o),R=A||P&&P.game_started&&P.players.some(J=>J.username===i&&!J.is_connected);try{b=await ku(j),b.on("rejoin-success",J=>{console.log("Rejoin successful!",J),r(b),C(!0),g(!1)}),b.on("rejoin-failed",J=>{console.log("Rejoin failed:",J.reason),b.emit("name",i)}),b.on("state",J=>{var K,z,F;switch(console.log("state",J),J){case 0:r(b),C(!0),g(!1);break;case 1:R?b.emit("rejoin",{username:i}):((K=t.current)==null||K.message("the game has already begun. Try rejoining with the same name.","error",3,()=>{g(!1)}),b.disconnect());break;case 2:(z=t.current)==null||z.message("too many players on the server","error",2,()=>{g(!1)}),b.disconnect();break;default:(F=t.current)==null||F.message("unknown error","error",2,()=>{g(!1)}),b.disconnect();break}})}catch{(E=t.current)==null||E.message(`Could not connect to peer ${o}`,"error",2,()=>{g(!1)})}};L.useEffect(()=>{const A=new URLSearchParams(document.location.search);A.has("ip")&&s(A.get("ip")??"")},[]);function k(A){var j;try{if(i.replace(" ","").length===0){(j=t.current)==null||j.message("please add your name before joining","info",2);return}TS(async b=>{g(!0);const P=await ku(Xo(b.code));for(const R of A)DS(Xo(b.code),R);P.on("state",R=>{var D,E,J;switch(R){case 0:r(P),C(!0),h(b),g(!1);break;case 1:(D=t.current)==null||D.message("the game has already begun","error",2,()=>{g(!1)}),P.disconnect();break;case 2:(E=t.current)==null||E.message("too many players on the server","error",2,()=>{g(!1)}),P.disconnect();break;default:(J=t.current)==null||J.message("unkown error","error",2,()=>{g(!1)}),P.disconnect();break}})})}catch{g(!1)}}return n!==void 0&&v===!0?d.jsx(zC,{socket:n,name:i,server:y}):d.jsxs(d.Fragment,{children:[d.jsx(_y,{ref:t}),d.jsxs("div",{className:"entry",children:[d.jsxs("nav",{children:[d.jsx("button",{"data-select":_===0,onClick:()=>{x(0)},"data-tooltip-hover":"play",children:d.jsx("img",{src:"./icon.png",alt:""})}),d.jsx("button",{"data-select":_===1,onClick:()=>{x(1)},"data-tooltip-hover":"server",children:d.jsx("img",{src:"./server.png",alt:""})}),d.jsx("button",{"data-select":_===2,onClick:()=>{x(2)},disabled:!0,"data-tooltip-hover":"account",children:d.jsx("img",{src:"./human.png",alt:""})}),d.jsx("br",{}),d.jsx("button",{"data-select":_===3,onClick:()=>{x(3)},"data-tooltip-hover":"credits",children:d.jsx("img",{src:"./credits.png",alt:""})}),d.jsx("button",{"data-select":_===4,onClick:()=>{x(4)},"data-tooltip-hover":"monopolySettings",children:d.jsx("img",{src:"./settings.png",alt:""})})]}),d.jsx("main",{children:_===4?d.jsx(Cy,{}):_===3?d.jsxs(d.Fragment,{children:[d.jsx("p",{children:"This Project was made by Itay Layzerovich"}),d.jsxs("div",{style:{color:"white"},children:[d.jsx("p",{children:" As the developer of this Monopoly game project, it is essential to clarify the following legal aspects: "}),d.jsxs("ol",{children:[d.jsxs("li",{children:[d.jsx("i",{children:"Game Mechanics and Rules:"})," The game mechanics and rules of Monopoly have been widely known and played for many years. This project aims to offer a digital rendition of the classic Monopoly experience, utilizing original concepts that have become common knowledge."]}),d.jsxs("li",{children:[" ",d.jsx("i",{children:"Original Monopoly Intellectual Property:"}),"The Monopoly board game is a registered trademark and copyrighted property of Hasbro Inc. and its respective licensors. This project is not an official representation or product of Hasbro Inc., and no direct affiliation or endorsement is implied."]}),d.jsxs("li",{children:[d.jsx("i",{children:"License and Usage:"})," This Monopoly game project is developed with the intent of being an educational and personal project. It is offered as a free-to-use, open-source initiative for learning purposes, and no commercial use or distribution is intended."]}),d.jsxs("li",{children:[d.jsx("i",{children:"Fair Use and Transformative Work:"}),'This project may fall under the category of "fair use" as it is a transformative work that provides a unique digital experience based on the original Monopoly game. It is not intended to compete with or harm the commercial interests of the original trademark owner.']}),d.jsxs("li",{children:[d.jsx("i",{children:"No Warranty or Liability:"})," While efforts have been made to create an enjoyable and bug-free experience, this project is provided as-is without any warranty. The developer shall not be liable for any issues or damages arising from the use of this software."]}),d.jsxs("li",{children:[d.jsx("i",{children:"Attribution:"})," This project may include third-party libraries or assets that are appropriately credited and licensed under their respective terms. Any attributions and licenses should be preserved as required by the respective authors."]}),d.jsxs("li",{children:[d.jsx("i",{children:"Personal Responsibility:"})," As the developer, you are responsible for complying with all applicable laws, including intellectual property laws, and ensuring that your usage of this project is within legal boundaries."]})]})]})]}):_===1?d.jsxs(d.Fragment,{children:[d.jsxs("header",{children:[d.jsx("p",{style:{fontSize:12,marginBottom:0},children:"peerjs hosting"}),d.jsx("h3",{children:"Run A Server"})]}),y!==void 0?d.jsxs(d.Fragment,{children:[d.jsx("p",{children:"server is already running, check the console."}),d.jsx("table",{children:d.jsxs("tr",{children:[d.jsx("td",{children:"Code"}),d.jsx("td",{style:{userSelect:"all"},children:y.code})]})}),d.jsxs("center",{children:[" ",d.jsx("button",{style:{backgroundColor:"red",marginTop:12},onClick:()=>{y.stop(),h(void 0)},children:"Kill Server"},"kllserver-button")]})]}):d.jsxs(d.Fragment,{children:[d.jsx("p",{children:"all the servers logs will can be seen in the console"}),d.jsx("table",{children:d.jsxs("tr",{children:[d.jsx("td",{children:"PlayersCount"}),d.jsx("td",{children:d.jsx(jr,{onChange:A=>{w(parseInt(A.currentTarget.value))},max:6,min:1,defaultValue:p,step:1})})]})}),d.jsxs("center",{children:[" ",d.jsx("button",{style:{marginTop:13},onClick:A=>{A.currentTarget.disabled=!0,A.currentTarget.innerHTML="Starting Server",RS(p,(j,b)=>{b.code=j,s(j),h(b);try{A.currentTarget.disabled=!1}catch{}})},children:"Run Server"},"startserver-button")]})]})]}):d.jsxs(d.Fragment,{children:[d.jsxs("header",{children:["Welcome to the ",d.jsx("h3",{children:"MONOPOLY"})," ",d.jsx("p",{style:{fontSize:9,cursor:"pointer",opacity:.8,width:"fit-content"},onClick:()=>{document.location.href="/"},children:"@itaylayzer - 10.12.23"})," ","Game"]}),d.jsx(G_,{disabled:f,fbUser:u,joinBots:A=>{k(A)},joinViaCode:()=>{S()},SetAddress:s,SetName:a,addr:o,name:i})]})})]})]})}function BS(){L.useEffect(()=>{document.title="Monopoly Users"},[]);const[e,t]=L.useState(0);return d.jsxs("main",{className:"users",children:[d.jsxs("nav",{children:[d.jsx("button",{"data-select":e===0,onClick:()=>{t(0)},children:"Friends"}),d.jsx("button",{"data-select":e===1,onClick:()=>{t(1)},children:"Leaderboard"})]}),d.jsx("main",{})]})}const FS=gC([{path:"Monopoly",element:d.jsx(jS,{})},{path:"Monopoly/gallery",element:d.jsx(CC,{})},{path:"/Monopoly/users",element:d.jsx(BS,{})}]);function MS(){return d.jsx(fC,{router:FS})}document.title="Monopoly";xc.createRoot(document.getElementById("root")).render(d.jsx(MS,{}));
